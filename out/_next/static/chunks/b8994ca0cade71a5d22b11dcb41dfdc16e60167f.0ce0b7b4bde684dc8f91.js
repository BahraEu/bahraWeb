(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[11],{SLVX:function(t,e,r){"use strict";function n(t){var e,r=t.Symbol;return"function"===typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}r.d(e,"a",(function(){return n}))},Uuew:function(t,e,r){"use strict";r.r(e),r.d(e,"ApolloConsumer",(function(){return p})),r.d(e,"ApolloProvider",(function(){return l})),r.d(e,"getApolloContext",(function(){return a})),r.d(e,"resetApolloContext",(function(){return u})),r.d(e,"Mutation",(function(){return q})),r.d(e,"Query",(function(){return R})),r.d(e,"Subscription",(function(){return k})),r.d(e,"graphql",(function(){return T})),r.d(e,"withApollo",(function(){return z})),r.d(e,"withMutation",(function(){return F})),r.d(e,"withQuery",(function(){return L})),r.d(e,"withSubscription",(function(){return N})),r.d(e,"useApolloClient",(function(){return K})),r.d(e,"useLazyQuery",(function(){return B})),r.d(e,"useMutation",(function(){return G})),r.d(e,"useQuery",(function(){return W})),r.d(e,"useSubscription",(function(){return H})),r.d(e,"getDataFromTree",(function(){return Y})),r.d(e,"getMarkupFromTree",(function(){return $})),r.d(e,"renderToStringWithData",(function(){return Z}));var n,i=r("q1tI"),o=r.n(i),s=r("qVdT");function a(){return n||(n=o.a.createContext({})),n}function u(){n=o.a.createContext({})}var c,l=function(t){var e=t.client,r=t.children,n=a();return o.a.createElement(n.Consumer,null,(function(t){return void 0===t&&(t={}),e&&t.client!==e&&(t=Object.assign({},t,{client:e})),Object(s.b)(t.client,5),o.a.createElement(n.Provider,{value:t},r)}))},p=function(t){var e=a();return o.a.createElement(e.Consumer,null,(function(e){return Object(s.b)(e&&e.client,6),t.children(e.client)}))};!function(t){t[t.Query=0]="Query",t[t.Mutation=1]="Mutation",t[t.Subscription=2]="Subscription"}(c||(c={}));var h=new Map;function b(t){var e;switch(t){case c.Query:e="Query";break;case c.Mutation:e="Mutation";break;case c.Subscription:e="Subscription"}return e}function f(t){var e,r,n=h.get(t);if(n)return n;Object(s.b)(!!t&&!!t.kind,1);var i=t.definitions.filter((function(t){return"FragmentDefinition"===t.kind})),o=t.definitions.filter((function(t){return"OperationDefinition"===t.kind&&"query"===t.operation})),a=t.definitions.filter((function(t){return"OperationDefinition"===t.kind&&"mutation"===t.operation})),u=t.definitions.filter((function(t){return"OperationDefinition"===t.kind&&"subscription"===t.operation}));Object(s.b)(!i.length||o.length||a.length||u.length,2),Object(s.b)(o.length+a.length+u.length<=1,3),r=o.length?c.Query:c.Mutation,o.length||a.length||(r=c.Subscription);var l=o.length?o:a.length?a:u;Object(s.b)(1===l.length,4);var p=l[0];e=p.variableDefinitions||[];var b={name:p.name&&"Name"===p.name.kind?p.name.value:"data",type:r,variables:e};return h.set(t,b),b}var d=r("mrSG"),v=r("dMq0"),y=r("qx2n"),O=function(){function t(t,e){this.isMounted=!1,this.previousOptions={},this.context={},this.options={},this.options=t||{},this.context=e||{}}return t.prototype.getOptions=function(){return this.options},t.prototype.setOptions=function(t,e){void 0===e&&(e=!1),e&&!Object(y.a)(this.options,t)&&(this.previousOptions=this.options),this.options=t},t.prototype.unmount=function(){this.isMounted=!1},t.prototype.refreshClient=function(){var t=this.options&&this.options.client||this.context&&this.context.client;Object(s.b)(!!t,2);var e=!1;return t!==this.client&&(e=!0,this.client=t,this.cleanup()),{client:this.client,isNew:e}},t.prototype.verifyDocumentType=function(t,e){var r=f(t);b(e),b(r.type);Object(s.b)(r.type===e,3)},t}(),g=function(t){function e(e){var r=e.options,n=e.context,i=e.onNewData,o=t.call(this,r,n)||this;return o.previousData={},o.currentObservable={},o.runLazy=!1,o.runLazyQuery=function(t){o.cleanup(),o.runLazy=!0,o.lazyOptions=t,o.onNewData()},o.getExecuteResult=function(){var t=o.getQueryResult();return o.startQuerySubscription(),t},o.obsRefetch=function(t){return o.currentObservable.query.refetch(t)},o.obsFetchMore=function(t){return o.currentObservable.query.fetchMore(t)},o.obsUpdateQuery=function(t){return o.currentObservable.query.updateQuery(t)},o.obsStartPolling=function(t){o.currentObservable&&o.currentObservable.query&&o.currentObservable.query.startPolling(t)},o.obsStopPolling=function(){o.currentObservable&&o.currentObservable.query&&o.currentObservable.query.stopPolling()},o.obsSubscribeToMore=function(t){return o.currentObservable.query.subscribeToMore(t)},o.onNewData=i,o}return Object(d.c)(e,t),e.prototype.execute=function(){this.refreshClient();var t=this.getOptions(),e=t.skip,r=t.query;return(e||r!==this.previousData.query)&&(this.removeQuerySubscription(),this.previousData.query=r),this.updateObservableQuery(),this.isMounted&&this.startQuerySubscription(),this.getExecuteSsrResult()||this.getExecuteResult()},e.prototype.executeLazy=function(){return this.runLazy?[this.runLazyQuery,this.execute()]:[this.runLazyQuery,{loading:!1,networkStatus:v.NetworkStatus.ready,called:!1,data:void 0}]},e.prototype.fetchData=function(){var t=this.getOptions();if(t.skip||!1===t.ssr)return!1;var e=this.currentObservable.query;return!!e.getCurrentResult().loading&&e.result()},e.prototype.afterExecute=function(t){var e=(void 0===t?{}:t).lazy,r=void 0!==e&&e;return this.isMounted=!0,r&&!this.runLazy||this.handleErrorOrCompleted(),this.previousOptions=this.getOptions(),this.unmount.bind(this)},e.prototype.cleanup=function(){this.removeQuerySubscription(),delete this.currentObservable.query,delete this.previousData.result},e.prototype.getOptions=function(){var e=t.prototype.getOptions.call(this);return this.lazyOptions&&(e.variables=Object(d.a)(Object(d.a)({},e.variables),this.lazyOptions.variables),e.context=Object(d.a)(Object(d.a)({},e.context),this.lazyOptions.context)),this.runLazy&&delete e.skip,e},e.prototype.ssrInitiated=function(){return this.context&&this.context.renderPromises},e.prototype.getExecuteSsrResult=function(){var t,e=!1===this.getOptions().ssr,r=this.refreshClient().client.disableNetworkFetches,n=Object(d.a)({loading:!0,networkStatus:v.NetworkStatus.loading,called:!0,data:void 0,stale:!1,client:this.client},this.observableQueryFields());return e&&(this.ssrInitiated()||r)?(this.previousData.result=n,n):(this.ssrInitiated()&&(t=this.context.renderPromises.addQueryPromise(this,this.getExecuteResult)||n),t)},e.prototype.prepareObservableQueryOptions=function(){var t=this.getOptions();this.verifyDocumentType(t.query,c.Query);var e=t.displayName||"Query";return!this.ssrInitiated()||"network-only"!==t.fetchPolicy&&"cache-and-network"!==t.fetchPolicy||(t.fetchPolicy="cache-first"),Object(d.a)(Object(d.a)({},t),{displayName:e,context:t.context,metadata:{reactComponent:{displayName:e}}})},e.prototype.initializeObservableQuery=function(){var t,e;if(this.ssrInitiated()&&(this.currentObservable.query=this.context.renderPromises.getSSRObservable(this.getOptions())),!this.currentObservable.query){var r=this.prepareObservableQueryOptions();this.previousData.observableQueryOptions=Object(d.a)(Object(d.a)({},r),{children:null}),this.currentObservable.query=this.refreshClient().client.watchQuery(Object(d.a)({},r)),this.ssrInitiated()&&(null===(e=null===(t=this.context)||void 0===t?void 0:t.renderPromises)||void 0===e||e.registerSSRObservable(this.currentObservable.query,r))}},e.prototype.updateObservableQuery=function(){if(this.currentObservable.query){var t=Object(d.a)(Object(d.a)({},this.prepareObservableQueryOptions()),{children:null});Object(y.a)(t,this.previousData.observableQueryOptions)||(this.previousData.observableQueryOptions=t,this.currentObservable.query.setOptions(t).catch((function(){})))}else this.initializeObservableQuery()},e.prototype.startQuerySubscription=function(){var t=this;if(!this.currentObservable.subscription&&!this.getOptions().skip){var e=this.currentObservable.query;this.currentObservable.subscription=e.subscribe({next:function(e){var r=e.loading,n=e.networkStatus,i=e.data,o=t.previousData.result;o&&o.loading===r&&o.networkStatus===n&&Object(y.a)(o.data,i)||t.onNewData()},error:function(e){if(t.resubscribeToQuery(),!e.hasOwnProperty("graphQLErrors"))throw e;var r=t.previousData.result;(r&&r.loading||!Object(y.a)(e,t.previousData.error))&&(t.previousData.error=e,t.onNewData())}})}},e.prototype.resubscribeToQuery=function(){this.removeQuerySubscription();var t=this.currentObservable.query.getLastError(),e=this.currentObservable.query.getLastResult();this.currentObservable.query.resetLastResults(),this.startQuerySubscription(),Object.assign(this.currentObservable.query,{lastError:t,lastResult:e})},e.prototype.getQueryResult=function(){var t=this.observableQueryFields(),e=this.getOptions();if(e.skip)t=Object(d.a)(Object(d.a)({},t),{data:void 0,error:void 0,loading:!1,called:!0});else{var r=this.currentObservable.query.getCurrentResult(),n=r.loading,i=r.partial,o=r.networkStatus,s=r.errors,a=r.error,u=r.data;if(s&&s.length>0&&(a=new v.ApolloError({graphQLErrors:s})),t=Object(d.a)(Object(d.a)({},t),{loading:n,networkStatus:o,error:a,called:!0}),n){var c=this.previousData.result&&this.previousData.result.data;t.data=c&&u?Object(d.a)(Object(d.a)({},c),u):c||u}else if(a)Object.assign(t,{data:(this.currentObservable.query.getLastResult()||{}).data});else{var l=this.currentObservable.query.options.fetchPolicy;if(e.partialRefetch&&!u&&i&&"cache-only"!==l)return Object.assign(t,{loading:!0,networkStatus:v.NetworkStatus.loading}),t.refetch(),t;t.data=u}}return t.client=this.client,this.previousData.loading=this.previousData.result&&this.previousData.result.loading||!1,this.previousData.result=t,this.currentObservable.query&&this.currentObservable.query.resetQueryStoreErrors(),t},e.prototype.handleErrorOrCompleted=function(){if(this.currentObservable.query&&this.previousData.result){var t=this.previousData.result,e=t.data,r=t.loading,n=t.error;if(!r){var i=this.getOptions(),o=i.query,s=i.variables,a=i.onCompleted,u=i.onError;if(this.previousOptions&&!this.previousData.loading&&Object(y.a)(this.previousOptions.query,o)&&Object(y.a)(this.previousOptions.variables,s))return;a&&!n?a(e):u&&n&&u(n)}}},e.prototype.removeQuerySubscription=function(){this.currentObservable.subscription&&(this.currentObservable.subscription.unsubscribe(),delete this.currentObservable.subscription)},e.prototype.observableQueryFields=function(){return{variables:this.currentObservable.query.variables,refetch:this.obsRefetch,fetchMore:this.obsFetchMore,updateQuery:this.obsUpdateQuery,startPolling:this.obsStartPolling,stopPolling:this.obsStopPolling,subscribeToMore:this.obsSubscribeToMore}},e}(O);function m(t,e,r){void 0===r&&(r=!1);var n=Object(i.useContext)(a()),o=Object(i.useReducer)((function(t){return t+1}),0),s=o[0],u=o[1],c=e?Object(d.a)(Object(d.a)({},e),{query:t}):{query:t},l=Object(i.useRef)(),p=l.current||new g({options:c,context:n,onNewData:function(){p.ssrInitiated()?u():Promise.resolve().then(u)}});p.setOptions(c),p.context=n,p.ssrInitiated()&&!l.current&&(l.current=p);var h=function(t,e){var r=Object(i.useRef)();return r.current&&Object(y.a)(e,r.current.key)||(r.current={key:e,value:t()}),r.current.value}((function(){return r?p.executeLazy():p.execute()}),{options:Object(d.a)(Object(d.a)({},c),{onError:void 0,onCompleted:void 0}),context:n,tick:s}),b=r?h[1]:h;return Object(i.useEffect)((function(){return l.current||(l.current=p),function(){return p.cleanup()}}),[]),Object(i.useEffect)((function(){return p.afterExecute({lazy:r})}),[b.loading,b.networkStatus,b.error,b.data]),h}var Q=function(t){function e(e){var r=e.options,n=e.context,i=e.result,o=e.setResult,s=t.call(this,r,n)||this;return s.runMutation=function(t){void 0===t&&(t={}),s.onMutationStart();var e=s.generateNewMutationId();return s.mutate(t).then((function(t){return s.onMutationCompleted(t,e),t})).catch((function(t){if(s.onMutationError(t,e),!s.getOptions().onError)throw t}))},s.verifyDocumentType(r.mutation,c.Mutation),s.result=i,s.setResult=o,s.mostRecentMutationId=0,s}return Object(d.c)(e,t),e.prototype.execute=function(t){return this.isMounted=!0,this.verifyDocumentType(this.getOptions().mutation,c.Mutation),t.client=this.refreshClient().client,[this.runMutation,t]},e.prototype.afterExecute=function(){return this.isMounted=!0,this.unmount.bind(this)},e.prototype.cleanup=function(){},e.prototype.mutate=function(t){var e=this.getOptions(),r=e.mutation,n=e.variables,i=e.optimisticResponse,o=e.update,s=e.context,a=void 0===s?{}:s,u=e.awaitRefetchQueries,c=void 0!==u&&u,l=e.fetchPolicy,p=Object(d.a)({},t),h=Object.assign({},n,p.variables);return delete p.variables,this.refreshClient().client.mutate(Object(d.a)({mutation:r,optimisticResponse:i,refetchQueries:p.refetchQueries||this.getOptions().refetchQueries,awaitRefetchQueries:c,update:o,context:a,fetchPolicy:l,variables:h},p))},e.prototype.onMutationStart=function(){this.result.loading||this.getOptions().ignoreResults||this.updateResult({loading:!0,error:void 0,data:void 0,called:!0})},e.prototype.onMutationCompleted=function(t,e){var r=this.getOptions(),n=r.onCompleted,i=r.ignoreResults,o=t.data,s=t.errors,a=s&&s.length>0?new v.ApolloError({graphQLErrors:s}):void 0;this.isMostRecentMutation(e)&&!i&&this.updateResult({called:!0,loading:!1,data:o,error:a}),n&&n(o)},e.prototype.onMutationError=function(t,e){var r=this.getOptions().onError;this.isMostRecentMutation(e)&&this.updateResult({loading:!1,error:t,data:void 0,called:!0}),r&&r(t)},e.prototype.generateNewMutationId=function(){return++this.mostRecentMutationId},e.prototype.isMostRecentMutation=function(t){return this.mostRecentMutationId===t},e.prototype.updateResult=function(t){!this.isMounted||this.previousResult&&Object(y.a)(this.previousResult,t)||(this.setResult(t),this.previousResult=t)},e}(O);var j=function(t){function e(e){var r=e.options,n=e.context,i=e.setResult,o=t.call(this,r,n)||this;return o.currentObservable={},o.setResult=i,o.initialize(r),o}return Object(d.c)(e,t),e.prototype.execute=function(t){if(!0===this.getOptions().skip)return this.cleanup(),{loading:!1,error:void 0,data:void 0,variables:this.getOptions().variables};var e=t;this.refreshClient().isNew&&(e=this.getLoadingResult());var r=this.getOptions().shouldResubscribe;return"function"===typeof r&&(r=!!r(this.getOptions())),!1!==r&&this.previousOptions&&Object.keys(this.previousOptions).length>0&&(this.previousOptions.subscription!==this.getOptions().subscription||!Object(y.a)(this.previousOptions.variables,this.getOptions().variables)||this.previousOptions.skip!==this.getOptions().skip)&&(this.cleanup(),e=this.getLoadingResult()),this.initialize(this.getOptions()),this.startSubscription(),this.previousOptions=this.getOptions(),Object(d.a)(Object(d.a)({},e),{variables:this.getOptions().variables})},e.prototype.afterExecute=function(){this.isMounted=!0},e.prototype.cleanup=function(){this.endSubscription(),delete this.currentObservable.query},e.prototype.initialize=function(t){this.currentObservable.query||!0===this.getOptions().skip||(this.currentObservable.query=this.refreshClient().client.subscribe({query:t.subscription,variables:t.variables,fetchPolicy:t.fetchPolicy}))},e.prototype.startSubscription=function(){this.currentObservable.subscription||(this.currentObservable.subscription=this.currentObservable.query.subscribe({next:this.updateCurrentData.bind(this),error:this.updateError.bind(this),complete:this.completeSubscription.bind(this)}))},e.prototype.getLoadingResult=function(){return{loading:!0,error:void 0,data:void 0}},e.prototype.updateResult=function(t){this.isMounted&&this.setResult(t)},e.prototype.updateCurrentData=function(t){var e=this.getOptions().onSubscriptionData;this.updateResult({data:t.data,loading:!1,error:void 0}),e&&e({client:this.refreshClient().client,subscriptionData:t})},e.prototype.updateError=function(t){this.updateResult({error:t,loading:!1})},e.prototype.completeSubscription=function(){var t=this.getOptions().onSubscriptionComplete;t&&t(),this.endSubscription()},e.prototype.endSubscription=function(){this.currentObservable.subscription&&(this.currentObservable.subscription.unsubscribe(),delete this.currentObservable.subscription)},e}(O);!function(){function t(){this.queryPromises=new Map,this.queryInfoTrie=new Map}t.prototype.registerSSRObservable=function(t,e){this.lookupQueryInfo(e).observable=t},t.prototype.getSSRObservable=function(t){return this.lookupQueryInfo(t).observable},t.prototype.addQueryPromise=function(t,e){return this.lookupQueryInfo(t.getOptions()).seen?e():(this.queryPromises.set(t.getOptions(),new Promise((function(e){e(t.fetchData())}))),null)},t.prototype.hasPromises=function(){return this.queryPromises.size>0},t.prototype.consumeAndAwaitPromises=function(){var t=this,e=[];return this.queryPromises.forEach((function(r,n){t.lookupQueryInfo(n).seen=!0,e.push(r)})),this.queryPromises.clear(),Promise.all(e)},t.prototype.lookupQueryInfo=function(t){var e=this.queryInfoTrie,r=t.query,n=t.variables,i=e.get(r)||new Map;e.has(r)||e.set(r,i);var o=JSON.stringify(n),s=i.get(o)||{seen:!1,observable:null};return i.has(o)||i.set(o,s),s}}();var S=r("17x9"),w=r.n(S);function R(t){var e=t.children,r=function(t,e){return m(t,e,!1)}(t.query,Object(d.e)(t,["children","query"]));return e&&r?e(r):null}function q(t){var e=function(t,e){var r=Object(i.useContext)(a()),n=Object(i.useState)({called:!1,loading:!1}),o=n[0],s=n[1],u=e?Object(d.a)(Object(d.a)({},e),{mutation:t}):{mutation:t},c=Object(i.useRef)(),l=(c.current||(c.current=new Q({options:u,context:r,result:o,setResult:s})),c.current);return l.setOptions(u),l.context=r,Object(i.useEffect)((function(){return l.afterExecute()})),l.execute(o)}(t.mutation,t),r=e[0],n=e[1];return t.children?t.children(r,n):null}function k(t){var e=function(t,e){var r=Object(i.useContext)(a()),n=e?Object(d.a)(Object(d.a)({},e),{subscription:t}):{subscription:t},o=Object(i.useState)({loading:!n.skip,error:void 0,data:void 0}),s=o[0],u=o[1],c=Object(i.useRef)(),l=(c.current||(c.current=new j({options:n,context:r,setResult:u})),c.current);return l.setOptions(n,!0),l.context=r,Object(i.useEffect)((function(){return l.afterExecute()})),Object(i.useEffect)((function(){return l.cleanup.bind(l)}),[]),l.execute(s)}(t.subscription,t);return t.children&&e?t.children(e):null}(R||(R={})).propTypes={client:w.a.object,children:w.a.func.isRequired,fetchPolicy:w.a.string,notifyOnNetworkStatusChange:w.a.bool,onCompleted:w.a.func,onError:w.a.func,pollInterval:w.a.number,query:w.a.object.isRequired,variables:w.a.object,ssr:w.a.bool,partialRefetch:w.a.bool,returnPartialData:w.a.bool},(q||(q={})).propTypes={mutation:w.a.object.isRequired,variables:w.a.object,optimisticResponse:w.a.oneOfType([w.a.object,w.a.func]),refetchQueries:w.a.oneOfType([w.a.arrayOf(w.a.oneOfType([w.a.string,w.a.object])),w.a.func]),awaitRefetchQueries:w.a.bool,update:w.a.func,children:w.a.func.isRequired,onCompleted:w.a.func,onError:w.a.func,fetchPolicy:w.a.string},(k||(k={})).propTypes={subscription:w.a.object.isRequired,variables:w.a.object,children:w.a.func,onSubscriptionData:w.a.func,onSubscriptionComplete:w.a.func,shouldResubscribe:w.a.oneOfType([w.a.func,w.a.bool])};var E=r("2mql"),M=r.n(E),x=function(){return{}},P=function(){return!1};function I(t){return t.displayName||t.name||"Component"}function C(t,e){for(var r={},n=0,i=t.variables;n<i.length;n++){var o=i[n],s=o.variable,a=o.type;if(s.name&&s.name.value){var u=s.name.value,c=e[u];"undefined"===typeof c?"NonNullType"!==a.kind&&(r[u]=void 0):r[u]=c}}return r}var D=function(t){function e(e){var r=t.call(this,e)||this;return r.withRef=!1,r.setWrappedInstance=r.setWrappedInstance.bind(r),r}return Object(d.c)(e,t),e.prototype.getWrappedInstance=function(){return Object(s.b)(this.withRef,2),this.wrappedInstance},e.prototype.setWrappedInstance=function(t){this.wrappedInstance=t},e}(o.a.Component);function L(t,e){void 0===e&&(e={});var r=f(t),n=e.options,i=void 0===n?x:n,s=e.skip,a=void 0===s?P:s,u=e.alias,c=void 0===u?"Apollo":u,l=i;"function"!==typeof l&&(l=function(){return i});var p,h=a;return"function"!==typeof h&&(h=function(){return a}),function(n){var i=c+"("+I(n)+")",s=function(s){function a(){return null!==s&&s.apply(this,arguments)||this}return Object(d.c)(a,s),a.prototype.render=function(){var s=this,a=this.props,u=h(a),c=u?Object.create(null):Object(d.a)({},l(a));return!u&&!c.variables&&r.variables.length>0&&(c.variables=C(r,a)),o.a.createElement(R,Object(d.a)({},c,{displayName:i,skip:u,query:t}),(function(t){t.client;var r,i,c=t.data,l=Object(d.e)(t,["client","data"]);if(e.withRef&&(s.withRef=!0,a=Object.assign({},a,{ref:s.setWrappedInstance})),u)return o.a.createElement(n,Object(d.a)({},a,{}));var h=Object.assign(l,c||{}),b=e.name||"data",f=((r={})[b]=h,r);if(e.props){var v=((i={})[b]=h,i.ownProps=a,i);f=p=e.props(v,p)}return o.a.createElement(n,Object(d.a)({},a,f))}))},a.displayName=i,a.WrappedComponent=n,a}(D);return M()(s,n,{})}}function F(t,e){void 0===e&&(e={});var r=f(t),n=e.options,i=void 0===n?x:n,s=e.alias,a=void 0===s?"Apollo":s,u=i;return"function"!==typeof u&&(u=function(){return i}),function(n){var i=a+"("+I(n)+")",s=function(s){function a(){return null!==s&&s.apply(this,arguments)||this}return Object(d.c)(a,s),a.prototype.render=function(){var i=this.props,s=u(i);return e.withRef&&(this.withRef=!0,i=Object.assign({},i,{ref:this.setWrappedInstance})),!s.variables&&r.variables.length>0&&(s.variables=C(r,i)),o.a.createElement(q,Object(d.a)({ignoreResults:!0},s,{mutation:t}),(function(t,r){var s,a,u=r.data,c=Object(d.e)(r,["data"]),l=Object.assign(c,u||{}),p=e.name||"mutate",h=e.name?p+"Result":"result",b=((s={})[p]=t,s[h]=l,s);if(e.props){var f=((a={})[p]=t,a[h]=l,a.ownProps=i,a);b=e.props(f)}return o.a.createElement(n,Object(d.a)({},i,b))}))},a.displayName=i,a.WrappedComponent=n,a}(D);return M()(s,n,{})}}function N(t,e){void 0===e&&(e={});var r=f(t),n=e.options,i=void 0===n?x:n,s=e.skip,a=void 0===s?P:s,u=e.alias,c=void 0===u?"Apollo":u,l=e.shouldResubscribe,p=i;"function"!==typeof p&&(p=function(){return i});var h,b=a;return"function"!==typeof b&&(b=function(){return a}),function(n){var i=c+"("+I(n)+")",s=function(s){function a(t){var e=s.call(this,t)||this;return e.state={resubscribe:!1},e}return Object(d.c)(a,s),a.prototype.componentDidUpate=function(t){l&&this.setState({resubscribe:l(t,this.props)})},a.prototype.render=function(){var s=this,a=this.props,u=b(a),c=u?Object.create(null):p(a);return!u&&!c.variables&&r.variables.length>0&&(c.variables=C(r,a)),o.a.createElement(k,Object(d.a)({},c,{displayName:i,skip:u,subscription:t,shouldResubscribe:this.state.resubscribe}),(function(t){var r,i,c=t.data,l=Object(d.e)(t,["data"]);if(e.withRef&&(s.withRef=!0,a=Object.assign({},a,{ref:s.setWrappedInstance})),u)return o.a.createElement(n,Object(d.a)({},a,{}));var p=Object.assign(l,c||{}),b=e.name||"data",f=((r={})[b]=p,r);if(e.props){var v=((i={})[b]=p,i.ownProps=a,i);f=h=e.props(v,h)}return o.a.createElement(n,Object(d.a)({},a,f))}))},a.displayName=i,a.WrappedComponent=n,a}(D);return M()(s,n,{})}}function T(t,e){switch(void 0===e&&(e={}),f(t).type){case c.Mutation:return F(t,e);case c.Subscription:return N(t,e);case c.Query:default:return L(t,e)}}function z(t,e){void 0===e&&(e={});var r="withApollo("+function(t){return t.displayName||t.name||"Component"}(t)+")",n=function(n){function i(t){var e=n.call(this,t)||this;return e.setWrappedInstance=e.setWrappedInstance.bind(e),e}return Object(d.c)(i,n),i.prototype.getWrappedInstance=function(){return Object(s.b)(e.withRef,1),this.wrappedInstance},i.prototype.setWrappedInstance=function(t){this.wrappedInstance=t},i.prototype.render=function(){var r=this;return o.a.createElement(p,null,(function(n){var i=Object.assign({},r.props,{client:n,ref:e.withRef?r.setWrappedInstance:void 0});return o.a.createElement(t,Object(d.a)({},i))}))},i.displayName=r,i.WrappedComponent=t,i}(o.a.Component);return M()(n,t,{})}var A=function(){function t(t,e){this.isMounted=!1,this.previousOptions={},this.context={},this.options={},this.options=t||{},this.context=e||{}}return t.prototype.getOptions=function(){return this.options},t.prototype.setOptions=function(t,e){void 0===e&&(e=!1),e&&!Object(y.a)(this.options,t)&&(this.previousOptions=this.options),this.options=t},t.prototype.unmount=function(){this.isMounted=!1},t.prototype.refreshClient=function(){var t=this.options&&this.options.client||this.context&&this.context.client;Object(s.b)(!!t,2);var e=!1;return t!==this.client&&(e=!0,this.client=t,this.cleanup()),{client:this.client,isNew:e}},t.prototype.verifyDocumentType=function(t,e){var r=f(t);b(e),b(r.type);Object(s.b)(r.type===e,3)},t}(),V=function(t){function e(e){var r=e.options,n=e.context,i=e.onNewData,o=t.call(this,r,n)||this;return o.previousData={},o.currentObservable={},o.runLazy=!1,o.runLazyQuery=function(t){o.cleanup(),o.runLazy=!0,o.lazyOptions=t,o.onNewData()},o.getExecuteResult=function(){var t=o.getQueryResult();return o.startQuerySubscription(),t},o.obsRefetch=function(t){return o.currentObservable.query.refetch(t)},o.obsFetchMore=function(t){return o.currentObservable.query.fetchMore(t)},o.obsUpdateQuery=function(t){return o.currentObservable.query.updateQuery(t)},o.obsStartPolling=function(t){o.currentObservable&&o.currentObservable.query&&o.currentObservable.query.startPolling(t)},o.obsStopPolling=function(){o.currentObservable&&o.currentObservable.query&&o.currentObservable.query.stopPolling()},o.obsSubscribeToMore=function(t){return o.currentObservable.query.subscribeToMore(t)},o.onNewData=i,o}return Object(d.c)(e,t),e.prototype.execute=function(){this.refreshClient();var t=this.getOptions(),e=t.skip,r=t.query;return(e||r!==this.previousData.query)&&(this.removeQuerySubscription(),this.previousData.query=r),this.updateObservableQuery(),this.isMounted&&this.startQuerySubscription(),this.getExecuteSsrResult()||this.getExecuteResult()},e.prototype.executeLazy=function(){return this.runLazy?[this.runLazyQuery,this.execute()]:[this.runLazyQuery,{loading:!1,networkStatus:v.NetworkStatus.ready,called:!1,data:void 0}]},e.prototype.fetchData=function(){var t=this.getOptions();if(t.skip||!1===t.ssr)return!1;var e=this.currentObservable.query;return!!e.getCurrentResult().loading&&e.result()},e.prototype.afterExecute=function(t){var e=(void 0===t?{}:t).lazy,r=void 0!==e&&e;return this.isMounted=!0,r&&!this.runLazy||this.handleErrorOrCompleted(),this.previousOptions=this.getOptions(),this.unmount.bind(this)},e.prototype.cleanup=function(){this.removeQuerySubscription(),delete this.currentObservable.query,delete this.previousData.result},e.prototype.getOptions=function(){var e=t.prototype.getOptions.call(this);return this.lazyOptions&&(e.variables=Object(d.a)(Object(d.a)({},e.variables),this.lazyOptions.variables),e.context=Object(d.a)(Object(d.a)({},e.context),this.lazyOptions.context)),this.runLazy&&delete e.skip,e},e.prototype.ssrInitiated=function(){return this.context&&this.context.renderPromises},e.prototype.getExecuteSsrResult=function(){var t,e=!1===this.getOptions().ssr,r=this.refreshClient().client.disableNetworkFetches,n=Object(d.a)({loading:!0,networkStatus:v.NetworkStatus.loading,called:!0,data:void 0,stale:!1,client:this.client},this.observableQueryFields());return e&&(this.ssrInitiated()||r)?(this.previousData.result=n,n):(this.ssrInitiated()&&(t=this.context.renderPromises.addQueryPromise(this,this.getExecuteResult)||n),t)},e.prototype.prepareObservableQueryOptions=function(){var t=this.getOptions();this.verifyDocumentType(t.query,c.Query);var e=t.displayName||"Query";return!this.ssrInitiated()||"network-only"!==t.fetchPolicy&&"cache-and-network"!==t.fetchPolicy||(t.fetchPolicy="cache-first"),Object(d.a)(Object(d.a)({},t),{displayName:e,context:t.context,metadata:{reactComponent:{displayName:e}}})},e.prototype.initializeObservableQuery=function(){var t,e;if(this.ssrInitiated()&&(this.currentObservable.query=this.context.renderPromises.getSSRObservable(this.getOptions())),!this.currentObservable.query){var r=this.prepareObservableQueryOptions();this.previousData.observableQueryOptions=Object(d.a)(Object(d.a)({},r),{children:null}),this.currentObservable.query=this.refreshClient().client.watchQuery(Object(d.a)({},r)),this.ssrInitiated()&&(null===(e=null===(t=this.context)||void 0===t?void 0:t.renderPromises)||void 0===e||e.registerSSRObservable(this.currentObservable.query,r))}},e.prototype.updateObservableQuery=function(){if(this.currentObservable.query){var t=Object(d.a)(Object(d.a)({},this.prepareObservableQueryOptions()),{children:null});Object(y.a)(t,this.previousData.observableQueryOptions)||(this.previousData.observableQueryOptions=t,this.currentObservable.query.setOptions(t).catch((function(){})))}else this.initializeObservableQuery()},e.prototype.startQuerySubscription=function(){var t=this;if(!this.currentObservable.subscription&&!this.getOptions().skip){var e=this.currentObservable.query;this.currentObservable.subscription=e.subscribe({next:function(e){var r=e.loading,n=e.networkStatus,i=e.data,o=t.previousData.result;o&&o.loading===r&&o.networkStatus===n&&Object(y.a)(o.data,i)||t.onNewData()},error:function(e){if(t.resubscribeToQuery(),!e.hasOwnProperty("graphQLErrors"))throw e;var r=t.previousData.result;(r&&r.loading||!Object(y.a)(e,t.previousData.error))&&(t.previousData.error=e,t.onNewData())}})}},e.prototype.resubscribeToQuery=function(){this.removeQuerySubscription();var t=this.currentObservable.query.getLastError(),e=this.currentObservable.query.getLastResult();this.currentObservable.query.resetLastResults(),this.startQuerySubscription(),Object.assign(this.currentObservable.query,{lastError:t,lastResult:e})},e.prototype.getQueryResult=function(){var t=this.observableQueryFields(),e=this.getOptions();if(e.skip)t=Object(d.a)(Object(d.a)({},t),{data:void 0,error:void 0,loading:!1,called:!0});else{var r=this.currentObservable.query.getCurrentResult(),n=r.loading,i=r.partial,o=r.networkStatus,s=r.errors,a=r.error,u=r.data;if(s&&s.length>0&&(a=new v.ApolloError({graphQLErrors:s})),t=Object(d.a)(Object(d.a)({},t),{loading:n,networkStatus:o,error:a,called:!0}),n){var c=this.previousData.result&&this.previousData.result.data;t.data=c&&u?Object(d.a)(Object(d.a)({},c),u):c||u}else if(a)Object.assign(t,{data:(this.currentObservable.query.getLastResult()||{}).data});else{var l=this.currentObservable.query.options.fetchPolicy;if(e.partialRefetch&&!u&&i&&"cache-only"!==l)return Object.assign(t,{loading:!0,networkStatus:v.NetworkStatus.loading}),t.refetch(),t;t.data=u}}return t.client=this.client,this.previousData.loading=this.previousData.result&&this.previousData.result.loading||!1,this.previousData.result=t,this.currentObservable.query&&this.currentObservable.query.resetQueryStoreErrors(),t},e.prototype.handleErrorOrCompleted=function(){if(this.currentObservable.query&&this.previousData.result){var t=this.previousData.result,e=t.data,r=t.loading,n=t.error;if(!r){var i=this.getOptions(),o=i.query,s=i.variables,a=i.onCompleted,u=i.onError;if(this.previousOptions&&!this.previousData.loading&&Object(y.a)(this.previousOptions.query,o)&&Object(y.a)(this.previousOptions.variables,s))return;a&&!n?a(e):u&&n&&u(n)}}},e.prototype.removeQuerySubscription=function(){this.currentObservable.subscription&&(this.currentObservable.subscription.unsubscribe(),delete this.currentObservable.subscription)},e.prototype.observableQueryFields=function(){return{variables:this.currentObservable.query.variables,refetch:this.obsRefetch,fetchMore:this.obsFetchMore,updateQuery:this.obsUpdateQuery,startPolling:this.obsStartPolling,stopPolling:this.obsStopPolling,subscribeToMore:this.obsSubscribeToMore}},e}(A);function _(t,e,r){void 0===r&&(r=!1);var n=Object(i.useContext)(a()),o=Object(i.useReducer)((function(t){return t+1}),0),s=o[0],u=o[1],c=e?Object(d.a)(Object(d.a)({},e),{query:t}):{query:t},l=Object(i.useRef)(),p=l.current||new V({options:c,context:n,onNewData:function(){p.ssrInitiated()?u():Promise.resolve().then(u)}});p.setOptions(c),p.context=n,p.ssrInitiated()&&!l.current&&(l.current=p);var h=function(t,e){var r=Object(i.useRef)();return r.current&&Object(y.a)(e,r.current.key)||(r.current={key:e,value:t()}),r.current.value}((function(){return r?p.executeLazy():p.execute()}),{options:Object(d.a)(Object(d.a)({},c),{onError:void 0,onCompleted:void 0}),context:n,tick:s}),b=r?h[1]:h;return Object(i.useEffect)((function(){return l.current||(l.current=p),function(){return p.cleanup()}}),[]),Object(i.useEffect)((function(){return p.afterExecute({lazy:r})}),[b.loading,b.networkStatus,b.error,b.data]),h}function W(t,e){return _(t,e,!1)}function B(t,e){return _(t,e,!0)}var U=function(t){function e(e){var r=e.options,n=e.context,i=e.result,o=e.setResult,s=t.call(this,r,n)||this;return s.runMutation=function(t){void 0===t&&(t={}),s.onMutationStart();var e=s.generateNewMutationId();return s.mutate(t).then((function(t){return s.onMutationCompleted(t,e),t})).catch((function(t){if(s.onMutationError(t,e),!s.getOptions().onError)throw t}))},s.verifyDocumentType(r.mutation,c.Mutation),s.result=i,s.setResult=o,s.mostRecentMutationId=0,s}return Object(d.c)(e,t),e.prototype.execute=function(t){return this.isMounted=!0,this.verifyDocumentType(this.getOptions().mutation,c.Mutation),t.client=this.refreshClient().client,[this.runMutation,t]},e.prototype.afterExecute=function(){return this.isMounted=!0,this.unmount.bind(this)},e.prototype.cleanup=function(){},e.prototype.mutate=function(t){var e=this.getOptions(),r=e.mutation,n=e.variables,i=e.optimisticResponse,o=e.update,s=e.context,a=void 0===s?{}:s,u=e.awaitRefetchQueries,c=void 0!==u&&u,l=e.fetchPolicy,p=Object(d.a)({},t),h=Object.assign({},n,p.variables);return delete p.variables,this.refreshClient().client.mutate(Object(d.a)({mutation:r,optimisticResponse:i,refetchQueries:p.refetchQueries||this.getOptions().refetchQueries,awaitRefetchQueries:c,update:o,context:a,fetchPolicy:l,variables:h},p))},e.prototype.onMutationStart=function(){this.result.loading||this.getOptions().ignoreResults||this.updateResult({loading:!0,error:void 0,data:void 0,called:!0})},e.prototype.onMutationCompleted=function(t,e){var r=this.getOptions(),n=r.onCompleted,i=r.ignoreResults,o=t.data,s=t.errors,a=s&&s.length>0?new v.ApolloError({graphQLErrors:s}):void 0;this.isMostRecentMutation(e)&&!i&&this.updateResult({called:!0,loading:!1,data:o,error:a}),n&&n(o)},e.prototype.onMutationError=function(t,e){var r=this.getOptions().onError;this.isMostRecentMutation(e)&&this.updateResult({loading:!1,error:t,data:void 0,called:!0}),r&&r(t)},e.prototype.generateNewMutationId=function(){return++this.mostRecentMutationId},e.prototype.isMostRecentMutation=function(t){return this.mostRecentMutationId===t},e.prototype.updateResult=function(t){!this.isMounted||this.previousResult&&Object(y.a)(this.previousResult,t)||(this.setResult(t),this.previousResult=t)},e}(A);function G(t,e){var r=Object(i.useContext)(a()),n=Object(i.useState)({called:!1,loading:!1}),o=n[0],s=n[1],u=e?Object(d.a)(Object(d.a)({},e),{mutation:t}):{mutation:t},c=Object(i.useRef)();var l=(c.current||(c.current=new U({options:u,context:r,result:o,setResult:s})),c.current);return l.setOptions(u),l.context=r,Object(i.useEffect)((function(){return l.afterExecute()})),l.execute(o)}var J=function(t){function e(e){var r=e.options,n=e.context,i=e.setResult,o=t.call(this,r,n)||this;return o.currentObservable={},o.setResult=i,o.initialize(r),o}return Object(d.c)(e,t),e.prototype.execute=function(t){if(!0===this.getOptions().skip)return this.cleanup(),{loading:!1,error:void 0,data:void 0,variables:this.getOptions().variables};var e=t;this.refreshClient().isNew&&(e=this.getLoadingResult());var r=this.getOptions().shouldResubscribe;return"function"===typeof r&&(r=!!r(this.getOptions())),!1!==r&&this.previousOptions&&Object.keys(this.previousOptions).length>0&&(this.previousOptions.subscription!==this.getOptions().subscription||!Object(y.a)(this.previousOptions.variables,this.getOptions().variables)||this.previousOptions.skip!==this.getOptions().skip)&&(this.cleanup(),e=this.getLoadingResult()),this.initialize(this.getOptions()),this.startSubscription(),this.previousOptions=this.getOptions(),Object(d.a)(Object(d.a)({},e),{variables:this.getOptions().variables})},e.prototype.afterExecute=function(){this.isMounted=!0},e.prototype.cleanup=function(){this.endSubscription(),delete this.currentObservable.query},e.prototype.initialize=function(t){this.currentObservable.query||!0===this.getOptions().skip||(this.currentObservable.query=this.refreshClient().client.subscribe({query:t.subscription,variables:t.variables,fetchPolicy:t.fetchPolicy}))},e.prototype.startSubscription=function(){this.currentObservable.subscription||(this.currentObservable.subscription=this.currentObservable.query.subscribe({next:this.updateCurrentData.bind(this),error:this.updateError.bind(this),complete:this.completeSubscription.bind(this)}))},e.prototype.getLoadingResult=function(){return{loading:!0,error:void 0,data:void 0}},e.prototype.updateResult=function(t){this.isMounted&&this.setResult(t)},e.prototype.updateCurrentData=function(t){var e=this.getOptions().onSubscriptionData;this.updateResult({data:t.data,loading:!1,error:void 0}),e&&e({client:this.refreshClient().client,subscriptionData:t})},e.prototype.updateError=function(t){this.updateResult({error:t,loading:!1})},e.prototype.completeSubscription=function(){var t=this.getOptions().onSubscriptionComplete;t&&t(),this.endSubscription()},e.prototype.endSubscription=function(){this.currentObservable.subscription&&(this.currentObservable.subscription.unsubscribe(),delete this.currentObservable.subscription)},e}(A);function H(t,e){var r=Object(i.useContext)(a()),n=e?Object(d.a)(Object(d.a)({},e),{subscription:t}):{subscription:t},o=Object(i.useState)({loading:!n.skip,error:void 0,data:void 0}),s=o[0],u=o[1],c=Object(i.useRef)();var l=(c.current||(c.current=new J({options:n,context:r,setResult:u})),c.current);return l.setOptions(n,!0),l.context=r,Object(i.useEffect)((function(){return l.afterExecute()})),Object(i.useEffect)((function(){return l.cleanup.bind(l)}),[]),l.execute(s)}function K(){var t=o.a.useContext(a()).client;return Object(s.b)(t,1),t}var X=function(){function t(){this.queryPromises=new Map,this.queryInfoTrie=new Map}return t.prototype.registerSSRObservable=function(t,e){this.lookupQueryInfo(e).observable=t},t.prototype.getSSRObservable=function(t){return this.lookupQueryInfo(t).observable},t.prototype.addQueryPromise=function(t,e){return this.lookupQueryInfo(t.getOptions()).seen?e():(this.queryPromises.set(t.getOptions(),new Promise((function(e){e(t.fetchData())}))),null)},t.prototype.hasPromises=function(){return this.queryPromises.size>0},t.prototype.consumeAndAwaitPromises=function(){var t=this,e=[];return this.queryPromises.forEach((function(r,n){t.lookupQueryInfo(n).seen=!0,e.push(r)})),this.queryPromises.clear(),Promise.all(e)},t.prototype.lookupQueryInfo=function(t){var e=this.queryInfoTrie,r=t.query,n=t.variables,i=e.get(r)||new Map;e.has(r)||e.set(r,i);var o=JSON.stringify(n),s=i.get(o)||{seen:!1,observable:null};return i.has(o)||i.set(o,s),s},t}();function Y(t,e){return void 0===e&&(e={}),$({tree:t,context:e,renderFunction:r("KAy6").renderToStaticMarkup})}function $(t){var e=t.tree,n=t.context,i=void 0===n?{}:n,s=t.renderFunction,u=void 0===s?r("KAy6").renderToStaticMarkup:s,c=new X;return Promise.resolve().then((function t(){var r=a(),n=u(o.a.createElement(r.Provider,{value:Object(d.a)(Object(d.a)({},i),{renderPromises:c})},e));return c.hasPromises()?c.consumeAndAwaitPromises().then(t):n}))}function Z(t){return $({tree:t,renderFunction:r("KAy6").renderToString})}},bCCX:function(t,e,r){"use strict";(function(t,n){var i,o=r("SLVX");i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof t?t:n;var s=Object(o.a)(i);e.a=s}).call(this,r("ntbh"),r("Az8m")(t))},dMq0:function(t,e,r){"use strict";r.r(e),r.d(e,"ApolloClient",(function(){return M})),r.d(e,"ApolloError",(function(){return y})),r.d(e,"FetchType",(function(){return v})),r.d(e,"NetworkStatus",(function(){return n})),r.d(e,"ObservableQuery",(function(){return O})),r.d(e,"isApolloError",(function(){return d}));var n,i=r("mrSG"),o=r("RRgQ"),s=r("qx2n"),a=r("b0dj"),u=r("1jQf"),c=r("bCCX"),l=r("qVdT"),p=r("L2ys");function h(t){return t<7}!function(t){t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error"}(n||(n={}));var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype[c.a]=function(){return this},e.prototype["@@observable"]=function(){return this},e}(a.a);function f(t){return Array.isArray(t)&&t.length>0}function d(t){return t.hasOwnProperty("graphQLErrors")}var v,y=function(t){function e(r){var n=r.graphQLErrors,i=r.networkError,o=r.errorMessage,s=r.extraInfo,a=t.call(this,o)||this;return a.graphQLErrors=n||[],a.networkError=i||null,a.message=o||function(t){var e="";return f(t.graphQLErrors)&&t.graphQLErrors.forEach((function(t){var r=t?t.message:"Error message not found.";e+="GraphQL error: "+r+"\n"})),t.networkError&&(e+="Network error: "+t.networkError.message+"\n"),e=e.replace(/\n$/,"")}(a),a.extraInfo=s,a.__proto__=e.prototype,a}return Object(i.c)(e,t),e}(Error);!function(t){t[t.normal=1]="normal",t[t.refetch=2]="refetch",t[t.poll=3]="poll"}(v||(v={}));var O=function(t){function e(e){var r=e.queryManager,n=e.options,i=e.shouldSubscribe,s=void 0===i||i,a=t.call(this,(function(t){return a.onSubscribe(t)}))||this;a.observers=new Set,a.subscriptions=new Set,a.isTornDown=!1,a.options=n,a.variables=n.variables||{},a.queryId=r.generateQueryId(),a.shouldSubscribe=s;var u=Object(o.m)(n.query);return a.queryName=u&&u.name&&u.name.value,a.queryManager=r,a}return Object(i.c)(e,t),e.prototype.result=function(){var t=this;return new Promise((function(e,r){var n={next:function(r){e(r),t.observers.delete(n),t.observers.size||t.queryManager.removeQuery(t.queryId),setTimeout((function(){i.unsubscribe()}),0)},error:r},i=t.subscribe(n)}))},e.prototype.currentResult=function(){var t=this.getCurrentResult();return void 0===t.data&&(t.data={}),t},e.prototype.getCurrentResult=function(){if(this.isTornDown){var t=this.lastResult;return{data:!this.lastError&&t&&t.data||void 0,error:this.lastError,loading:!1,networkStatus:n.error}}var e,r,o,s=this.queryManager.getCurrentQueryResult(this),a=s.data,u=s.partial,c=this.queryManager.queryStore.get(this.queryId),l=this.options.fetchPolicy,p="network-only"===l||"no-cache"===l;if(c){var b=c.networkStatus;if(r=c,void 0===(o=this.options.errorPolicy)&&(o="none"),r&&(r.networkError||"none"===o&&f(r.graphQLErrors)))return{data:void 0,loading:!1,networkStatus:b,error:new y({graphQLErrors:c.graphQLErrors,networkError:c.networkError})};c.variables&&(this.options.variables=Object(i.a)(Object(i.a)({},this.options.variables),c.variables),this.variables=this.options.variables),e={data:a,loading:h(b),networkStatus:b},c.graphQLErrors&&"all"===this.options.errorPolicy&&(e.errors=c.graphQLErrors)}else{var d=p||u&&"cache-only"!==l;e={data:a,loading:d,networkStatus:d?n.loading:n.ready}}return u||this.updateLastResult(Object(i.a)(Object(i.a)({},e),{stale:!1})),Object(i.a)(Object(i.a)({},e),{partial:u})},e.prototype.isDifferentFromLastResult=function(t){var e=this.lastResultSnapshot;return!(e&&t&&e.networkStatus===t.networkStatus&&e.stale===t.stale&&Object(s.a)(e.data,t.data))},e.prototype.getLastResult=function(){return this.lastResult},e.prototype.getLastError=function(){return this.lastError},e.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){var t=this.queryManager.queryStore.get(this.queryId);t&&(t.networkError=null,t.graphQLErrors=[])},e.prototype.refetch=function(t){var e=this.options.fetchPolicy;return"cache-only"===e?Promise.reject(new l.a(1)):("no-cache"!==e&&"cache-and-network"!==e&&(e="network-only"),Object(s.a)(this.variables,t)||(this.variables=Object(i.a)(Object(i.a)({},this.variables),t)),Object(s.a)(this.options.variables,this.variables)||(this.options.variables=Object(i.a)(Object(i.a)({},this.options.variables),this.variables)),this.queryManager.fetchQuery(this.queryId,Object(i.a)(Object(i.a)({},this.options),{fetchPolicy:e}),v.refetch))},e.prototype.fetchMore=function(t){var e=this;Object(l.b)(t.updateQuery,2);var r=Object(i.a)(Object(i.a)({},t.query?t:Object(i.a)(Object(i.a)(Object(i.a)({},this.options),t),{variables:Object(i.a)(Object(i.a)({},this.variables),t.variables)})),{fetchPolicy:"network-only"}),n=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(n,r,v.normal,this.queryId).then((function(i){return e.updateQuery((function(e){return t.updateQuery(e,{fetchMoreResult:i.data,variables:r.variables})})),e.queryManager.stopQuery(n),i}),(function(t){throw e.queryManager.stopQuery(n),t}))},e.prototype.subscribeToMore=function(t){var e=this,r=this.queryManager.startGraphQLSubscription({query:t.document,variables:t.variables}).subscribe({next:function(r){var n=t.updateQuery;n&&e.updateQuery((function(t,e){var i=e.variables;return n(t,{subscriptionData:r,variables:i})}))},error:function(e){t.onError&&t.onError(e)}});return this.subscriptions.add(r),function(){e.subscriptions.delete(r)&&r.unsubscribe()}},e.prototype.setOptions=function(t){var e=this.options.fetchPolicy;this.options=Object(i.a)(Object(i.a)({},this.options),t),t.pollInterval?this.startPolling(t.pollInterval):0===t.pollInterval&&this.stopPolling();var r=t.fetchPolicy;return this.setVariables(this.options.variables,e!==r&&("cache-only"===e||"standby"===e||"network-only"===r),t.fetchResults)},e.prototype.setVariables=function(t,e,r){return void 0===e&&(e=!1),void 0===r&&(r=!0),this.isTornDown=!1,t=t||this.variables,!e&&Object(s.a)(t,this.variables)?this.observers.size&&r?this.result():Promise.resolve():(this.variables=this.options.variables=t,this.observers.size?this.queryManager.fetchQuery(this.queryId,this.options):Promise.resolve())},e.prototype.updateQuery=function(t){var e=this.queryManager,r=e.getQueryWithPreviousResult(this.queryId),n=r.previousResult,i=r.variables,s=r.document,a=Object(o.I)((function(){return t(n,{variables:i})}));a&&(e.dataStore.markUpdateQueryResult(s,i,a),e.broadcastQueries())},e.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},e.prototype.startPolling=function(t){Q(this),this.options.pollInterval=t,this.queryManager.startPollingQuery(this.options,this.queryId)},e.prototype.updateLastResult=function(t){var e=this.lastResult;return this.lastResult=t,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?t:Object(o.f)(t),e},e.prototype.onSubscribe=function(t){var e=this;try{var r=t._subscription._observer;r&&!r.error&&(r.error=g)}catch(i){}var n=!this.observers.size;return this.observers.add(t),t.next&&this.lastResult&&t.next(this.lastResult),t.error&&this.lastError&&t.error(this.lastError),n&&this.setUpQuery(),function(){e.observers.delete(t)&&!e.observers.size&&e.tearDownQuery()}},e.prototype.setUpQuery=function(){var t=this,e=this.queryManager,r=this.queryId;this.shouldSubscribe&&e.addObservableQuery(r,this),this.options.pollInterval&&(Q(this),e.startPollingQuery(this.options,r));var o=function(e){t.updateLastResult(Object(i.a)(Object(i.a)({},t.lastResult),{errors:e.graphQLErrors,networkStatus:n.error,loading:!1})),m(t.observers,"error",t.lastError=e)};e.observeQuery(r,this.options,{next:function(r){if(t.lastError||t.isDifferentFromLastResult(r)){var n=t.updateLastResult(r),i=t.options,o=i.query,a=i.variables,u=i.fetchPolicy;e.transform(o).hasClientExports?e.getLocalState().addExportedVariables(o,a).then((function(i){var a=t.variables;t.variables=t.options.variables=i,!r.loading&&n&&"cache-only"!==u&&e.transform(o).serverQuery&&!Object(s.a)(a,i)?t.refetch():m(t.observers,"next",r)})):m(t.observers,"next",r)}},error:o}).catch(o)},e.prototype.tearDownQuery=function(){var t=this.queryManager;this.isTornDown=!0,t.stopPollingQuery(this.queryId),this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.subscriptions.clear(),t.removeObservableQuery(this.queryId),t.stopQuery(this.queryId),this.observers.clear()},e}(b);function g(t){}function m(t,e,r){var n=[];t.forEach((function(t){return t[e]&&n.push(t)})),n.forEach((function(t){return t[e](r)}))}function Q(t){var e=t.options.fetchPolicy;Object(l.b)("cache-first"!==e&&"cache-only"!==e,3)}var j=function(){function t(){this.store={}}return t.prototype.getStore=function(){return this.store},t.prototype.get=function(t){return this.store[t]},t.prototype.initMutation=function(t,e,r){this.store[t]={mutation:e,variables:r||{},loading:!0,error:null}},t.prototype.markMutationError=function(t,e){var r=this.store[t];r&&(r.loading=!1,r.error=e)},t.prototype.markMutationResult=function(t){var e=this.store[t];e&&(e.loading=!1,e.error=null)},t.prototype.reset=function(){this.store={}},t}(),S=function(){function t(){this.store={}}return t.prototype.getStore=function(){return this.store},t.prototype.get=function(t){return this.store[t]},t.prototype.initQuery=function(t){var e=this.store[t.queryId];Object(l.b)(!e||e.document===t.document||Object(s.a)(e.document,t.document),19);var r,i=!1,o=null;t.storePreviousVariables&&e&&e.networkStatus!==n.loading&&(Object(s.a)(e.variables,t.variables)||(i=!0,o=e.variables)),r=i?n.setVariables:t.isPoll?n.poll:t.isRefetch?n.refetch:n.loading;var a=[];e&&e.graphQLErrors&&(a=e.graphQLErrors),this.store[t.queryId]={document:t.document,variables:t.variables,previousVariables:o,networkError:null,graphQLErrors:a,networkStatus:r,metadata:t.metadata},"string"===typeof t.fetchMoreForQueryId&&this.store[t.fetchMoreForQueryId]&&(this.store[t.fetchMoreForQueryId].networkStatus=n.fetchMore)},t.prototype.markQueryResult=function(t,e,r){this.store&&this.store[t]&&(this.store[t].networkError=null,this.store[t].graphQLErrors=f(e.errors)?e.errors:[],this.store[t].previousVariables=null,this.store[t].networkStatus=n.ready,"string"===typeof r&&this.store[r]&&(this.store[r].networkStatus=n.ready))},t.prototype.markQueryError=function(t,e,r){this.store&&this.store[t]&&(this.store[t].networkError=e,this.store[t].networkStatus=n.error,"string"===typeof r&&this.markQueryResultClient(r,!0))},t.prototype.markQueryResultClient=function(t,e){var r=this.store&&this.store[t];r&&(r.networkError=null,r.previousVariables=null,e&&(r.networkStatus=n.ready))},t.prototype.stopQuery=function(t){delete this.store[t]},t.prototype.reset=function(t){var e=this;Object.keys(this.store).forEach((function(r){t.indexOf(r)<0?e.stopQuery(r):e.store[r].networkStatus=n.loading}))},t}();var w=function(){function t(t){var e=t.cache,r=t.client,n=t.resolvers,i=t.fragmentMatcher;this.cache=e,r&&(this.client=r),n&&this.addResolvers(n),i&&this.setFragmentMatcher(i)}return t.prototype.addResolvers=function(t){var e=this;this.resolvers=this.resolvers||{},Array.isArray(t)?t.forEach((function(t){e.resolvers=Object(o.A)(e.resolvers,t)})):this.resolvers=Object(o.A)(this.resolvers,t)},t.prototype.setResolvers=function(t){this.resolvers={},this.addResolvers(t)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(t){var e=t.document,r=t.remoteResult,n=t.context,o=t.variables,s=t.onlyRunForcedResolvers,a=void 0!==s&&s;return Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(t){return e?[2,this.resolveDocument(e,r.data,n,o,this.fragmentMatcher,a).then((function(t){return Object(i.a)(Object(i.a)({},r),{data:t.result})}))]:[2,r]}))}))},t.prototype.setFragmentMatcher=function(t){this.fragmentMatcher=t},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(t){return Object(o.s)(["client"],t)&&this.resolvers?t:null},t.prototype.serverQuery=function(t){return this.resolvers?Object(o.C)(t):t},t.prototype.prepareContext=function(t){void 0===t&&(t={});var e=this.cache;return Object(i.a)(Object(i.a)({},t),{cache:e,getCacheKey:function(t){if(e.config)return e.config.dataIdFromObject(t);Object(l.b)(!1,6)}})},t.prototype.addExportedVariables=function(t,e,r){return void 0===e&&(e={}),void 0===r&&(r={}),Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(n){return t?[2,this.resolveDocument(t,this.buildRootValueFromCache(t,e)||{},this.prepareContext(r),e).then((function(t){return Object(i.a)(Object(i.a)({},e),t.exportedVariables)}))]:[2,Object(i.a)({},e)]}))}))},t.prototype.shouldForceResolvers=function(t){var e=!1;return Object(p.b)(t,{Directive:{enter:function(t){if("client"===t.name.value&&t.arguments&&(e=t.arguments.some((function(t){return"always"===t.name.value&&"BooleanValue"===t.value.kind&&!0===t.value.value}))))return p.a}}}),e},t.prototype.buildRootValueFromCache=function(t,e){return this.cache.diff({query:Object(o.d)(t),variables:e,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(t,e,r,n,s,a){return void 0===r&&(r={}),void 0===n&&(n={}),void 0===s&&(s=function(){return!0}),void 0===a&&(a=!1),Object(i.b)(this,void 0,void 0,(function(){var u,c,l,p,h,b,f,d,v;return Object(i.d)(this,(function(y){var O;return u=Object(o.l)(t),c=Object(o.j)(t),l=Object(o.g)(c),p=u.operation,h=p?(O=p).charAt(0).toUpperCase()+O.slice(1):"Query",f=(b=this).cache,d=b.client,v={fragmentMap:l,context:Object(i.a)(Object(i.a)({},r),{cache:f,client:d}),variables:n,fragmentMatcher:s,defaultOperationType:h,exportedVariables:{},onlyRunForcedResolvers:a},[2,this.resolveSelectionSet(u.selectionSet,e,v).then((function(t){return{result:t,exportedVariables:v.exportedVariables}}))]}))}))},t.prototype.resolveSelectionSet=function(t,e,r){return Object(i.b)(this,void 0,void 0,(function(){var n,s,a,u,c,p=this;return Object(i.d)(this,(function(h){return n=r.fragmentMap,s=r.context,a=r.variables,u=[e],c=function(t){return Object(i.b)(p,void 0,void 0,(function(){var c,p;return Object(i.d)(this,(function(i){return Object(o.F)(t,a)?Object(o.t)(t)?[2,this.resolveField(t,e,r).then((function(e){var r;"undefined"!==typeof e&&u.push(((r={})[Object(o.E)(t)]=e,r))}))]:(Object(o.v)(t)?c=t:(c=n[t.name.value],Object(l.b)(c,7)),c&&c.typeCondition&&(p=c.typeCondition.name.value,r.fragmentMatcher(e,p,s))?[2,this.resolveSelectionSet(c.selectionSet,e,r).then((function(t){u.push(t)}))]:[2]):[2]}))}))},[2,Promise.all(t.selections.map(c)).then((function(){return Object(o.B)(u)}))]}))}))},t.prototype.resolveField=function(t,e,r){return Object(i.b)(this,void 0,void 0,(function(){var n,s,a,u,c,l,p,h,b,f=this;return Object(i.d)(this,(function(i){return n=r.variables,s=t.name.value,a=Object(o.E)(t),u=s!==a,c=e[a]||e[s],l=Promise.resolve(c),r.onlyRunForcedResolvers&&!this.shouldForceResolvers(t)||(p=e.__typename||r.defaultOperationType,(h=this.resolvers&&this.resolvers[p])&&(b=h[u?s:a])&&(l=Promise.resolve(b(e,Object(o.b)(t,n),r.context,{field:t,fragmentMap:r.fragmentMap})))),[2,l.then((function(e){return void 0===e&&(e=c),t.directives&&t.directives.forEach((function(t){"export"===t.name.value&&t.arguments&&t.arguments.forEach((function(t){"as"===t.name.value&&"StringValue"===t.value.kind&&(r.exportedVariables[t.value.value]=e)}))})),t.selectionSet?null==e?e:Array.isArray(e)?f.resolveSubSelectedArray(t,e,r):t.selectionSet?f.resolveSelectionSet(t.selectionSet,e,r):void 0:e}))]}))}))},t.prototype.resolveSubSelectedArray=function(t,e,r){var n=this;return Promise.all(e.map((function(e){return null===e?null:Array.isArray(e)?n.resolveSubSelectedArray(t,e,r):t.selectionSet?n.resolveSelectionSet(t.selectionSet,e,r):void 0})))},t}();function R(t){var e=new Set,r=null;return new b((function(n){return e.add(n),r=r||t.subscribe({next:function(t){e.forEach((function(e){return e.next&&e.next(t)}))},error:function(t){e.forEach((function(e){return e.error&&e.error(t)}))},complete:function(){e.forEach((function(t){return t.complete&&t.complete()}))}}),function(){e.delete(n)&&!e.size&&r&&(r.unsubscribe(),r=null)}}))}var q=Object.prototype.hasOwnProperty,k=function(){function t(t){var e=t.link,r=t.queryDeduplication,n=void 0!==r&&r,i=t.store,s=t.onBroadcast,a=void 0===s?function(){}:s,u=t.ssrMode,c=void 0!==u&&u,l=t.clientAwareness,p=void 0===l?{}:l,h=t.localState,b=t.assumeImmutableResults;this.mutationStore=new j,this.queryStore=new S,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.transformCache=new(o.e?WeakMap:Map),this.inFlightLinkObservables=new Map,this.pollingInfoByQueryId=new Map,this.link=e,this.queryDeduplication=n,this.dataStore=i,this.onBroadcast=a,this.clientAwareness=p,this.localState=h||new w({cache:i.getCache()}),this.ssrMode=c,this.assumeImmutableResults=!!b}return t.prototype.stop=function(){var t=this;this.queries.forEach((function(e,r){t.stopQueryNoBroadcast(r)})),this.fetchQueryRejectFns.forEach((function(t){t(new l.a(8))}))},t.prototype.mutate=function(t){var e=t.mutation,r=t.variables,n=t.optimisticResponse,s=t.updateQueries,a=t.refetchQueries,u=void 0===a?[]:a,c=t.awaitRefetchQueries,p=void 0!==c&&c,h=t.update,b=t.errorPolicy,d=void 0===b?"none":b,v=t.fetchPolicy,O=t.context,g=void 0===O?{}:O;return Object(i.b)(this,void 0,void 0,(function(){var t,a,c,b=this;return Object(i.d)(this,(function(O){switch(O.label){case 0:return Object(l.b)(e,9),Object(l.b)(!v||"no-cache"===v,10),t=this.generateQueryId(),e=this.transform(e).document,this.setQuery(t,(function(){return{document:e}})),r=this.getVariables(e,r),this.transform(e).hasClientExports?[4,this.localState.addExportedVariables(e,r,g)]:[3,2];case 1:r=O.sent(),O.label=2;case 2:return a=function(){var t={};return s&&b.queries.forEach((function(e,r){var n=e.observableQuery;if(n){var i=n.queryName;i&&q.call(s,i)&&(t[r]={updater:s[i],query:b.queryStore.get(r)})}})),t},this.mutationStore.initMutation(t,e,r),this.dataStore.markMutationInit({mutationId:t,document:e,variables:r,updateQueries:a(),update:h,optimisticResponse:n}),this.broadcastQueries(),c=this,[2,new Promise((function(s,l){var b,O;c.getObservableFromLink(e,Object(i.a)(Object(i.a)({},g),{optimisticResponse:n}),r,!1).subscribe({next:function(n){Object(o.q)(n)&&"none"===d?O=new y({graphQLErrors:n.errors}):(c.mutationStore.markMutationResult(t),"no-cache"!==v&&c.dataStore.markMutationResult({mutationId:t,result:n,document:e,variables:r,updateQueries:a(),update:h}),b=n)},error:function(e){c.mutationStore.markMutationError(t,e),c.dataStore.markMutationComplete({mutationId:t,optimisticResponse:n}),c.broadcastQueries(),c.setQuery(t,(function(){return{document:null}})),l(new y({networkError:e}))},complete:function(){if(O&&c.mutationStore.markMutationError(t,O),c.dataStore.markMutationComplete({mutationId:t,optimisticResponse:n}),c.broadcastQueries(),O)l(O);else{"function"===typeof u&&(u=u(b));var e=[];f(u)&&u.forEach((function(t){if("string"===typeof t)c.queries.forEach((function(r){var n=r.observableQuery;n&&n.queryName===t&&e.push(n.refetch())}));else{var r={query:t.query,variables:t.variables,fetchPolicy:"network-only"};t.context&&(r.context=t.context),e.push(c.query(r))}})),Promise.all(p?e:[]).then((function(){c.setQuery(t,(function(){return{document:null}})),"ignore"===d&&b&&Object(o.q)(b)&&delete b.errors,s(b)}))}}})}))]}}))}))},t.prototype.fetchQuery=function(t,e,r,n){return Object(i.b)(this,void 0,void 0,(function(){var s,a,u,c,l,p,h,b,f,O,g,m,Q,j,S,w,R,q,k=this;return Object(i.d)(this,(function(E){switch(E.label){case 0:return s=e.metadata,a=void 0===s?null:s,u=e.fetchPolicy,c=void 0===u?"cache-first":u,l=e.context,p=void 0===l?{}:l,h=this.transform(e.query).document,b=this.getVariables(h,e.variables),this.transform(h).hasClientExports?[4,this.localState.addExportedVariables(h,b,p)]:[3,2];case 1:b=E.sent(),E.label=2;case 2:if(e=Object(i.a)(Object(i.a)({},e),{variables:b}),g=O="network-only"===c||"no-cache"===c,O||(m=this.dataStore.getCache().diff({query:h,variables:b,returnPartialData:!0,optimistic:!1}),Q=m.complete,j=m.result,g=!Q||"cache-and-network"===c,f=j),S=g&&"cache-only"!==c&&"standby"!==c,Object(o.s)(["live"],h)&&(S=!0),w=this.idCounter++,R="no-cache"!==c?this.updateQueryWatch(t,h,e):void 0,this.setQuery(t,(function(){return{document:h,lastRequestId:w,invalidated:!0,cancel:R}})),this.invalidate(n),this.queryStore.initQuery({queryId:t,document:h,storePreviousVariables:S,variables:b,isPoll:r===v.poll,isRefetch:r===v.refetch,metadata:a,fetchMoreForQueryId:n}),this.broadcastQueries(),S){if(q=this.fetchRequest({requestId:w,queryId:t,document:h,options:e,fetchMoreForQueryId:n}).catch((function(e){throw d(e)?e:(w>=k.getQuery(t).lastRequestId&&(k.queryStore.markQueryError(t,e,n),k.invalidate(t),k.invalidate(n),k.broadcastQueries()),new y({networkError:e}))})),"cache-and-network"!==c)return[2,q];q.catch((function(){}))}return this.queryStore.markQueryResultClient(t,!S),this.invalidate(t),this.invalidate(n),this.transform(h).hasForcedResolvers?[2,this.localState.runResolvers({document:h,remoteResult:{data:f},context:p,variables:b,onlyRunForcedResolvers:!0}).then((function(r){return k.markQueryResult(t,r,e,n),k.broadcastQueries(),r}))]:(this.broadcastQueries(),[2,{data:f}])}}))}))},t.prototype.markQueryResult=function(t,e,r,n){var i=r.fetchPolicy,o=r.variables,s=r.errorPolicy;"no-cache"===i?this.setQuery(t,(function(){return{newData:{result:e.data,complete:!0}}})):this.dataStore.markQueryResult(e,this.getQuery(t).document,o,n,"ignore"===s||"all"===s)},t.prototype.queryListenerForObserver=function(t,e,r){var n=this;function i(t,e){if(r[t])try{r[t](e)}catch(n){}}return function(r,o){if(n.invalidate(t,!1),r){var s=n.getQuery(t),a=s.observableQuery,u=s.document,c=a?a.options.fetchPolicy:e.fetchPolicy;if("standby"!==c){var l=h(r.networkStatus),p=a&&a.getLastResult(),b=!(!p||p.networkStatus===r.networkStatus),d=e.returnPartialData||!o&&r.previousVariables||b&&e.notifyOnNetworkStatusChange||"cache-only"===c||"cache-and-network"===c;if(!l||d){var v=f(r.graphQLErrors),O=a&&a.options.errorPolicy||e.errorPolicy||"none";if("none"===O&&v||r.networkError)return i("error",new y({graphQLErrors:r.graphQLErrors,networkError:r.networkError}));try{var g=void 0,m=void 0;if(o)"no-cache"!==c&&"network-only"!==c&&n.setQuery(t,(function(){return{newData:null}})),g=o.result,m=!o.complete;else{var Q=a&&a.getLastError(),j="none"!==O&&(Q&&Q.graphQLErrors)!==r.graphQLErrors;if(p&&p.data&&!j)g=p.data,m=!1;else{var S=n.dataStore.getCache().diff({query:u,variables:r.previousVariables||r.variables,returnPartialData:!0,optimistic:!0});g=S.result,m=!S.complete}}var w=m&&!(e.returnPartialData||"cache-only"===c),R={data:w?p&&p.data:g,loading:l,networkStatus:r.networkStatus,stale:w};"all"===O&&v&&(R.errors=r.graphQLErrors),i("next",R)}catch(q){i("error",new y({networkError:q}))}}}}}},t.prototype.transform=function(t){var e=this.transformCache;if(!e.has(t)){var r=this.dataStore.getCache(),n=r.transformDocument(t),i=Object(o.D)(r.transformForLink(n)),s=this.localState.clientQuery(n),a=this.localState.serverQuery(i),u={document:n,hasClientExports:Object(o.r)(n),hasForcedResolvers:this.localState.shouldForceResolvers(n),clientQuery:s,serverQuery:a,defaultVars:Object(o.h)(Object(o.m)(n))},c=function(t){t&&!e.has(t)&&e.set(t,u)};c(t),c(n),c(s),c(a)}return e.get(t)},t.prototype.getVariables=function(t,e){return Object(i.a)(Object(i.a)({},this.transform(t).defaultVars),e)},t.prototype.watchQuery=function(t,e){void 0===e&&(e=!0),Object(l.b)("standby"!==t.fetchPolicy,11),t.variables=this.getVariables(t.query,t.variables),"undefined"===typeof t.notifyOnNetworkStatusChange&&(t.notifyOnNetworkStatusChange=!1);var r=Object(i.a)({},t);return new O({queryManager:this,options:r,shouldSubscribe:e})},t.prototype.query=function(t){var e=this;return Object(l.b)(t.query,12),Object(l.b)("Document"===t.query.kind,13),Object(l.b)(!t.returnPartialData,14),Object(l.b)(!t.pollInterval,15),new Promise((function(r,n){var i=e.watchQuery(t,!1);e.fetchQueryRejectFns.set("query:"+i.queryId,n),i.result().then(r,n).then((function(){return e.fetchQueryRejectFns.delete("query:"+i.queryId)}))}))},t.prototype.generateQueryId=function(){return String(this.idCounter++)},t.prototype.stopQueryInStore=function(t){this.stopQueryInStoreNoBroadcast(t),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(t){this.stopPollingQuery(t),this.queryStore.stopQuery(t),this.invalidate(t)},t.prototype.addQueryListener=function(t,e){this.setQuery(t,(function(t){return t.listeners.add(e),{invalidated:!1}}))},t.prototype.updateQueryWatch=function(t,e,r){var n=this,i=this.getQuery(t).cancel;i&&i();return this.dataStore.getCache().watch({query:e,variables:r.variables,optimistic:!0,previousResult:function(){var e=null,r=n.getQuery(t).observableQuery;if(r){var i=r.getLastResult();i&&(e=i.data)}return e},callback:function(e){n.setQuery(t,(function(){return{invalidated:!0,newData:e}}))}})},t.prototype.addObservableQuery=function(t,e){this.setQuery(t,(function(){return{observableQuery:e}}))},t.prototype.removeObservableQuery=function(t){var e=this.getQuery(t).cancel;this.setQuery(t,(function(){return{observableQuery:null}})),e&&e()},t.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach((function(t){t(new l.a(16))}));var t=[];return this.queries.forEach((function(e,r){e.observableQuery&&t.push(r)})),this.queryStore.reset(t),this.mutationStore.reset(),this.dataStore.reset()},t.prototype.resetStore=function(){var t=this;return this.clearStore().then((function(){return t.reFetchObservableQueries()}))},t.prototype.reFetchObservableQueries=function(t){var e=this;void 0===t&&(t=!1);var r=[];return this.queries.forEach((function(n,i){var o=n.observableQuery;if(o){var s=o.options.fetchPolicy;o.resetLastResults(),"cache-only"===s||!t&&"standby"===s||r.push(o.refetch()),e.setQuery(i,(function(){return{newData:null}})),e.invalidate(i)}})),this.broadcastQueries(),Promise.all(r)},t.prototype.observeQuery=function(t,e,r){return this.addQueryListener(t,this.queryListenerForObserver(t,e,r)),this.fetchQuery(t,e)},t.prototype.startQuery=function(t,e,r){return this.addQueryListener(t,r),this.fetchQuery(t,e).catch((function(){})),t},t.prototype.startGraphQLSubscription=function(t){var e=this,r=t.query,n=t.fetchPolicy,i=t.variables;r=this.transform(r).document,i=this.getVariables(r,i);var s=function(t){return e.getObservableFromLink(r,{},t,!1).map((function(i){if(n&&"no-cache"===n||(e.dataStore.markSubscriptionResult(i,r,t),e.broadcastQueries()),Object(o.q)(i))throw new y({graphQLErrors:i.errors});return i}))};if(this.transform(r).hasClientExports){var a=this.localState.addExportedVariables(r,i).then(s);return new b((function(t){var e=null;return a.then((function(r){return e=r.subscribe(t)}),t.error),function(){return e&&e.unsubscribe()}}))}return s(i)},t.prototype.stopQuery=function(t){this.stopQueryNoBroadcast(t),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(t){this.stopQueryInStoreNoBroadcast(t),this.removeQuery(t)},t.prototype.removeQuery=function(t){this.fetchQueryRejectFns.delete("query:"+t),this.fetchQueryRejectFns.delete("fetchRequest:"+t),this.getQuery(t).subscriptions.forEach((function(t){return t.unsubscribe()})),this.queries.delete(t)},t.prototype.getCurrentQueryResult=function(t,e){void 0===e&&(e=!0);var r=t.options,n=r.variables,i=r.query,o=r.fetchPolicy,s=r.returnPartialData,a=t.getLastResult(),u=this.getQuery(t.queryId).newData;if(u&&u.complete)return{data:u.result,partial:!1};if("no-cache"===o||"network-only"===o)return{data:void 0,partial:!1};var c=this.dataStore.getCache().diff({query:i,variables:n,previousResult:a?a.data:void 0,returnPartialData:!0,optimistic:e}),l=c.result,p=c.complete;return{data:p||s?l:void 0,partial:!p}},t.prototype.getQueryWithPreviousResult=function(t){var e;if("string"===typeof t){var r=this.getQuery(t).observableQuery;Object(l.b)(r,17),e=r}else e=t;var n=e.options,i=n.variables,o=n.query;return{previousResult:this.getCurrentQueryResult(e,!1).data,variables:i,document:o}},t.prototype.broadcastQueries=function(){var t=this;this.onBroadcast(),this.queries.forEach((function(e,r){e.invalidated&&e.listeners.forEach((function(n){n&&n(t.queryStore.get(r),e.newData)}))}))},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(t,e,r,n){var s,a=this;void 0===n&&(n=this.queryDeduplication);var c=this.transform(t).serverQuery;if(c){var l=this.inFlightLinkObservables,p=this.link,h={query:c,variables:r,operationName:Object(o.n)(c)||void 0,context:this.prepareContext(Object(i.a)(Object(i.a)({},e),{forceFetch:!n}))};if(e=h.context,n){var f=l.get(c)||new Map;l.set(c,f);var d=JSON.stringify(r);if(!(s=f.get(d))){f.set(d,s=R(Object(u.execute)(p,h)));var v=function(){f.delete(d),f.size||l.delete(c),y.unsubscribe()},y=s.subscribe({next:v,error:v,complete:v})}}else s=R(Object(u.execute)(p,h))}else s=b.of({data:{}}),e=this.prepareContext(e);var O=this.transform(t).clientQuery;return O&&(s=function(t,e){return new b((function(r){var n=r.next,i=r.error,o=r.complete,s=0,a=!1,u={next:function(t){++s,new Promise((function(r){r(e(t))})).then((function(t){--s,n&&n.call(r,t),a&&u.complete()}),(function(t){--s,i&&i.call(r,t)}))},error:function(t){i&&i.call(r,t)},complete:function(){a=!0,s||o&&o.call(r)}},c=t.subscribe(u);return function(){return c.unsubscribe()}}))}(s,(function(t){return a.localState.runResolvers({document:O,remoteResult:t,context:e,variables:r})}))),s},t.prototype.fetchRequest=function(t){var e,r,i=this,o=t.requestId,s=t.queryId,a=t.document,u=t.options,c=t.fetchMoreForQueryId,l=u.variables,p=u.errorPolicy,h=void 0===p?"none":p,b=u.fetchPolicy;return new Promise((function(t,p){var d=i.getObservableFromLink(a,u.context,l),v="fetchRequest:"+s;i.fetchQueryRejectFns.set(v,p);var O=function(){i.fetchQueryRejectFns.delete(v),i.setQuery(s,(function(t){t.subscriptions.delete(g)}))},g=d.map((function(t){if(o>=i.getQuery(s).lastRequestId&&(i.markQueryResult(s,t,u,c),i.queryStore.markQueryResult(s,t,c),i.invalidate(s),i.invalidate(c),i.broadcastQueries()),"none"===h&&f(t.errors))return p(new y({graphQLErrors:t.errors}));if("all"===h&&(r=t.errors),c||"no-cache"===b)e=t.data;else{var n=i.dataStore.getCache().diff({variables:l,query:a,optimistic:!1,returnPartialData:!0}),d=n.result;(n.complete||u.returnPartialData)&&(e=d)}})).subscribe({error:function(t){O(),p(t)},complete:function(){O(),t({data:e,errors:r,loading:!1,networkStatus:n.ready,stale:!1})}});i.setQuery(s,(function(t){t.subscriptions.add(g)}))}))},t.prototype.getQuery=function(t){return this.queries.get(t)||{listeners:new Set,invalidated:!1,document:null,newData:null,lastRequestId:1,observableQuery:null,subscriptions:new Set}},t.prototype.setQuery=function(t,e){var r=this.getQuery(t),n=Object(i.a)(Object(i.a)({},r),e(r));this.queries.set(t,n)},t.prototype.invalidate=function(t,e){void 0===e&&(e=!0),t&&this.setQuery(t,(function(){return{invalidated:e}}))},t.prototype.prepareContext=function(t){void 0===t&&(t={});var e=this.localState.prepareContext(t);return Object(i.a)(Object(i.a)({},e),{clientAwareness:this.clientAwareness})},t.prototype.checkInFlight=function(t){var e=this.queryStore.get(t);return e&&e.networkStatus!==n.ready&&e.networkStatus!==n.error},t.prototype.startPollingQuery=function(t,e,r){var n=this,o=t.pollInterval;if(Object(l.b)(o,18),!this.ssrMode){var s=this.pollingInfoByQueryId.get(e);s||this.pollingInfoByQueryId.set(e,s={}),s.interval=o,s.options=Object(i.a)(Object(i.a)({},t),{fetchPolicy:"network-only"});var a=function(){var t=n.pollingInfoByQueryId.get(e);t&&(n.checkInFlight(e)?u():n.fetchQuery(e,t.options,v.poll).then(u,u))},u=function(){var t=n.pollingInfoByQueryId.get(e);t&&(clearTimeout(t.timeout),t.timeout=setTimeout(a,t.interval))};r&&this.addQueryListener(e,r),u()}return e},t.prototype.stopPollingQuery=function(t){this.pollingInfoByQueryId.delete(t)},t}(),E=function(){function t(t){this.cache=t}return t.prototype.getCache=function(){return this.cache},t.prototype.markQueryResult=function(t,e,r,n,i){void 0===i&&(i=!1);var s=!Object(o.q)(t);i&&Object(o.q)(t)&&t.data&&(s=!0),!n&&s&&this.cache.write({result:t.data,dataId:"ROOT_QUERY",query:e,variables:r})},t.prototype.markSubscriptionResult=function(t,e,r){Object(o.q)(t)||this.cache.write({result:t.data,dataId:"ROOT_SUBSCRIPTION",query:e,variables:r})},t.prototype.markMutationInit=function(t){var e,r=this;t.optimisticResponse&&(e="function"===typeof t.optimisticResponse?t.optimisticResponse(t.variables):t.optimisticResponse,this.cache.recordOptimisticTransaction((function(n){var i=r.cache;r.cache=n;try{r.markMutationResult({mutationId:t.mutationId,result:{data:e},document:t.document,variables:t.variables,updateQueries:t.updateQueries,update:t.update})}finally{r.cache=i}}),t.mutationId))},t.prototype.markMutationResult=function(t){var e=this;if(!Object(o.q)(t.result)){var r=[{result:t.result.data,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables}],n=t.updateQueries;n&&Object.keys(n).forEach((function(i){var s=n[i],a=s.query,u=s.updater,c=e.cache.diff({query:a.document,variables:a.variables,returnPartialData:!0,optimistic:!1}),l=c.result;if(c.complete){var p=Object(o.I)((function(){return u(l,{mutationResult:t.result,queryName:Object(o.n)(a.document)||void 0,queryVariables:a.variables})}));p&&r.push({result:p,dataId:"ROOT_QUERY",query:a.document,variables:a.variables})}})),this.cache.performTransaction((function(e){r.forEach((function(t){return e.write(t)}));var n=t.update;n&&Object(o.I)((function(){return n(e,t.result)}))}))}},t.prototype.markMutationComplete=function(t){var e=t.mutationId;t.optimisticResponse&&this.cache.removeOptimistic(e)},t.prototype.markUpdateQueryResult=function(t,e,r){this.cache.write({result:r,dataId:"ROOT_QUERY",variables:e,query:t})},t.prototype.reset=function(){return this.cache.reset()},t}(),M=function(){function t(t){var e=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var r=t.cache,n=t.ssrMode,i=void 0!==n&&n,o=t.ssrForceFetchDelay,s=void 0===o?0:o,a=t.connectToDevTools,c=t.queryDeduplication,p=void 0===c||c,h=t.defaultOptions,b=t.assumeImmutableResults,f=void 0!==b&&b,d=t.resolvers,v=t.typeDefs,y=t.fragmentMatcher,O=t.name,g=t.version,m=t.link;if(!m&&d&&(m=u.ApolloLink.empty()),!m||!r)throw new l.a(4);this.link=m,this.cache=r,this.store=new E(r),this.disableNetworkFetches=i||s>0,this.queryDeduplication=p,this.defaultOptions=h||{},this.typeDefs=v,s&&setTimeout((function(){return e.disableNetworkFetches=!1}),s),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);"undefined"!==typeof a&&(a&&"undefined"!==typeof window)&&(window.__APOLLO_CLIENT__=this),this.version="2.6.10",this.localState=new w({cache:r,client:this,resolvers:d,fragmentMatcher:y}),this.queryManager=new k({link:this.link,store:this.store,queryDeduplication:p,ssrMode:i,clientAwareness:{name:O,version:g},localState:this.localState,assumeImmutableResults:f,onBroadcast:function(){e.devToolsHookCb&&e.devToolsHookCb({action:{},state:{queries:e.queryManager.queryStore.getStore(),mutations:e.queryManager.mutationStore.getStore()},dataWithOptimisticResults:e.cache.extract(!0)})}})}return t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(t){return this.defaultOptions.watchQuery&&(t=Object(i.a)(Object(i.a)({},this.defaultOptions.watchQuery),t)),!this.disableNetworkFetches||"network-only"!==t.fetchPolicy&&"cache-and-network"!==t.fetchPolicy||(t=Object(i.a)(Object(i.a)({},t),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(t)},t.prototype.query=function(t){return this.defaultOptions.query&&(t=Object(i.a)(Object(i.a)({},this.defaultOptions.query),t)),Object(l.b)("cache-and-network"!==t.fetchPolicy,5),this.disableNetworkFetches&&"network-only"===t.fetchPolicy&&(t=Object(i.a)(Object(i.a)({},t),{fetchPolicy:"cache-first"})),this.queryManager.query(t)},t.prototype.mutate=function(t){return this.defaultOptions.mutate&&(t=Object(i.a)(Object(i.a)({},this.defaultOptions.mutate),t)),this.queryManager.mutate(t)},t.prototype.subscribe=function(t){return this.queryManager.startGraphQLSubscription(t)},t.prototype.readQuery=function(t,e){return void 0===e&&(e=!1),this.cache.readQuery(t,e)},t.prototype.readFragment=function(t,e){return void 0===e&&(e=!1),this.cache.readFragment(t,e)},t.prototype.writeQuery=function(t){var e=this.cache.writeQuery(t);return this.queryManager.broadcastQueries(),e},t.prototype.writeFragment=function(t){var e=this.cache.writeFragment(t);return this.queryManager.broadcastQueries(),e},t.prototype.writeData=function(t){var e=this.cache.writeData(t);return this.queryManager.broadcastQueries(),e},t.prototype.__actionHookForDevTools=function(t){this.devToolsHookCb=t},t.prototype.__requestRaw=function(t){return Object(u.execute)(this.link,t)},t.prototype.initQueryManager=function(){return this.queryManager},t.prototype.resetStore=function(){var t=this;return Promise.resolve().then((function(){return t.queryManager.clearStore()})).then((function(){return Promise.all(t.resetStoreCallbacks.map((function(t){return t()})))})).then((function(){return t.reFetchObservableQueries()}))},t.prototype.clearStore=function(){var t=this;return Promise.resolve().then((function(){return t.queryManager.clearStore()})).then((function(){return Promise.all(t.clearStoreCallbacks.map((function(t){return t()})))}))},t.prototype.onResetStore=function(t){var e=this;return this.resetStoreCallbacks.push(t),function(){e.resetStoreCallbacks=e.resetStoreCallbacks.filter((function(e){return e!==t}))}},t.prototype.onClearStore=function(t){var e=this;return this.clearStoreCallbacks.push(t),function(){e.clearStoreCallbacks=e.clearStoreCallbacks.filter((function(e){return e!==t}))}},t.prototype.reFetchObservableQueries=function(t){return this.queryManager.reFetchObservableQueries(t)},t.prototype.extract=function(t){return this.cache.extract(t)},t.prototype.restore=function(t){return this.cache.restore(t)},t.prototype.addResolvers=function(t){this.localState.addResolvers(t)},t.prototype.setResolvers=function(t){this.localState.setResolvers(t)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(t){this.localState.setFragmentMatcher(t)},t}();e.default=M}}]);