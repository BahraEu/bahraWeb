{"ast":null,"code":"\"use strict\";\n\nvar _reactJsxRuntime = require(\"react/jsx-runtime\");\n\nvar _classCallCheck = require(\"/Users/bahra/bahra/web-master/dist/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/bahra/bahra/web-master/dist/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/Users/bahra/bahra/web-master/dist/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"/Users/bahra/bahra/web-master/dist/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/Users/bahra/bahra/web-master/dist/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar mobx_react_1 = require(\"mobx-react\");\n\nvar ToolBarStyles_1 = require(\"./ToolBarStyles\");\n\nvar category_1 = __importDefault(require(\"../../../bahra/Common/Category/category\"));\n\nvar cart_1 = __importDefault(require(\"../../../bahra/Common/Cart/cart\"));\n\nvar tag_1 = __importDefault(require(\"../../../bahra/Common/Tag/tag\"));\n\nvar artistsIcon_1 = __importDefault(require(\"../../../bahra/BahraIcons/DrawerIcon/artistsIcon/artistsIcon\"));\n\nvar eventsIcon_1 = __importDefault(require(\"../../../bahra/BahraIcons/DrawerIcon/eventsIcon/eventsIcon\"));\n\nvar blogsIcon_1 = __importDefault(require(\"../../../bahra/BahraIcons/DrawerIcon/blogsIcon/blogsIcon\"));\n\nvar SortByIcon_1 = require(\"../../../bahra/BahraIcons/ToolsBarIcon/SortByIcon\");\n\nvar FilterIcon_1 = require(\"../../../bahra/BahraIcons/ToolsBarIcon/FilterIcon\");\n\nvar lodash_1 = require(\"lodash\");\n\nvar i18n_1 = require(\"../../../../../i18n\");\n\nvar styles_1 = require(\"../../../../components/bahra/BahraIcons/ToolsBarIcon/styles\");\n\nvar ToolsBarisActive;\n\n(function (ToolsBarisActive) {\n  ToolsBarisActive[ToolsBarisActive[\"categoriesActive\"] = 0] = \"categoriesActive\";\n  ToolsBarisActive[ToolsBarisActive[\"tagsActive\"] = 1] = \"tagsActive\";\n  ToolsBarisActive[ToolsBarisActive[\"filterActive\"] = 2] = \"filterActive\";\n  ToolsBarisActive[ToolsBarisActive[\"cartActive\"] = 3] = \"cartActive\";\n  ToolsBarisActive[ToolsBarisActive[\"sortByActive\"] = 4] = \"sortByActive\";\n})(ToolsBarisActive || (ToolsBarisActive = {}));\n\nvar ToolsBar = /*#__PURE__*/function (_react_1$default$Comp) {\n  _inherits(ToolsBar, _react_1$default$Comp);\n\n  var _super = _createSuper(ToolsBar);\n\n  function ToolsBar(props) {\n    var _this;\n\n    _classCallCheck(this, ToolsBar);\n\n    _this = _super.call(this, props);\n    _this.wrapperRef = react_1[\"default\"].createRef();\n\n    _this.handleClickOutside = function (event) {\n      var current = _this.wrapperRef.current;\n\n      if (current && !current.contains(event.target)) {\n        _this.toggletoolBarActive({\n          activeToolBar: null,\n          active: false\n        });\n      }\n    };\n\n    _this.toggletoolBarActive = function (activeToolBar) {\n      try {\n        if (activeToolBar.categories !== null) {\n          if (!lodash_1.isEmpty(_this.props.bahraContent.categories)) {\n            _this.setState({\n              activeToolBar: {\n                categories: {\n                  id: _this.props.bahraContent.categories,\n                  categoriesActive: true\n                }\n              }\n            });\n\n            _this.setState({\n              active: true\n            });\n          }\n        }\n\n        if (activeToolBar.tags !== null) {\n          if (!lodash_1.isEmpty(_this.props.bahraContent.tags)) {\n            _this.setState({\n              activeToolBar: {\n                tags: {\n                  id: _this.props.bahraContent.tags,\n                  tagsActive: true\n                }\n              }\n            });\n\n            _this.setState({\n              active: true\n            });\n          }\n        }\n\n        if (activeToolBar.filter !== null) {\n          if (!lodash_1.isEmpty(_this.props.bahraContent.filter)) {\n            _this.setState({\n              active: true\n            });\n\n            _this.setState({\n              activeToolBar: {\n                filter: {\n                  id: _this.props.bahraContent.filter,\n                  filterActive: true\n                }\n              }\n            });\n          }\n        }\n\n        if (activeToolBar.sortBy !== null) {\n          if (!lodash_1.isEmpty(_this.props.bahraContent.sortBy)) {\n            _this.setState({\n              active: true\n            });\n\n            _this.setState({\n              activeToolBar: {\n                sortBy: {\n                  id: _this.props.bahraContent.sortBy,\n                  sortByActive: true\n                }\n              }\n            });\n          }\n        }\n      } catch (_a) {\n        (function (e) {\n          return console.error(e);\n        });\n      } finally {\n        (function (e) {\n          return console.error(e);\n        });\n      }\n    };\n\n    _this.state = {\n      toolBarOpen: false,\n      isActive: null,\n      active: false,\n      categories: null,\n      tags: null,\n      cart: null,\n      activeToolBar: {\n        categories: {\n          id: null,\n          categoriesActive: false\n        },\n        tags: {\n          id: null,\n          tagsActive: false\n        },\n        filter: {\n          id: null,\n          filterActive: false\n        },\n        sortBy: {\n          id: null,\n          sortByActive: false\n        },\n        cart: {\n          id: null,\n          cartActive: false\n        }\n      }\n    };\n    return _this;\n  }\n\n  _createClass(ToolsBar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      (function () {\n        if (lodash_1.isEmpty(_this2.state.activeToolBar) && _this2.props.toolBarOpen) {\n          _this2.toggletoolBarActive;\n        } else {\n          _this2.setState({\n            active: false\n          });\n\n          _this2.setState({\n            activeToolBar: null\n          });\n        }\n      });\n\n      document.addEventListener('click', this.handleClickOutside, false);\n      document.addEventListener('touchstart', this.handleClickOutside, false);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.addEventListener('click', this.handleClickOutside, false);\n      document.addEventListener('touchstart', this.handleClickOutside, false);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      console.log('ToolsBarProps', this.props);\n      var isActive = this.state.isActive;\n      var _this$props = this.props,\n          toolBarOpen = _this$props.toolBarOpen,\n          t = _this$props.t,\n          currentLanguage = _this$props.currentLanguage,\n          currentUrl = _this$props.currentUrl;\n      var _this$state = this.state,\n          cart = _this$state.cart,\n          categories = _this$state.categories,\n          tags = _this$state.tags,\n          active = _this$state.active;\n      debugger;\n      console.log('ToolsBarstarte', this.state, this.props, active, currentLanguage);\n      return /*#__PURE__*/_reactJsxRuntime.jsxs(_reactJsxRuntime.Fragment, {\n        children: [currentUrl.includes('shop') || currentUrl.includes('products') ? /*#__PURE__*/_reactJsxRuntime.jsx(ToolBarStyles_1.StyledTopToolBarIcons, {\n          onClick: function onClick() {\n            return console.log('');\n          },\n          \"data-active\": isActive,\n          children: /*#__PURE__*/_reactJsxRuntime.jsx(cart_1[\"default\"], {\n            cart: cart,\n            active: active,\n            t: t,\n            toolBarOpen: toolBarOpen\n          })\n        }) : null, currentUrl.includes('blog' || 'blogs') ? /*#__PURE__*/_reactJsxRuntime.jsx(ToolBarStyles_1.StyledTopToolBarIcons, {\n          children: /*#__PURE__*/_reactJsxRuntime.jsx(blogsIcon_1[\"default\"], {\n            toolBarOpen: toolBarOpen\n          })\n        }) : null, currentUrl.includes('artist' || 'artists') ? /*#__PURE__*/_reactJsxRuntime.jsx(ToolBarStyles_1.StyledTopToolBarIcons, {\n          children: /*#__PURE__*/_reactJsxRuntime.jsx(artistsIcon_1[\"default\"], {\n            toolBarOpen: toolBarOpen\n          })\n        }) : null, currentUrl.includes('event' || 'events') ? /*#__PURE__*/_reactJsxRuntime.jsx(ToolBarStyles_1.StyledTopToolBarIcons, {\n          children: /*#__PURE__*/_reactJsxRuntime.jsx(eventsIcon_1[\"default\"], {\n            toolBarOpen: toolBarOpen\n          })\n        }) : null, toolBarOpen ? /*#__PURE__*/_reactJsxRuntime.jsx(_reactJsxRuntime.Fragment, {\n          children: /*#__PURE__*/_reactJsxRuntime.jsxs(ToolBarStyles_1.StyledToolBar, {\n            active: this.state.active,\n            open: toolBarOpen,\n            children: [/*#__PURE__*/_reactJsxRuntime.jsx(\"div\", {\n              children: /*#__PURE__*/_reactJsxRuntime.jsx(styles_1.StyledToolBarIcons, {\n                open: toolBarOpen,\n                active: active,\n                ref: this.wrapperRef,\n                onClick: function onClick() {\n                  return _this3.toggletoolBarActive({\n                    activeToolBar: categories,\n                    active: true\n                  });\n                },\n                \"data-active\": isActive,\n                children: /*#__PURE__*/_reactJsxRuntime.jsx(category_1[\"default\"], {\n                  categories: categories,\n                  isActive: active\n                })\n              })\n            }), /*#__PURE__*/_reactJsxRuntime.jsx(\"div\", {\n              children: /*#__PURE__*/_reactJsxRuntime.jsx(styles_1.StyledToolBarIcons, {\n                open: toolBarOpen,\n                active: active,\n                ref: this.wrapperRef,\n                onClick: function onClick() {\n                  return _this3.toggletoolBarActive({\n                    activeToolBar: lodash_1.sortBy,\n                    active: true\n                  });\n                },\n                \"data-active\": isActive,\n                children: /*#__PURE__*/_reactJsxRuntime.jsx(SortByIcon_1.StyledIconSortBy, {\n                  t: t\n                })\n              })\n            }), /*#__PURE__*/_reactJsxRuntime.jsx(\"div\", {\n              children: /*#__PURE__*/_reactJsxRuntime.jsx(styles_1.StyledToolBarIcons, {\n                open: toolBarOpen,\n                active: active,\n                ref: this.wrapperRef,\n                onClick: function onClick() {\n                  return _this3.toggletoolBarActive({\n                    activeToolBar: lodash_1.filter,\n                    active: true\n                  });\n                },\n                \"data-active\": isActive,\n                children: /*#__PURE__*/_reactJsxRuntime.jsx(FilterIcon_1.StyledIconFilter, {\n                  t: t\n                })\n              })\n            }), /*#__PURE__*/_reactJsxRuntime.jsx(\"div\", {\n              children: /*#__PURE__*/_reactJsxRuntime.jsx(styles_1.StyledToolBarIcons, {\n                open: toolBarOpen,\n                active: active,\n                ref: this.wrapperRef,\n                onClick: function onClick() {\n                  return _this3.toggletoolBarActive({\n                    activeToolBar: tags,\n                    active: true\n                  });\n                },\n                \"data-active\": isActive,\n                children: /*#__PURE__*/_reactJsxRuntime.jsx(tag_1[\"default\"], {\n                  isActive: active,\n                  tags: tags\n                })\n              })\n            })]\n          })\n        }) : null]\n      });\n    }\n  }]);\n\n  return ToolsBar;\n}(react_1[\"default\"].Component);\n\nToolsBar = __decorate([mobx_react_1.inject('store'), mobx_react_1.observer], ToolsBar);\nexports[\"default\"] = i18n_1.withTranslation(\"common\")(ToolsBar);","map":null,"metadata":{},"sourceType":"script"}