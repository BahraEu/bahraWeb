{"ast":null,"code":"\"use strict\";\n\nvar _reactJsxRuntime = require(\"react/jsx-runtime\");\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst React = __importStar(require(\"react\"));\n\nconst routes_1 = require(\"../../../services/routes/routes\");\n\nconst style_1 = require(\"./style\");\n\nconst i18n_1 = require(\"../../../../i18n\");\n\nconst react_spring_1 = require(\"react-spring\");\n\nconst theme_1 = __importDefault(require(\"../../../styles/theme\"));\n\nconst menuItem_1 = __importDefault(require(\"./menuItem\"));\n\nconst utilty_1 = require(\"../../../utilty\");\n\nconst DropDownContent = theme_1.default(react_spring_1.animated.div)`\n  display: none;\n  position: absolute;\n  background-color:${props => utilty_1.hexa(props.theme.bg.inset3, 1)}!important;\n  min-width: 160px;\n  box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);\n  z-index: 1;\n`;\nconst itemsToShow = {\n  instructor: {\n    showText: \"instructor\",\n    callBackFunction: () => {\n      console.log(\"a\");\n    }\n  },\n  student: {\n    showText: \"student\",\n    callBackFunction: () => {\n      console.log(\"a\");\n    }\n  }\n};\nconst showThisRole = \"instructor\";\n\nconst Menu = props => {\n  const node = React.useRef();\n  const [currentItemDisplay, setcurrentItemDisplay] = React.useState(Object.keys(itemsToShow).length > 0 ? showThisRole : \"\");\n  let rolesDisplay = [];\n  let updateNumber = 0;\n  Object.keys(itemsToShow).map(item => {\n    if (itemsToShow[item][\"url\"]) {\n      // exists URL\n      rolesDisplay.push( /*#__PURE__*/_reactJsxRuntime.jsx(\"p\", {\n        onClick: () => window.location.href = itemsToShow[item][\"url\"],\n        children: itemsToShow[item][\"showText\"]\n      }, \"op\" + updateNumber++));\n    } else {\n      // no url, exec callBack\n      rolesDisplay.push( /*#__PURE__*/_reactJsxRuntime.jsxs(\"p\", {\n        onClick: () => {\n          setcurrentItemDisplay(item);\n          itemsToShow[item][\"callBackFunction\"](item);\n        },\n        children: [itemsToShow[item][\"showText\"], currentItemDisplay]\n      }, \"op\" + updateNumber++));\n    }\n  });\n  const navRef = React.useRef();\n  const liRef = React.useRef();\n  const [show, setShow] = React.useState(false);\n  const fullMenuAnimation = react_spring_1.useSpring({\n    ref: navRef,\n    from: {\n      opacity: 0,\n      transform: `translateY(-200%)`\n    },\n    transform: show ? `translateY(0)` : `translateY(-200%)`,\n    opacity: show ? 1 : 0,\n    display: \"flex\",\n    flexDirection: \"column\",\n    config: {\n      friction: 24,\n      tension: 180\n    }\n  });\n  React.useEffect(() => {\n    document.addEventListener(\"click\", handleClick, false);\n    return () => {\n      document.removeEventListener(\"click\", handleClick, false);\n    };\n  });\n\n  const handleClick = e => {\n    if (node.current.contains(e.target)) {\n      // inside click\n      setShow(!show);\n    } else {\n      setShow(false);\n    }\n  };\n\n  const itemTransitions = react_spring_1.useTransition(show ? Object.keys(itemsToShow) : [], item => itemsToShow[item][\"showText\"], {\n    ref: liRef,\n    unique: true,\n    trail: 400 / Object.keys(itemsToShow).length,\n    from: {\n      opacity: 0,\n      transform: \"translateY(40px)\",\n      margin: \"0px 0px 0px 0px\",\n      padding: \"0px\"\n    },\n    enter: {\n      opacity: 1,\n      transform: \"translateY(0)\"\n    },\n    leave: {\n      opacity: 0,\n      transform: \"translateY(40px)\"\n    }\n  });\n  react_spring_1.useChain(show ? [navRef, liRef] : [liRef, navRef], [0, 0.2]);\n  const {\n    t\n  } = props;\n  return /*#__PURE__*/_reactJsxRuntime.jsx(\"div\", {\n    ref: node,\n    children: /*#__PURE__*/_reactJsxRuntime.jsx(DropDownContent, {\n      style: Object.keys(itemsToShow).length > 1 ? fullMenuAnimation : null,\n      children: itemTransitions.map(({\n        item,\n        key,\n        props\n      }) => /*#__PURE__*/_reactJsxRuntime.jsxs(react_spring_1.animated.div, {\n        style: props,\n        onClick: () => {\n          if (itemsToShow[item][\"url\"]) {\n            window.location.href = itemsToShow[item][\"url\"];\n          } else {\n            setcurrentItemDisplay(item);\n            itemsToShow[item][\"callBackFunction\"](item);\n          }\n        },\n        children: [/*#__PURE__*/_reactJsxRuntime.jsx(menuItem_1.default, {\n          content: itemsToShow[item][\"showText\"]\n        }), /*#__PURE__*/_reactJsxRuntime.jsx(style_1.Label, {\n          children: /*#__PURE__*/_reactJsxRuntime.jsx(routes_1.Link, {\n            prefetch: true,\n            href: \"/\",\n            children: /*#__PURE__*/_reactJsxRuntime.jsx(\"a\", {\n              children: t('welcome')\n            })\n          })\n        })]\n      }, key))\n    })\n  });\n};\n\nexports.default = i18n_1.withTranslation('common')(Menu);","map":null,"metadata":{},"sourceType":"script"}