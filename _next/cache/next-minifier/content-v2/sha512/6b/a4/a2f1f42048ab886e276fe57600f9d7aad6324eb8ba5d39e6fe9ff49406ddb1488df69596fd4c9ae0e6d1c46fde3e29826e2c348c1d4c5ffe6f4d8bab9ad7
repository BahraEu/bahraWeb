{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{\"4Tsn\":function(e,t,r){\"use strict\";r.r(t),r.d(t,\"ErrorLink\",(function(){return u})),r.d(t,\"onError\",(function(){return a}));var n=r(\"mrSG\"),i=r(\"1jQf\"),o=r(\"b0dj\");function a(e){return new i.ApolloLink((function(t,r){return new o.a((function(n){var i,o,a;try{i=r(t).subscribe({next:function(i){i.errors&&(a=e({graphQLErrors:i.errors,response:i,operation:t,forward:r}))?o=a.subscribe({next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)}):n.next(i)},error:function(i){(a=e({operation:t,networkError:i,graphQLErrors:i&&i.result&&i.result.errors,forward:r}))?o=a.subscribe({next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)}):n.error(i)},complete:function(){a||n.complete.bind(n)()}})}catch(u){e({networkError:u,operation:t,forward:r}),n.error(u)}return function(){i&&i.unsubscribe(),o&&i.unsubscribe()}}))}))}var u=function(e){function t(t){var r=e.call(this)||this;return r.link=a(t),r}return Object(n.c)(t,e),t.prototype.request=function(e,t){return this.link.request(e,t)},t}(i.ApolloLink)},\"5IwB\":function(e,t,r){\"use strict\";(function(e){var n=r(\"o0o1\"),i=r(\"yXPU\"),o=r(\"lSNA\"),a=r(\"nKUr\"),u=r(\"lwsE\"),c=r(\"W8MJ\"),s=r(\"7W2i\"),l=r(\"a1gu\"),f=r(\"Nsbk\");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}var y=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),v=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),b=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)\"default\"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&y(t,e,r);return v(t,e),t},m=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});var g=b(r(\"17x9\")),O=b(r(\"q1tI\")),j=r(\"Uuew\"),w=m(r(\"g4pe\")),S=m(r(\"f21Q\")),k=m(r(\"FL+C\"));t.default=function(t){var r;return t.displayName=\"BAHRA App\",(r=function(r){s(l,r);var o=h(l);function l(e){var t;return u(this,l),(t=o.call(this,e)).pageContext=null,t.apolloClient=S.default(e.apolloState,{getToken:function(){var e=k.default().refreshToken;return{WP_authToken:k.default().authToken,WP_refreshToken:e}}}),t}return c(l,[{key:\"render\",value:function(){return a.jsx(t,p(p({},this.props),{},{apolloClient:this.apolloClient}))}}],[{key:\"getInitialProps\",value:function(){var r=i(n.mark((function r(i){var o,u,c,s,l,f,d;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=i.Component,u=i.router,c=i.req,s=i.res,l=S.default({},{getToken:function(){var e=k.default(c).refreshToken;console.log(\"authToken\",e);var t=k.default(c).authToken;return console.log(\"authToken\",t),{authToken:t,refreshToken:e}}}),i.apolloClient=l,f={},!t.getInitialProps){r.next=8;break}return r.next=7,t.getInitialProps(i);case 7:f=r.sent;case 8:if(!s||!s.finished){r.next=10;break}return r.abrupt(\"return\",{});case 10:if(!(e&&e.versions&&Boolean(e.versions.node))){r.next=20;break}return r.prev=11,r.next=14,j.getDataFromTree(a.jsx(t,p(p({},f),{},{Component:o,router:u,apolloClient:l})));case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(11),console.error(\"Error while running `getDataFromTree`\",r.t0);case 19:w.default.rewind();case 20:return d=l.cache.extract(),r.abrupt(\"return\",Object.assign(Object.assign({},f),{apolloState:d}));case 22:case\"end\":return r.stop()}}),r,null,[[11,16]])})));return function(e){return r.apply(this,arguments)}}()}]),l}(O.Component)).displayName=\"WithData(\".concat(t.displayName,\")\"),r.propTypes={apolloState:g.object.isRequired},r}}).call(this,r(\"8oxB\"))},DIBC:function(e,t,r){\"use strict\";(function(e){var n=r(\"RIqP\"),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)\"default\"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});var c=r(\"dMq0\"),s=r(\"1jQf\"),l=r(\"wsNJ\"),f=r(\"4Tsn\"),d=r(\"R44f\"),p=u(r(\"otUN\")),h=u(r(\"nbvT\")),y=u(r(\"OcYQ\")),v=r(\"xg0D\"),b=a(r(\"FL+C\")),m=r(\"LvDl\"),g=s.from([].concat(n(y.default.DEV?[p.default]:[]),[f.onError((function(e){var t=e.graphQLErrors,r=e.networkError;t&&t.map((function(e){var t=e.message,r=e.locations,n=e.path;console.error(\"\\n\\n[GraphQL error]: \".concat(t,\" \\n location: \").concat(JSON.stringify(r,null,2),\" \\n path: \").concat(n,\"\\n\\n\"))})),r&&console.error(\"[Network error]: \".concat(JSON.stringify(r,null,2)))})),new d.HttpLink({credentials:\"same-origin\",useGETForQueries:!1,uri:\"https://bahra.eu/admin/index.php?graphql\"})])),O=function(e){return l.setContext((function(t,r){var n=r.headers,i=e(),o=b.default().refreshToken,a=v.checkTokenIsExpired(i.WP_authToken),u=i.WP_authToken;if(!m.isEmpty(u))return{headers:n};if(!a)return j(u,n);try{b.removeMapInCookie([\"authToken\"],u);var c=i.WP_refreshTokens.token;if(c)throw new Error;return v.checkTokenIsExpired(o),j(c,n)}catch(s){return{headers:n}}}))};function j(e,t){return{headers:Object.assign({Authorization:\"Bearer \".concat(e)},t)}}t.default=function(t,r){var n=r.getToken;return new c.ApolloClient({cache:h.default.restore(t||{}),connectToDevTools:!0,link:O(n).concat(g),queryDeduplication:!0,ssrMode:Boolean(e&&e.versions&&Boolean(e.versions.node))})}}).call(this,r(\"8oxB\"))},\"K/JX\":function(e,t,r){\"use strict\";r.r(t),r.d(t,\"HeuristicFragmentMatcher\",(function(){return L})),r.d(t,\"InMemoryCache\",(function(){return fe})),r.d(t,\"IntrospectionFragmentMatcher\",(function(){return J})),r.d(t,\"ObjectCache\",(function(){return Z})),r.d(t,\"StoreReader\",(function(){return G})),r.d(t,\"StoreWriter\",(function(){return ne})),r.d(t,\"WriteError\",(function(){return te})),r.d(t,\"assertIdValue\",(function(){return $})),r.d(t,\"defaultDataIdFromObject\",(function(){return ce})),r.d(t,\"defaultNormalizedCacheFactory\",(function(){return ee})),r.d(t,\"enhanceErrorWithDocument\",(function(){return re}));var n=r(\"mrSG\"),i=r(\"RRgQ\");function o(e){return{kind:\"Document\",definitions:[{kind:\"OperationDefinition\",operation:\"query\",name:{kind:\"Name\",value:\"GeneratedClientQuery\"},selectionSet:a(e)}]}}function a(e){if(\"number\"===typeof e||\"boolean\"===typeof e||\"string\"===typeof e||\"undefined\"===typeof e||null===e)return null;if(Array.isArray(e))return a(e[0]);var t=[];return Object.keys(e).forEach((function(r){var n={kind:\"Field\",name:{kind:\"Name\",value:r},selectionSet:a(e[r])||void 0};t.push(n)})),{kind:\"SelectionSet\",selections:t}}var u,c={kind:\"Document\",definitions:[{kind:\"OperationDefinition\",operation:\"query\",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",alias:null,name:{kind:\"Name\",value:\"__typename\"},arguments:[],directives:[],selectionSet:null}]}}]},s=function(){function e(){}return e.prototype.transformDocument=function(e){return e},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.read({query:e.query,variables:e.variables,optimistic:t})},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.read({query:Object(i.k)(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:t})},e.prototype.writeQuery=function(e){this.write({dataId:\"ROOT_QUERY\",result:e.data,query:e.query,variables:e.variables})},e.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,variables:e.variables,query:Object(i.k)(e.fragment,e.fragmentName)})},e.prototype.writeData=function(e){var t,r,n=e.id,i=e.data;if(\"undefined\"!==typeof n){var u=null;try{u=this.read({rootId:n,optimistic:!1,query:c})}catch(f){}var s=u&&u.__typename||\"__ClientData\",l=Object.assign({__typename:s},i);this.writeFragment({id:n,fragment:(t=l,r=s,{kind:\"Document\",definitions:[{kind:\"FragmentDefinition\",typeCondition:{kind:\"NamedType\",name:{kind:\"Name\",value:r||\"__FakeType\"}},name:{kind:\"Name\",value:\"GeneratedClientQuery\"},selectionSet:a(t)}]}),data:l})}else this.writeQuery({query:o(i),data:i})},e}();u||(u={});var l=r(\"qx2n\"),f=null,d={},p=1,h=\"@wry/context:Slot\",y=Array,v=y[h]||function(){var e=function(){function e(){this.id=[\"slot\",p++,Date.now(),Math.random().toString(36).slice(2)].join(\":\")}return e.prototype.hasValue=function(){for(var e=f;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===d)break;return e!==f&&(f.slots[this.id]=t),!0}return f&&(f.slots[this.id]=d),!1},e.prototype.getValue=function(){if(this.hasValue())return f.slots[this.id]},e.prototype.withValue=function(e,t,r,n){var i,o=((i={__proto__:null})[this.id]=e,i),a=f;f={parent:a,slots:o};try{return t.apply(n,r)}finally{f=a}},e.bind=function(e){var t=f;return function(){var r=f;try{return f=t,e.apply(this,arguments)}finally{f=r}}},e.noContext=function(e,t,r){if(!f)return e.apply(r,t);var n=f;try{return f=null,e.apply(r,t)}finally{f=n}},e}();try{Object.defineProperty(y,h,{value:y[h]=e,enumerable:!1,writable:!1,configurable:!1})}finally{return e}}();v.bind,v.noContext;function b(){}var m=function(){function e(e,t){void 0===e&&(e=1/0),void 0===t&&(t=b),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var t=this.getEntry(e);return t&&t.value},e.prototype.getEntry=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var r=t.older,n=t.newer;n&&(n.older=r),r&&(r.newer=n),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=n)}return t},e.prototype.set=function(e,t){var r=this.getEntry(e);return r?r.value=t:(r={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),g=new v,O=[],j=[];function w(e,t){if(!e)throw new Error(t||\"assertion failure\")}function S(e){switch(e.length){case 0:throw new Error(\"unknown value\");case 1:return e[0];case 2:throw e[1]}}var k=function(){function e(t,r){this.fn=t,this.args=r,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],++e.count}return e.prototype.recompute=function(){if(w(!this.recomputing,\"already recomputing\"),function(e){var t=g.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),_(e)?T(t,e):E(t,e),t}(this)||!I(this))return _(this)?function(e){var t=M(e);g.withValue(e,x,[e]),function(e){if(\"function\"===typeof e.subscribe)try{V(e),e.unsubscribe=e.subscribe.apply(null,e.args)}catch(t){return e.setDirty(),!1}return!0}(e)&&function(e){if(e.dirty=!1,_(e))return;C(e)}(e);return t.forEach(I),S(e.value)}(this):S(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,R(this),V(this))},e.prototype.dispose=function(){var e=this;M(this).forEach(I),V(this),this.parents.forEach((function(t){t.setDirty(),F(t,e)}))},e.count=0,e}();function x(e){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,e.args)}catch(t){e.value[1]=t}e.recomputing=!1}function _(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function R(e){e.parents.forEach((function(t){return T(t,e)}))}function C(e){e.parents.forEach((function(t){return E(t,e)}))}function T(e,t){if(w(e.childValues.has(t)),w(_(t)),e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=j.pop()||new Set;e.dirtyChildren.add(t),R(e)}function E(e,t){w(e.childValues.has(t)),w(!_(t));var r=e.childValues.get(t);0===r.length?e.childValues.set(t,t.value.slice(0)):function(e,t){var r=e.length;return r>0&&r===t.length&&e[r-1]===t[r-1]}(r,t.value)||e.setDirty(),D(e,t),_(e)||C(e)}function D(e,t){var r=e.dirtyChildren;r&&(r.delete(t),0===r.size&&(j.length<100&&j.push(r),e.dirtyChildren=null))}function I(e){return 0===e.parents.size&&\"function\"===typeof e.reportOrphan&&!0===e.reportOrphan()}function M(e){var t=O;return e.childValues.size>0&&(t=[],e.childValues.forEach((function(r,n){F(e,n),t.push(n)}))),w(null===e.dirtyChildren),t}function F(e,t){t.parents.delete(e),e.childValues.delete(t),D(e,t)}function V(e){var t=e.unsubscribe;\"function\"===typeof t&&(e.unsubscribe=void 0,t())}var A=function(){function e(e){this.weakness=e}return e.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var t=this;return e.forEach((function(e){return t=t.getChildTrie(e)})),t.data||(t.data=Object.create(null))},e.prototype.getChildTrie=function(t){var r=this.weakness&&function(e){switch(typeof e){case\"object\":if(null===e)break;case\"function\":return!0}return!1}(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),n=r.get(t);return n||r.set(t,n=new e(this.weakness)),n},e}();var P=new A(\"function\"===typeof WeakMap);function Q(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return P.lookupArray(e)}var q=new Set;function N(e,t){void 0===t&&(t=Object.create(null));var r=new m(t.max||Math.pow(2,16),(function(e){return e.dispose()})),n=!!t.disposable,i=t.makeCacheKey||Q;function o(){if(!n||g.hasValue()){var o=i.apply(null,arguments);if(void 0===o)return e.apply(null,arguments);var a=Array.prototype.slice.call(arguments),u=r.get(o);u?u.args=a:(u=new k(e,a),r.set(o,u),u.subscribe=t.subscribe,n&&(u.reportOrphan=function(){return r.delete(o)}));var c=u.recompute();return r.set(o,u),q.add(r),g.hasValue()||(q.forEach((function(e){return e.clean()})),q.clear()),n?void 0:c}}return o.dirty=function(){var e=i.apply(null,arguments),t=void 0!==e&&r.get(e);t&&t.setDirty()},o}var W=r(\"qVdT\"),B=!1;function K(){var e=!B;return Object(i.y)()||(B=!0),e}var L=function(){function e(){}return e.prototype.ensureReady=function(){return Promise.resolve()},e.prototype.canBypassInit=function(){return!0},e.prototype.match=function(e,t,r){var n=r.store.get(e.id),i=\"ROOT_QUERY\"===e.id;if(!n)return i;var o=n.__typename,a=void 0===o?i&&\"Query\":o;return a&&a===t||(K(),\"heuristic\")},e}(),J=function(){function e(e){e&&e.introspectionQueryResultData?(this.possibleTypesMap=this.parseIntrospectionResult(e.introspectionQueryResultData),this.isReady=!0):this.isReady=!1,this.match=this.match.bind(this)}return e.prototype.match=function(e,t,r){Object(W.b)(this.isReady,1);var n=r.store.get(e.id),i=\"ROOT_QUERY\"===e.id;if(!n)return i;var o=n.__typename,a=void 0===o?i&&\"Query\":o;if(Object(W.b)(a,2),a===t)return!0;var u=this.possibleTypesMap[t];return!!(a&&u&&u.indexOf(a)>-1)},e.prototype.parseIntrospectionResult=function(e){var t={};return e.__schema.types.forEach((function(e){\"UNION\"!==e.kind&&\"INTERFACE\"!==e.kind||(t[e.name]=e.possibleTypes.map((function(e){return e.name})))})),t},e}(),z=Object.prototype.hasOwnProperty,U=function(){function e(e){var t=this;void 0===e&&(e=Object.create(null)),this.data=e,this.depend=N((function(e){return t.data[e]}),{disposable:!0,makeCacheKey:function(e){return e}})}return e.prototype.toObject=function(){return this.data},e.prototype.get=function(e){return this.depend(e),this.data[e]},e.prototype.set=function(e,t){t!==this.data[e]&&(this.data[e]=t,this.depend.dirty(e))},e.prototype.delete=function(e){z.call(this.data,e)&&(delete this.data[e],this.depend.dirty(e))},e.prototype.clear=function(){this.replace(null)},e.prototype.replace=function(e){var t=this;e?(Object.keys(e).forEach((function(r){t.set(r,e[r])})),Object.keys(this.data).forEach((function(r){z.call(e,r)||t.delete(r)}))):Object.keys(this.data).forEach((function(e){t.delete(e)}))},e}();function H(e){return new U(e)}var G=function(){function e(e){var t=this,r=void 0===e?{}:e,n=r.cacheKeyRoot,o=void 0===n?new A(i.e):n,a=r.freezeResults,u=void 0!==a&&a,c=this,s=c.executeStoreQuery,l=c.executeSelectionSet,f=c.executeSubSelectedArray;this.freezeResults=u,this.executeStoreQuery=N((function(e){return s.call(t,e)}),{makeCacheKey:function(e){var t=e.query,r=e.rootValue,n=e.contextValue,i=e.variableValues,a=e.fragmentMatcher;if(n.store instanceof U)return o.lookup(n.store,t,a,JSON.stringify(i),r.id)}}),this.executeSelectionSet=N((function(e){return l.call(t,e)}),{makeCacheKey:function(e){var t=e.selectionSet,r=e.rootValue,n=e.execContext;if(n.contextValue.store instanceof U)return o.lookup(n.contextValue.store,t,n.fragmentMatcher,JSON.stringify(n.variableValues),r.id)}}),this.executeSubSelectedArray=N((function(e){return f.call(t,e)}),{makeCacheKey:function(e){var t=e.field,r=e.array,n=e.execContext;if(n.contextValue.store instanceof U)return o.lookup(n.contextValue.store,t,r,JSON.stringify(n.variableValues))}})}return e.prototype.readQueryFromStore=function(e){return this.diffQueryAgainstStore(Object(n.a)(Object(n.a)({},e),{returnPartialData:!1})).result},e.prototype.diffQueryAgainstStore=function(e){var t=e.store,r=e.query,n=e.variables,o=e.previousResult,a=e.returnPartialData,u=void 0===a||a,c=e.rootId,s=void 0===c?\"ROOT_QUERY\":c,f=e.fragmentMatcherFunction,d=e.config,p=Object(i.o)(r);n=Object(i.c)({},Object(i.h)(p),n);var h={store:t,dataIdFromObject:d&&d.dataIdFromObject,cacheRedirects:d&&d.cacheRedirects||{}},y=this.executeStoreQuery({query:r,rootValue:{type:\"id\",id:s,generated:!0,typename:\"Query\"},contextValue:h,variableValues:n,fragmentMatcher:f}),v=y.missing&&y.missing.length>0;return v&&!u&&y.missing.forEach((function(e){if(!e.tolerable)throw new W.a(8)})),o&&Object(l.a)(o,y.result)&&(y.result=o),{result:y.result,complete:!v}},e.prototype.executeStoreQuery=function(e){var t=e.query,r=e.rootValue,n=e.contextValue,o=e.variableValues,a=e.fragmentMatcher,u=void 0===a?X:a,c=Object(i.l)(t),s=Object(i.j)(t),l={query:t,fragmentMap:Object(i.g)(s),contextValue:n,variableValues:o,fragmentMatcher:u};return this.executeSelectionSet({selectionSet:c.selectionSet,rootValue:r,execContext:l})},e.prototype.executeSelectionSet=function(e){var t=this,r=e.selectionSet,o=e.rootValue,a=e.execContext,u=a.fragmentMap,c=a.contextValue,s=a.variableValues,l={result:null},f=[],d=c.store.get(o.id),p=d&&d.__typename||\"ROOT_QUERY\"===o.id&&\"Query\"||void 0;function h(e){var t;return e.missing&&(l.missing=l.missing||[],(t=l.missing).push.apply(t,e.missing)),e.result}return r.selections.forEach((function(e){var r;if(Object(i.F)(e,s))if(Object(i.t)(e)){var l=h(t.executeField(d,p,e,a));\"undefined\"!==typeof l&&f.push(((r={})[Object(i.E)(e)]=l,r))}else{var y=void 0;if(Object(i.v)(e))y=e;else if(!(y=u[e.name.value]))throw new W.a(9);var v=y.typeCondition&&y.typeCondition.name.value,b=!v||a.fragmentMatcher(o,v,c);if(b){var m=t.executeSelectionSet({selectionSet:y.selectionSet,rootValue:o,execContext:a});\"heuristic\"===b&&m.missing&&(m=Object(n.a)(Object(n.a)({},m),{missing:m.missing.map((function(e){return Object(n.a)(Object(n.a)({},e),{tolerable:!0})}))})),f.push(h(m))}}})),l.result=Object(i.B)(f),this.freezeResults,l},e.prototype.executeField=function(e,t,r,n){var o=n.variableValues,a=n.contextValue,u=function(e,t,r,n,o,a){a.resultKey;var u=a.directives,c=r;(n||u)&&(c=Object(i.p)(c,n,u));var s=void 0;if(e&&\"undefined\"===typeof(s=e[c])&&o.cacheRedirects&&\"string\"===typeof t){var l=o.cacheRedirects[t];if(l){var f=l[r];f&&(s=f(e,n,{getCacheKey:function(e){var t=o.dataIdFromObject(e);return t&&Object(i.H)({id:t,typename:e.__typename})}}))}}if(\"undefined\"===typeof s)return{result:s,missing:[{object:e,fieldName:c,tolerable:!1}]};Object(i.w)(s)&&(s=s.json);return{result:s}}(e,t,r.name.value,Object(i.b)(r,o),a,{resultKey:Object(i.E)(r),directives:Object(i.i)(r,o)});return Array.isArray(u.result)?this.combineExecResults(u,this.executeSubSelectedArray({field:r,array:u.result,execContext:n})):r.selectionSet?null==u.result?u:this.combineExecResults(u,this.executeSelectionSet({selectionSet:r.selectionSet,rootValue:u.result,execContext:n})):(Y(r,u.result),this.freezeResults,u)},e.prototype.combineExecResults=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.forEach((function(t){t.missing&&(e=e||[]).push.apply(e,t.missing)})),{result:t.pop().result,missing:e}},e.prototype.executeSubSelectedArray=function(e){var t,r=this,n=e.field,i=e.array,o=e.execContext;function a(e){return e.missing&&(t=t||[]).push.apply(t,e.missing),e.result}return i=i.map((function(e){return null===e?null:Array.isArray(e)?a(r.executeSubSelectedArray({field:n,array:e,execContext:o})):n.selectionSet?a(r.executeSelectionSet({selectionSet:n.selectionSet,rootValue:e,execContext:o})):(Y(n,e),e)})),this.freezeResults,{result:i,missing:t}},e}();function Y(e,t){if(!e.selectionSet&&Object(i.u)(t))throw new W.a(10)}function X(){return!0}function $(e){Object(W.b)(Object(i.u)(e),11)}var Z=function(){function e(e){void 0===e&&(e=Object.create(null)),this.data=e}return e.prototype.toObject=function(){return this.data},e.prototype.get=function(e){return this.data[e]},e.prototype.set=function(e,t){this.data[e]=t},e.prototype.delete=function(e){this.data[e]=void 0},e.prototype.clear=function(){this.data=Object.create(null)},e.prototype.replace=function(e){this.data=e||Object.create(null)},e}();function ee(e){return new Z(e)}var te=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=\"WriteError\",t}return Object(n.c)(t,e),t}(Error);function re(e,t){var r=new te(\"Error writing result to store for query:\\n \"+JSON.stringify(t));return r.message+=\"\\n\"+e.message,r.stack=e.stack,r}var ne=function(){function e(){}return e.prototype.writeQueryToStore=function(e){var t=e.query,r=e.result,n=e.store,i=void 0===n?H():n,o=e.variables,a=e.dataIdFromObject,u=e.fragmentMatcherFunction;return this.writeResultToStore({dataId:\"ROOT_QUERY\",result:r,document:t,store:i,variables:o,dataIdFromObject:a,fragmentMatcherFunction:u})},e.prototype.writeResultToStore=function(e){var t=e.dataId,r=e.result,n=e.document,o=e.store,a=void 0===o?H():o,u=e.variables,c=e.dataIdFromObject,s=e.fragmentMatcherFunction,l=Object(i.m)(n);try{return this.writeSelectionSetToStore({result:r,dataId:t,selectionSet:l.selectionSet,context:{store:a,processedData:{},variables:Object(i.c)({},Object(i.h)(l),u),dataIdFromObject:c,fragmentMap:Object(i.g)(Object(i.j)(n)),fragmentMatcherFunction:s}})}catch(f){throw re(f,n)}},e.prototype.writeSelectionSetToStore=function(e){var t=this,r=e.result,n=e.dataId,o=e.selectionSet,a=e.context,u=a.variables,c=a.store,s=a.fragmentMap;return o.selections.forEach((function(e){var o;if(Object(i.F)(e,u))if(Object(i.t)(e)){var c=Object(i.E)(e),l=r[c];if(\"undefined\"!==typeof l)t.writeFieldToStore({dataId:n,value:l,field:e,context:a});else{var f=!1,d=!1;e.directives&&e.directives.length&&(f=e.directives.some((function(e){return e.name&&\"defer\"===e.name.value})),d=e.directives.some((function(e){return e.name&&\"client\"===e.name.value}))),!f&&!d&&a.fragmentMatcherFunction}}else{var p=void 0;Object(i.v)(e)?p=e:(p=(s||{})[e.name.value],Object(W.b)(p,3));var h=!0;if(a.fragmentMatcherFunction&&p.typeCondition){var y=n||\"self\",v=Object(i.H)({id:y,typename:void 0}),b={store:new Z((o={},o[y]=r,o)),cacheRedirects:{}},m=a.fragmentMatcherFunction(v,p.typeCondition.name.value,b);Object(i.x)(),h=!!m}h&&t.writeSelectionSetToStore({result:r,selectionSet:p.selectionSet,dataId:n,context:a})}})),c},e.prototype.writeFieldToStore=function(e){var t,r,o,a=e.field,u=e.value,c=e.dataId,s=e.context,f=s.variables,d=s.dataIdFromObject,p=s.store,h=Object(i.G)(a,f);if(a.selectionSet&&null!==u)if(Array.isArray(u)){var y=c+\".\"+h;r=this.processArrayValue(u,y,a.selectionSet,s)}else{var v=c+\".\"+h,b=!0;if(ie(v)||(v=\"$\"+v),d){var m=d(u);Object(W.b)(!m||!ie(m),4),(m||\"number\"===typeof m&&0===m)&&(v=m,b=!1)}ae(v,a,s.processedData)||this.writeSelectionSetToStore({dataId:v,result:u,selectionSet:a.selectionSet,context:s});var g=u.__typename;r=Object(i.H)({id:v,typename:g},b);var O=(o=p.get(c))&&o[h];if(O!==r&&Object(i.u)(O)){var j=void 0!==O.typename,w=void 0!==g,S=j&&w&&O.typename!==g;Object(W.b)(!b||O.generated||S,5),Object(W.b)(!j||w,6),O.generated&&(S?b||p.delete(O.id):oe(O.id,r.id,p))}}else r=null!=u&&\"object\"===typeof u?{type:\"json\",json:u}:u;(o=p.get(c))&&Object(l.a)(r,o[h])||p.set(c,Object(n.a)(Object(n.a)({},o),((t={})[h]=r,t)))},e.prototype.processArrayValue=function(e,t,r,n){var o=this;return e.map((function(e,a){if(null===e)return null;var u=t+\".\"+a;if(Array.isArray(e))return o.processArrayValue(e,u,r,n);var c=!0;if(n.dataIdFromObject){var s=n.dataIdFromObject(e);s&&(u=s,c=!1)}return ae(u,r,n.processedData)||o.writeSelectionSetToStore({dataId:u,result:e,selectionSet:r,context:n}),Object(i.H)({id:u,typename:e.__typename},c)}))},e}();function ie(e){return\"$\"===e[0]}function oe(e,t,r){if(e===t)return!1;var o=r.get(e),a=r.get(t),u=!1;Object.keys(o).forEach((function(e){var t=o[e],n=a[e];Object(i.u)(t)&&ie(t.id)&&Object(i.u)(n)&&!Object(l.a)(t,n)&&oe(t.id,n.id,r)&&(u=!0)})),r.delete(e);var c=Object(n.a)(Object(n.a)({},o),a);return Object(l.a)(c,a)?u:(r.set(t,c),!0)}function ae(e,t,r){if(!r)return!1;if(r[e]){if(r[e].indexOf(t)>=0)return!0;r[e].push(t)}else r[e]=[t];return!1}var ue={fragmentMatcher:new L,dataIdFromObject:ce,addTypename:!0,resultCaching:!0,freezeResults:!1};function ce(e){if(e.__typename){if(void 0!==e.id)return e.__typename+\":\"+e.id;if(void 0!==e._id)return e.__typename+\":\"+e._id}return null}var se=Object.prototype.hasOwnProperty,le=function(e){function t(t,r,n){var i=e.call(this,Object.create(null))||this;return i.optimisticId=t,i.parent=r,i.transaction=n,i}return Object(n.c)(t,e),t.prototype.toObject=function(){return Object(n.a)(Object(n.a)({},this.parent.toObject()),this.data)},t.prototype.get=function(e){return se.call(this.data,e)?this.data[e]:this.parent.get(e)},t}(Z),fe=function(e){function t(t){void 0===t&&(t={});var r=e.call(this)||this;r.watches=new Set,r.typenameDocumentCache=new Map,r.cacheKeyRoot=new A(i.e),r.silenceBroadcast=!1,r.config=Object(n.a)(Object(n.a)({},ue),t),r.config.customResolvers&&(r.config.cacheRedirects=r.config.customResolvers),r.config.cacheResolvers&&(r.config.cacheRedirects=r.config.cacheResolvers),r.addTypename=!!r.config.addTypename,r.data=r.config.resultCaching?new U:new Z,r.optimisticData=r.data,r.storeWriter=new ne,r.storeReader=new G({cacheKeyRoot:r.cacheKeyRoot,freezeResults:t.freezeResults});var o=r,a=o.maybeBroadcastWatch;return r.maybeBroadcastWatch=N((function(e){return a.call(r,e)}),{makeCacheKey:function(e){if(!e.optimistic&&!e.previousResult)return o.data instanceof U?o.cacheKeyRoot.lookup(e.query,JSON.stringify(e.variables)):void 0}}),r}return Object(n.c)(t,e),t.prototype.restore=function(e){return e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).toObject()},t.prototype.read=function(e){if(\"string\"===typeof e.rootId&&\"undefined\"===typeof this.data.get(e.rootId))return null;var t=this.config.fragmentMatcher,r=t&&t.match;return this.storeReader.readQueryFromStore({store:e.optimistic?this.optimisticData:this.data,query:this.transformDocument(e.query),variables:e.variables,rootId:e.rootId,fragmentMatcherFunction:r,previousResult:e.previousResult,config:this.config})||null},t.prototype.write=function(e){var t=this.config.fragmentMatcher,r=t&&t.match;this.storeWriter.writeResultToStore({dataId:e.dataId,result:e.result,variables:e.variables,document:this.transformDocument(e.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:r}),this.broadcastWatches()},t.prototype.diff=function(e){var t=this.config.fragmentMatcher,r=t&&t.match;return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,query:this.transformDocument(e.query),variables:e.variables,returnPartialData:e.returnPartialData,previousResult:e.previousResult,fragmentMatcherFunction:r,config:this.config})},t.prototype.watch=function(e){var t=this;return this.watches.add(e),function(){t.watches.delete(e)}},t.prototype.evict=function(e){throw new W.a(7)},t.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){for(var t=[],r=0,n=this.optimisticData;n instanceof le;)n.optimisticId===e?++r:t.push(n),n=n.parent;if(r>0){for(this.optimisticData=n;t.length>0;){var i=t.pop();this.performTransaction(i.transaction,i.optimisticId)}this.broadcastWatches()}},t.prototype.performTransaction=function(e,t){var r=this.data,n=this.silenceBroadcast;this.silenceBroadcast=!0,\"string\"===typeof t&&(this.data=this.optimisticData=new le(t,this.optimisticData,e));try{e(this)}finally{this.silenceBroadcast=n,this.data=r}this.broadcastWatches()},t.prototype.recordOptimisticTransaction=function(e,t){return this.performTransaction(e,t)},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=Object(i.a)(e),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.broadcastWatches=function(){var e=this;this.silenceBroadcast||this.watches.forEach((function(t){return e.maybeBroadcastWatch(t)}))},t.prototype.maybeBroadcastWatch=function(e){e.callback(this.diff({query:e.query,variables:e.variables,previousResult:e.previousResult&&e.previousResult(),optimistic:e.optimistic}))},t}(s)},KITJ:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(e,t){return e?e.bind(console):t},i=function(){var e=\"\",t=function(){for(var t,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];(t=console).log.apply(t,[e].concat(n))},r=function(){t.apply(void 0,arguments),e+=\"> \"};return{log:t,error:function(){for(var t,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];(t=console).error.apply(t,[e].concat(n))},group:n(console.group,r),groupCollapsed:n(console.groupCollapsed,r),groupEnd:n(console.groupEnd,(function(){e=e.slice(0,-2)}))}}();t.default=i},f21Q:function(e,t,r){\"use strict\";(function(e){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});n(r(\"vcXL\"));var i,o=n(r(\"DIBC\"));t.default=function(e,t){return i||(i=o.default(e,t)),i}}).call(this,r(\"ntbh\"))},keuH:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default=function(e,t,r){var n=[\"color: gray; font-weight: lighter\",\"color: \"+(\"query\"===e?\"#03A9F4\":\"red\")+\";\",\"color: inherit;\"],i=[\"%c apollo\",\"%c\"+e,\"%c\"+t.operationName];return\"subscription\"!==e&&(i.push(\"%c(in \"+r+\" ms)\"),n.push(\"color: gray; font-weight: lighter;\")),[i.join(\" \")].concat(n)}},nbvT:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(\"K/JX\"),i=new n.InMemoryCache({dataIdFromObject:function(e){switch(e.__typename){case\"Post\":case\"Project\":case\"Category\":case\"User\":return e.id;default:return n.defaultDataIdFromObject(e)}}});t.default=i},otUN:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(\"VX74\"),i=a(r(\"keuH\")),o=a(r(\"KITJ\"));function a(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var c=new n.ApolloLink((function(e,t){var r=(new Date).getTime();return t(e).map((function(t){var n=e.query.definitions[0].operation,a=(new Date).getTime()-r,c=(0,i.default)(n,e,a);return o.default.groupCollapsed.apply(o.default,u(c)),o.default.log(\"INIT\",e),o.default.log(\"RESULT\",t),o.default.groupEnd.apply(o.default,u(c)),t}))}));t.default=c},vcXL:function(e,t,r){\"use strict\";var n=self.fetch.bind(self);e.exports=n,e.exports.default=e.exports},wsNJ:function(e,t,r){\"use strict\";r.r(t),r.d(t,\"setContext\",(function(){return a}));var n=r(\"mrSG\"),i=r(\"1jQf\"),o=r(\"b0dj\");function a(e){return new i.ApolloLink((function(t,r){var i=Object(n.e)(t,[]);return new o.a((function(n){var o;return Promise.resolve(i).then((function(r){return e(r,t.getContext())})).then(t.setContext).then((function(){o=r(t).subscribe({next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})})).catch(n.error.bind(n)),function(){o&&o.unsubscribe()}}))}))}}}]);","map":{"version":3,"sources":["static/chunks/94b5012a55b1c5330837389db53deae010e07b81.119e5818255f3a604358.js"],"names":["window","push","4Tsn","module","__webpack_exports__","__webpack_require__","r","d","ErrorLink","onError","tslib__WEBPACK_IMPORTED_MODULE_0__","apollo_link__WEBPACK_IMPORTED_MODULE_1__","apollo_link__WEBPACK_IMPORTED_MODULE_2__","errorHandler","operation","forward","observer","sub","retriedSub","retriedResult","subscribe","next","result","errors","graphQLErrors","response","bind","error","complete","networkError","e","unsubscribe","_super","_this","call","this","link","Object","prototype","request","5IwB","exports","process","_regeneratorRuntime","_asyncToGenerator","_defineProperty","_reactJsxRuntime","_classCallCheck","_createClass","_inherits","_possibleConstructorReturn","_getPrototypeOf","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","_isNativeReflectConstruct","Super","NewTarget","constructor","__createBinding","create","o","m","k","k2","undefined","get","__setModuleDefault","v","value","__importStar","mod","__esModule","hasOwnProperty","__importDefault","default","PropTypes","React","react_apollo_1","head_1","initApollo_1","parseCookies_1","App","_a","displayName","_React$Component","WithData","props","pageContext","apolloClient","apolloState","getToken","WP_refreshToken","refreshToken","WP_authToken","authToken","jsx","_getInitialProps","mark","_callee","ctx","Component","router","req","res","apollo","appProps","wrap","_context","prev","console","log","getInitialProps","sent","finished","abrupt","versions","Boolean","node","getDataFromTree","t0","rewind","cache","extract","assign","stop","_x","concat","propTypes","isRequired","DIBC","_toConsumableArray","apollo_client_1","apollo_link_1","apollo_link_context_1","apollo_link_error_1","apollo_link_http_1","apollo_link_logger_1","createCache_1","config_1","helpers_1","lodash_1","from","DEV","_ref","map","_ref2","message","locations","path","JSON","stringify","HttpLink","credentials","useGETForQueries","uri","authLink","setContext","_","_ref3","headers","WP_tokens","IsTokenExpired","checkTokenIsExpired","token","isEmpty","createHeaders","removeMapInCookie","refreshedAccessToken","WP_refreshTokens","Error","oldHeaders","Authorization","initialState","_ref4","ApolloClient","restore","connectToDevTools","queryDeduplication","ssrMode","K/JX","HeuristicFragmentMatcher","bundle_esm_InMemoryCache","bundle_esm_IntrospectionFragmentMatcher","ObjectCache","bundle_esm_StoreReader","bundle_esm_StoreWriter","bundle_esm_WriteError","assertIdValue","defaultDataIdFromObject","defaultNormalizedCacheFactory$1","enhanceErrorWithDocument","tslib_es6","bundle_esm","queryFromPojo","obj","kind","definitions","name","selectionSet","selectionSetFromObj","Array","isArray","selections","field","Cache","justTypenameQuery","variableDefinitions","directives","alias","bundle_esm_ApolloCache","ApolloCache","transformDocument","document","transformForLink","readQuery","options","optimistic","read","query","variables","readFragment","fragment","fragmentName","rootId","id","writeQuery","write","dataId","data","writeFragment","writeData","typename","typenameResult","__typename","dataToWrite","typeCondition","equality_esm","currentContext","MISSING_VALUE","idCounter","globalKey","host","Slot","now","Math","random","slice","join","hasValue","context_1","parent","slots","getValue","withValue","callback","args","thisArg","__proto__","context","saved","noContext","writable","configurable","defaultDispose","bundle_esm_Cache","max","dispose","Infinity","Map","newest","oldest","has","entry","getEntry","older","newer","set","clean","size","delete","parentEntrySlot","reusableEmptyArray","emptySetPool","assert","condition","optionalMessage","valueGet","Entry","fn","parents","Set","childValues","dirtyChildren","dirty","recomputing","count","recompute","child","add","mightBeDirty","reportDirtyChild","reportCleanChild","rememberParent","maybeReportOrphan","originalChildren","forgetChildren","recomputeNewValue","maybeUnsubscribe","setDirty","maybeSubscribe","reportClean","setClean","reallyRecompute","reportDirty","forgetChild","pop","childValue","a","b","len","valueIs","removeDirtyChild","dc","reportOrphan","children","_value","KeyTrie","weakness","lookup","array","_i","lookupArray","getChildTrie","isObjRef","weak","WeakMap","strong","keyTrie","defaultMakeCacheKey","caches","originalFunction","pow","disposable","makeCacheKey","clear","invariant_esm","haveWarned","shouldWarn","answer","ensureReady","Promise","resolve","canBypassInit","match","idValue","store","isRootQuery","IntrospectionFragmentMatcher","introspectionQueryResultData","possibleTypesMap","parseIntrospectionResult","isReady","implementingTypes","indexOf","introspectionResultData","typeMap","__schema","types","type","possibleTypes","implementingType","hasOwn","bundle_esm_DepTrackingCache","DepTrackingCache","depend","toObject","replace","newData","defaultNormalizedCacheFactory","seed","StoreReader","_b","_c","cacheKeyRoot","_d","freezeResults","_e","executeStoreQuery","executeSelectionSet","executeSubSelectedArray","rootValue","contextValue","variableValues","fragmentMatcher","execContext","readQueryFromStore","diffQueryAgainstStore","returnPartialData","previousResult","fragmentMatcherFunction","config","queryDefinition","dataIdFromObject","cacheRedirects","execResult","generated","hasMissingFields","missing","info","tolerable","defaultFragmentMatcher","mainDefinition","fragments","fragmentMap","finalResult","objectsToMerge","handleMissing","selection","fieldResult","executeField","fragmentExecResult","readStoreResult","fieldName","resultKey","storeKeyName","fieldValue","resolver","getCacheKey","storeObj","json","readStoreResolver","combineExecResults","assertSelectionSetForIdValue","execResults","childResult","item","WriteError","enhancedError","stack","StoreWriter","writeQueryToStore","writeResultToStore","operationDefinition","writeSelectionSetToStore","processedData","resultFieldKey","writeFieldToStore","isDefered","isClient","some","directive","matches","fakeContext","storeValue","storeObject","storeFieldName","generatedId","processArrayValue","valueDataId","isGeneratedId","semanticId","isDataProcessed","escapedId","hadTypename","hasTypename","typenameChanged","mergeWithGenerated","index","itemDataId","generatedKey","realKey","real","madeChanges","realValue","newRealValue","defaultConfig","addTypename","resultCaching","_id","hasOwn$1","bundle_esm_OptimisticCacheLayer","OptimisticCacheLayer","optimisticId","transaction","InMemoryCache","watches","typenameDocumentCache","silenceBroadcast","customResolvers","cacheResolvers","optimisticData","storeWriter","storeReader","maybeBroadcastWatch","c","broadcastWatches","diff","watch","evict","reset","removeOptimistic","idToRemove","toReapply","removedCount","layer","layer_1","performTransaction","recordOptimisticTransaction","KITJ","bindToConsole","consoleMethod","polyfill","logging","prefix","consoleLog","_console","_len","_key","consoleGroup","_console2","_len2","_key2","group","groupCollapsed","groupEnd","f21Q","global","createClient_1","keuH","operationType","ellapsed","headerCss","parts","operationName","nbvT","apollo_cache_inmemory_1","otUN","_client","_formatMessage2","_interopRequireDefault","_logging2","arr","arr2","loggerLink","ApolloLink","startTime","getTime","vcXL","fetch","self","wsNJ","setter","handle","then","getContext","catch"],"mappings":"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"},"name":"static/chunks/94b5012a55b1c5330837389db53deae010e07b81.119e5818255f3a604358.js","input":"(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[14],{\n\n/***/ \"4Tsn\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ErrorLink\", function() { return ErrorLink; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onError\", function() { return onError; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"mrSG\");\n/* harmony import */ var apollo_link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"1jQf\");\n/* harmony import */ var apollo_link__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"b0dj\");\n\n\n\nfunction onError(errorHandler) {\n    return new apollo_link__WEBPACK_IMPORTED_MODULE_1__[\"ApolloLink\"](function (operation, forward) {\n        return new apollo_link__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"](function (observer) {\n            var sub;\n            var retriedSub;\n            var retriedResult;\n            try {\n                sub = forward(operation).subscribe({\n                    next: function (result) {\n                        if (result.errors) {\n                            retriedResult = errorHandler({\n                                graphQLErrors: result.errors,\n                                response: result,\n                                operation: operation,\n                                forward: forward,\n                            });\n                            if (retriedResult) {\n                                retriedSub = retriedResult.subscribe({\n                                    next: observer.next.bind(observer),\n                                    error: observer.error.bind(observer),\n                                    complete: observer.complete.bind(observer),\n                                });\n                                return;\n                            }\n                        }\n                        observer.next(result);\n                    },\n                    error: function (networkError) {\n                        retriedResult = errorHandler({\n                            operation: operation,\n                            networkError: networkError,\n                            graphQLErrors: networkError &&\n                                networkError.result &&\n                                networkError.result.errors,\n                            forward: forward,\n                        });\n                        if (retriedResult) {\n                            retriedSub = retriedResult.subscribe({\n                                next: observer.next.bind(observer),\n                                error: observer.error.bind(observer),\n                                complete: observer.complete.bind(observer),\n                            });\n                            return;\n                        }\n                        observer.error(networkError);\n                    },\n                    complete: function () {\n                        if (!retriedResult) {\n                            observer.complete.bind(observer)();\n                        }\n                    },\n                });\n            }\n            catch (e) {\n                errorHandler({ networkError: e, operation: operation, forward: forward });\n                observer.error(e);\n            }\n            return function () {\n                if (sub)\n                    sub.unsubscribe();\n                if (retriedSub)\n                    sub.unsubscribe();\n            };\n        });\n    });\n}\nvar ErrorLink = (function (_super) {\n    Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __extends */ \"c\"])(ErrorLink, _super);\n    function ErrorLink(errorHandler) {\n        var _this = _super.call(this) || this;\n        _this.link = onError(errorHandler);\n        return _this;\n    }\n    ErrorLink.prototype.request = function (operation, forward) {\n        return this.link.request(operation, forward);\n    };\n    return ErrorLink;\n}(apollo_link__WEBPACK_IMPORTED_MODULE_1__[\"ApolloLink\"]));\n\n\n//# sourceMappingURL=bundle.esm.js.map\n\n\n/***/ }),\n\n/***/ \"5IwB\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(process) {\n\nvar _regeneratorRuntime = __webpack_require__(\"o0o1\");\n\nvar _asyncToGenerator = __webpack_require__(\"yXPU\");\n\nvar _defineProperty = __webpack_require__(\"lSNA\");\n\nvar _reactJsxRuntime = __webpack_require__(\"nKUr\");\n\nvar _classCallCheck = __webpack_require__(\"lwsE\");\n\nvar _createClass = __webpack_require__(\"W8MJ\");\n\nvar _inherits = __webpack_require__(\"7W2i\");\n\nvar _possibleConstructorReturn = __webpack_require__(\"a1gu\");\n\nvar _getPrototypeOf = __webpack_require__(\"Nsbk\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar PropTypes = __importStar(__webpack_require__(\"17x9\"));\n\nvar React = __importStar(__webpack_require__(\"q1tI\"));\n\nvar react_apollo_1 = __webpack_require__(\"Uuew\");\n\nvar head_1 = __importDefault(__webpack_require__(\"g4pe\"));\n\nvar initApollo_1 = __importDefault(__webpack_require__(\"f21Q\"));\n\nvar parseCookies_1 = __importDefault(__webpack_require__(\"FL+C\"));\n\nexports[\"default\"] = function (App) {\n  // let disableStylesGeneration = true;\n  var _a;\n\n  App.displayName = 'BAHRA App';\n  return _a = /*#__PURE__*/function (_React$Component) {\n    _inherits(WithData, _React$Component);\n\n    var _super = _createSuper(WithData);\n\n    function WithData(props) {\n      var _this;\n\n      _classCallCheck(this, WithData);\n\n      _this = _super.call(this, props);\n      _this.pageContext = null; // `getDataFromTree` renders the component first, the client is passed off as a property.\n      // After that rendering is done using Next's normal rendering pipeline\n\n      _this.apolloClient = initApollo_1[\"default\"](props.apolloState, {\n        getToken: function getToken() {\n          var WP_refreshToken = parseCookies_1[\"default\"]().refreshToken;\n          var WP_authToken = parseCookies_1[\"default\"]().authToken;\n          return {\n            WP_authToken: WP_authToken,\n            WP_refreshToken: WP_refreshToken\n          };\n        }\n      });\n      return _this;\n    }\n\n    _createClass(WithData, [{\n      key: \"render\",\n      value: function render() {\n        return /*#__PURE__*/_reactJsxRuntime.jsx(App, _objectSpread(_objectSpread({}, this.props), {}, {\n          apolloClient: this.apolloClient\n        }));\n      }\n    }], [{\n      key: \"getInitialProps\",\n      value: function () {\n        var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ctx) {\n          var Component, router, req, res, apollo, appProps, apolloState;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  Component = ctx.Component, router = ctx.router, req = ctx.req, res = ctx.res;\n                  apollo = initApollo_1[\"default\"]({}, {\n                    getToken: function getToken() {\n                      var refreshToken = parseCookies_1[\"default\"](req).refreshToken;\n                      console.log('authToken', refreshToken);\n                      var authToken = parseCookies_1[\"default\"](req).authToken;\n                      console.log('authToken', authToken);\n                      return {\n                        authToken: authToken,\n                        refreshToken: refreshToken\n                      };\n                    }\n                  });\n                  ctx.apolloClient = apollo;\n                  appProps = {};\n\n                  if (!App.getInitialProps) {\n                    _context.next = 8;\n                    break;\n                  }\n\n                  _context.next = 7;\n                  return App.getInitialProps(ctx);\n\n                case 7:\n                  appProps = _context.sent;\n\n                case 8:\n                  if (!(res && res.finished)) {\n                    _context.next = 10;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", {});\n\n                case 10:\n                  if (!( true && process && process.versions && Boolean(process.versions.node))) {\n                    _context.next = 20;\n                    break;\n                  }\n\n                  _context.prev = 11;\n                  _context.next = 14;\n                  return react_apollo_1.getDataFromTree( /*#__PURE__*/_reactJsxRuntime.jsx(App, _objectSpread(_objectSpread({}, appProps), {}, {\n                    Component: Component,\n                    router: router,\n                    apolloClient: apollo\n                  })));\n\n                case 14:\n                  _context.next = 19;\n                  break;\n\n                case 16:\n                  _context.prev = 16;\n                  _context.t0 = _context[\"catch\"](11);\n                  // Prevent Apollo Client GraphQL errors from crashing SSR.\n                  // Handle them in components via the data.error prop:\n                  // https://www.apollographql.com/docs/react/api/react-apollo.html#graphql-query-data-error\n                  // tslint:disable-next-line:no-console\n                  console.error('Error while running `getDataFromTree`', _context.t0);\n\n                case 19:\n                  // getDataFromTree does not call componentWillUnmount\n                  // head side effect therefore need to be cleared manually\n                  head_1[\"default\"].rewind();\n\n                case 20:\n                  // Extract query data from the Apollo's store\n                  apolloState = apollo.cache.extract();\n                  return _context.abrupt(\"return\", Object.assign(Object.assign({}, appProps), {\n                    apolloState: apolloState\n                  }));\n\n                case 22:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[11, 16]]);\n        }));\n\n        function getInitialProps(_x) {\n          return _getInitialProps.apply(this, arguments);\n        }\n\n        return getInitialProps;\n      }()\n    }]);\n\n    return WithData;\n  }(React.Component), _a.displayName = \"WithData(\".concat(App.displayName, \")\"), _a.propTypes = {\n    apolloState: PropTypes.object.isRequired\n  }, _a;\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"8oxB\")))\n\n/***/ }),\n\n/***/ \"DIBC\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(process) { // tslint:disable: no-console\n\nvar _toConsumableArray = __webpack_require__(\"RIqP\");\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar apollo_client_1 = __webpack_require__(\"dMq0\");\n\nvar apollo_link_1 = __webpack_require__(\"1jQf\");\n\nvar apollo_link_context_1 = __webpack_require__(\"wsNJ\");\n\nvar apollo_link_error_1 = __webpack_require__(\"4Tsn\");\n\nvar apollo_link_http_1 = __webpack_require__(\"R44f\");\n\nvar apollo_link_logger_1 = __importDefault(__webpack_require__(\"otUN\"));\n\nvar createCache_1 = __importDefault(__webpack_require__(\"nbvT\"));\n\nvar config_1 = __importDefault(__webpack_require__(\"OcYQ\")); //import { WebSocketLink } from \"@apollo/client/link/ws\";\n\n\nvar helpers_1 = __webpack_require__(\"xg0D\");\n\nvar parseCookies_1 = __importStar(__webpack_require__(\"FL+C\"));\n\nvar lodash_1 = __webpack_require__(\"LvDl\");\n\nvar link = apollo_link_1.from([].concat(_toConsumableArray(config_1[\"default\"].DEV ? [apollo_link_logger_1[\"default\"]] : []), [// Create Error linking\napollo_link_error_1.onError(function (_ref) {\n  var graphQLErrors = _ref.graphQLErrors,\n      networkError = _ref.networkError;\n\n  if (graphQLErrors) {\n    graphQLErrors.map(function (_ref2) {\n      var message = _ref2.message,\n          locations = _ref2.locations,\n          path = _ref2.path;\n      console.error(\"\\n\\n[GraphQL error]: \".concat(message, \" \\n location: \").concat(JSON.stringify(locations, null, 2), \" \\n path: \").concat(path, \"\\n\\n\"));\n    });\n  }\n\n  if (networkError) {\n    console.error(\"[Network error]: \".concat(JSON.stringify(networkError, null, 2)));\n  }\n}), new apollo_link_http_1.HttpLink({\n  credentials: 'same-origin',\n  useGETForQueries: false,\n  uri: 'https://bahra.eu/admin/index.php?graphql'\n})]));\n\nvar authLink = function authLink(getToken) {\n  return apollo_link_context_1.setContext(function (_, _ref3) {\n    var headers = _ref3.headers;\n    var WP_tokens = getToken();\n    var refreshToken = parseCookies_1[\"default\"]().refreshToken;\n    var IsTokenExpired = helpers_1.checkTokenIsExpired(WP_tokens.WP_authToken);\n    var token = WP_tokens.WP_authToken;\n\n    if (!lodash_1.isEmpty(token)) {\n      return {\n        headers: headers\n      };\n    }\n\n    if (!IsTokenExpired) {\n      return createHeaders(token, headers);\n    } else {\n      try {\n        parseCookies_1.removeMapInCookie(['authToken'], token);\n        var refreshedAccessToken = WP_tokens.WP_refreshTokens.token;\n\n        if (!refreshedAccessToken) {\n          helpers_1.checkTokenIsExpired(refreshToken);\n        } else {\n          throw new Error();\n        }\n\n        return createHeaders(refreshedAccessToken, headers);\n      } catch (error) {\n        return {\n          headers: headers\n        };\n      }\n    }\n  });\n};\n\nfunction createHeaders(token, oldHeaders) {\n  return {\n    headers: Object.assign({\n      Authorization: \"Bearer \".concat(token)\n    }, oldHeaders)\n  };\n}\n\nvar create = function create(initialState, _ref4) {\n  var getToken = _ref4.getToken;\n  return new apollo_client_1.ApolloClient({\n    cache: createCache_1[\"default\"].restore(initialState || {}),\n    connectToDevTools: true,\n    link: authLink(getToken).concat(link),\n    queryDeduplication: true,\n    ssrMode: Boolean( true && process && process.versions && Boolean(process.versions.node))\n  });\n};\n\nexports[\"default\"] = create;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"8oxB\")))\n\n/***/ }),\n\n/***/ \"K/JX\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"HeuristicFragmentMatcher\", function() { return /* binding */ HeuristicFragmentMatcher; });\n__webpack_require__.d(__webpack_exports__, \"InMemoryCache\", function() { return /* binding */ bundle_esm_InMemoryCache; });\n__webpack_require__.d(__webpack_exports__, \"IntrospectionFragmentMatcher\", function() { return /* binding */ bundle_esm_IntrospectionFragmentMatcher; });\n__webpack_require__.d(__webpack_exports__, \"ObjectCache\", function() { return /* binding */ ObjectCache; });\n__webpack_require__.d(__webpack_exports__, \"StoreReader\", function() { return /* binding */ bundle_esm_StoreReader; });\n__webpack_require__.d(__webpack_exports__, \"StoreWriter\", function() { return /* binding */ bundle_esm_StoreWriter; });\n__webpack_require__.d(__webpack_exports__, \"WriteError\", function() { return /* binding */ bundle_esm_WriteError; });\n__webpack_require__.d(__webpack_exports__, \"assertIdValue\", function() { return /* binding */ assertIdValue; });\n__webpack_require__.d(__webpack_exports__, \"defaultDataIdFromObject\", function() { return /* binding */ defaultDataIdFromObject; });\n__webpack_require__.d(__webpack_exports__, \"defaultNormalizedCacheFactory\", function() { return /* binding */ defaultNormalizedCacheFactory$1; });\n__webpack_require__.d(__webpack_exports__, \"enhanceErrorWithDocument\", function() { return /* binding */ enhanceErrorWithDocument; });\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./node_modules/apollo-utilities/lib/bundle.esm.js\nvar bundle_esm = __webpack_require__(\"RRgQ\");\n\n// CONCATENATED MODULE: ./node_modules/apollo-cache/lib/bundle.esm.js\n\n\nfunction queryFromPojo(obj) {\n    var op = {\n        kind: 'OperationDefinition',\n        operation: 'query',\n        name: {\n            kind: 'Name',\n            value: 'GeneratedClientQuery',\n        },\n        selectionSet: selectionSetFromObj(obj),\n    };\n    var out = {\n        kind: 'Document',\n        definitions: [op],\n    };\n    return out;\n}\nfunction fragmentFromPojo(obj, typename) {\n    var frag = {\n        kind: 'FragmentDefinition',\n        typeCondition: {\n            kind: 'NamedType',\n            name: {\n                kind: 'Name',\n                value: typename || '__FakeType',\n            },\n        },\n        name: {\n            kind: 'Name',\n            value: 'GeneratedClientQuery',\n        },\n        selectionSet: selectionSetFromObj(obj),\n    };\n    var out = {\n        kind: 'Document',\n        definitions: [frag],\n    };\n    return out;\n}\nfunction selectionSetFromObj(obj) {\n    if (typeof obj === 'number' ||\n        typeof obj === 'boolean' ||\n        typeof obj === 'string' ||\n        typeof obj === 'undefined' ||\n        obj === null) {\n        return null;\n    }\n    if (Array.isArray(obj)) {\n        return selectionSetFromObj(obj[0]);\n    }\n    var selections = [];\n    Object.keys(obj).forEach(function (key) {\n        var nestedSelSet = selectionSetFromObj(obj[key]);\n        var field = {\n            kind: 'Field',\n            name: {\n                kind: 'Name',\n                value: key,\n            },\n            selectionSet: nestedSelSet || undefined,\n        };\n        selections.push(field);\n    });\n    var selectionSet = {\n        kind: 'SelectionSet',\n        selections: selections,\n    };\n    return selectionSet;\n}\nvar justTypenameQuery = {\n    kind: 'Document',\n    definitions: [\n        {\n            kind: 'OperationDefinition',\n            operation: 'query',\n            name: null,\n            variableDefinitions: null,\n            directives: [],\n            selectionSet: {\n                kind: 'SelectionSet',\n                selections: [\n                    {\n                        kind: 'Field',\n                        alias: null,\n                        name: {\n                            kind: 'Name',\n                            value: '__typename',\n                        },\n                        arguments: [],\n                        directives: [],\n                        selectionSet: null,\n                    },\n                ],\n            },\n        },\n    ],\n};\n\nvar bundle_esm_ApolloCache = (function () {\n    function ApolloCache() {\n    }\n    ApolloCache.prototype.transformDocument = function (document) {\n        return document;\n    };\n    ApolloCache.prototype.transformForLink = function (document) {\n        return document;\n    };\n    ApolloCache.prototype.readQuery = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return this.read({\n            query: options.query,\n            variables: options.variables,\n            optimistic: optimistic,\n        });\n    };\n    ApolloCache.prototype.readFragment = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return this.read({\n            query: Object(bundle_esm[\"k\" /* getFragmentQueryDocument */])(options.fragment, options.fragmentName),\n            variables: options.variables,\n            rootId: options.id,\n            optimistic: optimistic,\n        });\n    };\n    ApolloCache.prototype.writeQuery = function (options) {\n        this.write({\n            dataId: 'ROOT_QUERY',\n            result: options.data,\n            query: options.query,\n            variables: options.variables,\n        });\n    };\n    ApolloCache.prototype.writeFragment = function (options) {\n        this.write({\n            dataId: options.id,\n            result: options.data,\n            variables: options.variables,\n            query: Object(bundle_esm[\"k\" /* getFragmentQueryDocument */])(options.fragment, options.fragmentName),\n        });\n    };\n    ApolloCache.prototype.writeData = function (_a) {\n        var id = _a.id, data = _a.data;\n        if (typeof id !== 'undefined') {\n            var typenameResult = null;\n            try {\n                typenameResult = this.read({\n                    rootId: id,\n                    optimistic: false,\n                    query: justTypenameQuery,\n                });\n            }\n            catch (e) {\n            }\n            var __typename = (typenameResult && typenameResult.__typename) || '__ClientData';\n            var dataToWrite = Object.assign({ __typename: __typename }, data);\n            this.writeFragment({\n                id: id,\n                fragment: fragmentFromPojo(dataToWrite, __typename),\n                data: dataToWrite,\n            });\n        }\n        else {\n            this.writeQuery({ query: queryFromPojo(data), data: data });\n        }\n    };\n    return ApolloCache;\n}());\n\nvar Cache;\n(function (Cache) {\n})(Cache || (Cache = {}));\n\n\n//# sourceMappingURL=bundle.esm.js.map\n\n// EXTERNAL MODULE: ./node_modules/@wry/equality/lib/equality.esm.js\nvar equality_esm = __webpack_require__(\"qx2n\");\n\n// CONCATENATED MODULE: ./node_modules/optimism/node_modules/@wry/context/lib/context.esm.js\n// This currentContext variable will only be used if the makeSlotClass\r\n// function is called, which happens only if this is the first copy of the\r\n// @wry/context package to be imported.\r\nvar currentContext = null;\r\n// This unique internal object is used to denote the absence of a value\r\n// for a given Slot, and is never exposed to outside code.\r\nvar MISSING_VALUE = {};\r\nvar idCounter = 1;\r\n// Although we can't do anything about the cost of duplicated code from\r\n// accidentally bundling multiple copies of the @wry/context package, we can\r\n// avoid creating the Slot class more than once using makeSlotClass.\r\nvar makeSlotClass = function () { return /** @class */ (function () {\r\n    function Slot() {\r\n        // If you have a Slot object, you can find out its slot.id, but you cannot\r\n        // guess the slot.id of a Slot you don't have access to, thanks to the\r\n        // randomized suffix.\r\n        this.id = [\r\n            \"slot\",\r\n            idCounter++,\r\n            Date.now(),\r\n            Math.random().toString(36).slice(2),\r\n        ].join(\":\");\r\n    }\r\n    Slot.prototype.hasValue = function () {\r\n        for (var context_1 = currentContext; context_1; context_1 = context_1.parent) {\r\n            // We use the Slot object iself as a key to its value, which means the\r\n            // value cannot be obtained without a reference to the Slot object.\r\n            if (this.id in context_1.slots) {\r\n                var value = context_1.slots[this.id];\r\n                if (value === MISSING_VALUE)\r\n                    break;\r\n                if (context_1 !== currentContext) {\r\n                    // Cache the value in currentContext.slots so the next lookup will\r\n                    // be faster. This caching is safe because the tree of contexts and\r\n                    // the values of the slots are logically immutable.\r\n                    currentContext.slots[this.id] = value;\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n        if (currentContext) {\r\n            // If a value was not found for this Slot, it's never going to be found\r\n            // no matter how many times we look it up, so we might as well cache\r\n            // the absence of the value, too.\r\n            currentContext.slots[this.id] = MISSING_VALUE;\r\n        }\r\n        return false;\r\n    };\r\n    Slot.prototype.getValue = function () {\r\n        if (this.hasValue()) {\r\n            return currentContext.slots[this.id];\r\n        }\r\n    };\r\n    Slot.prototype.withValue = function (value, callback, \r\n    // Given the prevalence of arrow functions, specifying arguments is likely\r\n    // to be much more common than specifying `this`, hence this ordering:\r\n    args, thisArg) {\r\n        var _a;\r\n        var slots = (_a = {\r\n                __proto__: null\r\n            },\r\n            _a[this.id] = value,\r\n            _a);\r\n        var parent = currentContext;\r\n        currentContext = { parent: parent, slots: slots };\r\n        try {\r\n            // Function.prototype.apply allows the arguments array argument to be\r\n            // omitted or undefined, so args! is fine here.\r\n            return callback.apply(thisArg, args);\r\n        }\r\n        finally {\r\n            currentContext = parent;\r\n        }\r\n    };\r\n    // Capture the current context and wrap a callback function so that it\r\n    // reestablishes the captured context when called.\r\n    Slot.bind = function (callback) {\r\n        var context = currentContext;\r\n        return function () {\r\n            var saved = currentContext;\r\n            try {\r\n                currentContext = context;\r\n                return callback.apply(this, arguments);\r\n            }\r\n            finally {\r\n                currentContext = saved;\r\n            }\r\n        };\r\n    };\r\n    // Immediately run a callback function without any captured context.\r\n    Slot.noContext = function (callback, \r\n    // Given the prevalence of arrow functions, specifying arguments is likely\r\n    // to be much more common than specifying `this`, hence this ordering:\r\n    args, thisArg) {\r\n        if (currentContext) {\r\n            var saved = currentContext;\r\n            try {\r\n                currentContext = null;\r\n                // Function.prototype.apply allows the arguments array argument to be\r\n                // omitted or undefined, so args! is fine here.\r\n                return callback.apply(thisArg, args);\r\n            }\r\n            finally {\r\n                currentContext = saved;\r\n            }\r\n        }\r\n        else {\r\n            return callback.apply(thisArg, args);\r\n        }\r\n    };\r\n    return Slot;\r\n}()); };\r\n// We store a single global implementation of the Slot class as a permanent\r\n// non-enumerable symbol property of the Array constructor. This obfuscation\r\n// does nothing to prevent access to the Slot class, but at least it ensures\r\n// the implementation (i.e. currentContext) cannot be tampered with, and all\r\n// copies of the @wry/context package (hopefully just one) will share the\r\n// same Slot implementation. Since the first copy of the @wry/context package\r\n// to be imported wins, this technique imposes a very high cost for any\r\n// future breaking changes to the Slot class.\r\nvar globalKey = \"@wry/context:Slot\";\r\nvar host = Array;\r\nvar Slot = host[globalKey] || function () {\r\n    var Slot = makeSlotClass();\r\n    try {\r\n        Object.defineProperty(host, globalKey, {\r\n            value: host[globalKey] = Slot,\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: false,\r\n        });\r\n    }\r\n    finally {\r\n        return Slot;\r\n    }\r\n}();\n\nvar bind = Slot.bind, noContext = Slot.noContext;\r\nfunction setTimeoutWithContext(callback, delay) {\r\n    return setTimeout(bind(callback), delay);\r\n}\r\n// Turn any generator function into an async function (using yield instead\r\n// of await), with context automatically preserved across yields.\r\nfunction asyncFromGen(genFn) {\r\n    return function () {\r\n        var gen = genFn.apply(this, arguments);\r\n        var boundNext = bind(gen.next);\r\n        var boundThrow = bind(gen.throw);\r\n        return new Promise(function (resolve, reject) {\r\n            function invoke(method, argument) {\r\n                try {\r\n                    var result = method.call(gen, argument);\r\n                }\r\n                catch (error) {\r\n                    return reject(error);\r\n                }\r\n                var next = result.done ? resolve : invokeNext;\r\n                if (isPromiseLike(result.value)) {\r\n                    result.value.then(next, result.done ? reject : invokeThrow);\r\n                }\r\n                else {\r\n                    next(result.value);\r\n                }\r\n            }\r\n            var invokeNext = function (value) { return invoke(boundNext, value); };\r\n            var invokeThrow = function (error) { return invoke(boundThrow, error); };\r\n            invokeNext();\r\n        });\r\n    };\r\n}\r\nfunction isPromiseLike(value) {\r\n    return value && typeof value.then === \"function\";\r\n}\r\n// If you use the fibers npm package to implement coroutines in Node.js,\r\n// you should call this function at least once to ensure context management\r\n// remains coherent across any yields.\r\nvar wrappedFibers = [];\r\nfunction wrapYieldingFiberMethods(Fiber) {\r\n    // There can be only one implementation of Fiber per process, so this array\r\n    // should never grow longer than one element.\r\n    if (wrappedFibers.indexOf(Fiber) < 0) {\r\n        var wrap = function (obj, method) {\r\n            var fn = obj[method];\r\n            obj[method] = function () {\r\n                return noContext(fn, arguments, this);\r\n            };\r\n        };\r\n        // These methods can yield, according to\r\n        // https://github.com/laverdet/node-fibers/blob/ddebed9b8ae3883e57f822e2108e6943e5c8d2a8/fibers.js#L97-L100\r\n        wrap(Fiber, \"yield\");\r\n        wrap(Fiber.prototype, \"run\");\r\n        wrap(Fiber.prototype, \"throwInto\");\r\n        wrappedFibers.push(Fiber);\r\n    }\r\n    return Fiber;\r\n}\n\n\n//# sourceMappingURL=context.esm.js.map\n\n// CONCATENATED MODULE: ./node_modules/optimism/lib/bundle.esm.js\n\n\n\nfunction defaultDispose() { }\r\nvar bundle_esm_Cache = /** @class */ (function () {\r\n    function Cache(max, dispose) {\r\n        if (max === void 0) { max = Infinity; }\r\n        if (dispose === void 0) { dispose = defaultDispose; }\r\n        this.max = max;\r\n        this.dispose = dispose;\r\n        this.map = new Map();\r\n        this.newest = null;\r\n        this.oldest = null;\r\n    }\r\n    Cache.prototype.has = function (key) {\r\n        return this.map.has(key);\r\n    };\r\n    Cache.prototype.get = function (key) {\r\n        var entry = this.getEntry(key);\r\n        return entry && entry.value;\r\n    };\r\n    Cache.prototype.getEntry = function (key) {\r\n        var entry = this.map.get(key);\r\n        if (entry && entry !== this.newest) {\r\n            var older = entry.older, newer = entry.newer;\r\n            if (newer) {\r\n                newer.older = older;\r\n            }\r\n            if (older) {\r\n                older.newer = newer;\r\n            }\r\n            entry.older = this.newest;\r\n            entry.older.newer = entry;\r\n            entry.newer = null;\r\n            this.newest = entry;\r\n            if (entry === this.oldest) {\r\n                this.oldest = newer;\r\n            }\r\n        }\r\n        return entry;\r\n    };\r\n    Cache.prototype.set = function (key, value) {\r\n        var entry = this.getEntry(key);\r\n        if (entry) {\r\n            return entry.value = value;\r\n        }\r\n        entry = {\r\n            key: key,\r\n            value: value,\r\n            newer: null,\r\n            older: this.newest\r\n        };\r\n        if (this.newest) {\r\n            this.newest.newer = entry;\r\n        }\r\n        this.newest = entry;\r\n        this.oldest = this.oldest || entry;\r\n        this.map.set(key, entry);\r\n        return entry.value;\r\n    };\r\n    Cache.prototype.clean = function () {\r\n        while (this.oldest && this.map.size > this.max) {\r\n            this.delete(this.oldest.key);\r\n        }\r\n    };\r\n    Cache.prototype.delete = function (key) {\r\n        var entry = this.map.get(key);\r\n        if (entry) {\r\n            if (entry === this.newest) {\r\n                this.newest = entry.older;\r\n            }\r\n            if (entry === this.oldest) {\r\n                this.oldest = entry.newer;\r\n            }\r\n            if (entry.newer) {\r\n                entry.newer.older = entry.older;\r\n            }\r\n            if (entry.older) {\r\n                entry.older.newer = entry.newer;\r\n            }\r\n            this.map.delete(key);\r\n            this.dispose(entry.value, key);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return Cache;\r\n}());\n\nvar parentEntrySlot = new Slot();\n\nvar reusableEmptyArray = [];\r\nvar emptySetPool = [];\r\nvar POOL_TARGET_SIZE = 100;\r\n// Since this package might be used browsers, we should avoid using the\r\n// Node built-in assert module.\r\nfunction assert(condition, optionalMessage) {\r\n    if (!condition) {\r\n        throw new Error(optionalMessage || \"assertion failure\");\r\n    }\r\n}\r\nfunction valueIs(a, b) {\r\n    var len = a.length;\r\n    return (\r\n    // Unknown values are not equal to each other.\r\n    len > 0 &&\r\n        // Both values must be ordinary (or both exceptional) to be equal.\r\n        len === b.length &&\r\n        // The underlying value or exception must be the same.\r\n        a[len - 1] === b[len - 1]);\r\n}\r\nfunction valueGet(value) {\r\n    switch (value.length) {\r\n        case 0: throw new Error(\"unknown value\");\r\n        case 1: return value[0];\r\n        case 2: throw value[1];\r\n    }\r\n}\r\nfunction valueCopy(value) {\r\n    return value.slice(0);\r\n}\r\nvar Entry = /** @class */ (function () {\r\n    function Entry(fn, args) {\r\n        this.fn = fn;\r\n        this.args = args;\r\n        this.parents = new Set();\r\n        this.childValues = new Map();\r\n        // When this Entry has children that are dirty, this property becomes\r\n        // a Set containing other Entry objects, borrowed from emptySetPool.\r\n        // When the set becomes empty, it gets recycled back to emptySetPool.\r\n        this.dirtyChildren = null;\r\n        this.dirty = true;\r\n        this.recomputing = false;\r\n        this.value = [];\r\n        ++Entry.count;\r\n    }\r\n    // This is the most important method of the Entry API, because it\r\n    // determines whether the cached this.value can be returned immediately,\r\n    // or must be recomputed. The overall performance of the caching system\r\n    // depends on the truth of the following observations: (1) this.dirty is\r\n    // usually false, (2) this.dirtyChildren is usually null/empty, and thus\r\n    // (3) valueGet(this.value) is usually returned without recomputation.\r\n    Entry.prototype.recompute = function () {\r\n        assert(!this.recomputing, \"already recomputing\");\r\n        if (!rememberParent(this) && maybeReportOrphan(this)) {\r\n            // The recipient of the entry.reportOrphan callback decided to dispose\r\n            // of this orphan entry by calling entry.dispose(), so we don't need to\r\n            // (and should not) proceed with the recomputation.\r\n            return void 0;\r\n        }\r\n        return mightBeDirty(this)\r\n            ? reallyRecompute(this)\r\n            : valueGet(this.value);\r\n    };\r\n    Entry.prototype.setDirty = function () {\r\n        if (this.dirty)\r\n            return;\r\n        this.dirty = true;\r\n        this.value.length = 0;\r\n        reportDirty(this);\r\n        // We can go ahead and unsubscribe here, since any further dirty\r\n        // notifications we receive will be redundant, and unsubscribing may\r\n        // free up some resources, e.g. file watchers.\r\n        maybeUnsubscribe(this);\r\n    };\r\n    Entry.prototype.dispose = function () {\r\n        var _this = this;\r\n        forgetChildren(this).forEach(maybeReportOrphan);\r\n        maybeUnsubscribe(this);\r\n        // Because this entry has been kicked out of the cache (in index.js),\r\n        // we've lost the ability to find out if/when this entry becomes dirty,\r\n        // whether that happens through a subscription, because of a direct call\r\n        // to entry.setDirty(), or because one of its children becomes dirty.\r\n        // Because of this loss of future information, we have to assume the\r\n        // worst (that this entry might have become dirty very soon), so we must\r\n        // immediately mark this entry's parents as dirty. Normally we could\r\n        // just call entry.setDirty() rather than calling parent.setDirty() for\r\n        // each parent, but that would leave this entry in parent.childValues\r\n        // and parent.dirtyChildren, which would prevent the child from being\r\n        // truly forgotten.\r\n        this.parents.forEach(function (parent) {\r\n            parent.setDirty();\r\n            forgetChild(parent, _this);\r\n        });\r\n    };\r\n    Entry.count = 0;\r\n    return Entry;\r\n}());\r\nfunction rememberParent(child) {\r\n    var parent = parentEntrySlot.getValue();\r\n    if (parent) {\r\n        child.parents.add(parent);\r\n        if (!parent.childValues.has(child)) {\r\n            parent.childValues.set(child, []);\r\n        }\r\n        if (mightBeDirty(child)) {\r\n            reportDirtyChild(parent, child);\r\n        }\r\n        else {\r\n            reportCleanChild(parent, child);\r\n        }\r\n        return parent;\r\n    }\r\n}\r\nfunction reallyRecompute(entry) {\r\n    // Since this recomputation is likely to re-remember some of this\r\n    // entry's children, we forget our children here but do not call\r\n    // maybeReportOrphan until after the recomputation finishes.\r\n    var originalChildren = forgetChildren(entry);\r\n    // Set entry as the parent entry while calling recomputeNewValue(entry).\r\n    parentEntrySlot.withValue(entry, recomputeNewValue, [entry]);\r\n    if (maybeSubscribe(entry)) {\r\n        // If we successfully recomputed entry.value and did not fail to\r\n        // (re)subscribe, then this Entry is no longer explicitly dirty.\r\n        setClean(entry);\r\n    }\r\n    // Now that we've had a chance to re-remember any children that were\r\n    // involved in the recomputation, we can safely report any orphan\r\n    // children that remain.\r\n    originalChildren.forEach(maybeReportOrphan);\r\n    return valueGet(entry.value);\r\n}\r\nfunction recomputeNewValue(entry) {\r\n    entry.recomputing = true;\r\n    // Set entry.value as unknown.\r\n    entry.value.length = 0;\r\n    try {\r\n        // If entry.fn succeeds, entry.value will become a normal Value.\r\n        entry.value[0] = entry.fn.apply(null, entry.args);\r\n    }\r\n    catch (e) {\r\n        // If entry.fn throws, entry.value will become exceptional.\r\n        entry.value[1] = e;\r\n    }\r\n    // Either way, this line is always reached.\r\n    entry.recomputing = false;\r\n}\r\nfunction mightBeDirty(entry) {\r\n    return entry.dirty || !!(entry.dirtyChildren && entry.dirtyChildren.size);\r\n}\r\nfunction setClean(entry) {\r\n    entry.dirty = false;\r\n    if (mightBeDirty(entry)) {\r\n        // This Entry may still have dirty children, in which case we can't\r\n        // let our parents know we're clean just yet.\r\n        return;\r\n    }\r\n    reportClean(entry);\r\n}\r\nfunction reportDirty(child) {\r\n    child.parents.forEach(function (parent) { return reportDirtyChild(parent, child); });\r\n}\r\nfunction reportClean(child) {\r\n    child.parents.forEach(function (parent) { return reportCleanChild(parent, child); });\r\n}\r\n// Let a parent Entry know that one of its children may be dirty.\r\nfunction reportDirtyChild(parent, child) {\r\n    // Must have called rememberParent(child) before calling\r\n    // reportDirtyChild(parent, child).\r\n    assert(parent.childValues.has(child));\r\n    assert(mightBeDirty(child));\r\n    if (!parent.dirtyChildren) {\r\n        parent.dirtyChildren = emptySetPool.pop() || new Set;\r\n    }\r\n    else if (parent.dirtyChildren.has(child)) {\r\n        // If we already know this child is dirty, then we must have already\r\n        // informed our own parents that we are dirty, so we can terminate\r\n        // the recursion early.\r\n        return;\r\n    }\r\n    parent.dirtyChildren.add(child);\r\n    reportDirty(parent);\r\n}\r\n// Let a parent Entry know that one of its children is no longer dirty.\r\nfunction reportCleanChild(parent, child) {\r\n    // Must have called rememberChild(child) before calling\r\n    // reportCleanChild(parent, child).\r\n    assert(parent.childValues.has(child));\r\n    assert(!mightBeDirty(child));\r\n    var childValue = parent.childValues.get(child);\r\n    if (childValue.length === 0) {\r\n        parent.childValues.set(child, valueCopy(child.value));\r\n    }\r\n    else if (!valueIs(childValue, child.value)) {\r\n        parent.setDirty();\r\n    }\r\n    removeDirtyChild(parent, child);\r\n    if (mightBeDirty(parent)) {\r\n        return;\r\n    }\r\n    reportClean(parent);\r\n}\r\nfunction removeDirtyChild(parent, child) {\r\n    var dc = parent.dirtyChildren;\r\n    if (dc) {\r\n        dc.delete(child);\r\n        if (dc.size === 0) {\r\n            if (emptySetPool.length < POOL_TARGET_SIZE) {\r\n                emptySetPool.push(dc);\r\n            }\r\n            parent.dirtyChildren = null;\r\n        }\r\n    }\r\n}\r\n// If the given entry has a reportOrphan method, and no remaining parents,\r\n// call entry.reportOrphan and return true iff it returns true. The\r\n// reportOrphan function should return true to indicate entry.dispose()\r\n// has been called, and the entry has been removed from any other caches\r\n// (see index.js for the only current example).\r\nfunction maybeReportOrphan(entry) {\r\n    return entry.parents.size === 0 &&\r\n        typeof entry.reportOrphan === \"function\" &&\r\n        entry.reportOrphan() === true;\r\n}\r\n// Removes all children from this entry and returns an array of the\r\n// removed children.\r\nfunction forgetChildren(parent) {\r\n    var children = reusableEmptyArray;\r\n    if (parent.childValues.size > 0) {\r\n        children = [];\r\n        parent.childValues.forEach(function (_value, child) {\r\n            forgetChild(parent, child);\r\n            children.push(child);\r\n        });\r\n    }\r\n    // After we forget all our children, this.dirtyChildren must be empty\r\n    // and therefore must have been reset to null.\r\n    assert(parent.dirtyChildren === null);\r\n    return children;\r\n}\r\nfunction forgetChild(parent, child) {\r\n    child.parents.delete(parent);\r\n    parent.childValues.delete(child);\r\n    removeDirtyChild(parent, child);\r\n}\r\nfunction maybeSubscribe(entry) {\r\n    if (typeof entry.subscribe === \"function\") {\r\n        try {\r\n            maybeUnsubscribe(entry); // Prevent double subscriptions.\r\n            entry.unsubscribe = entry.subscribe.apply(null, entry.args);\r\n        }\r\n        catch (e) {\r\n            // If this Entry has a subscribe function and it threw an exception\r\n            // (or an unsubscribe function it previously returned now throws),\r\n            // return false to indicate that we were not able to subscribe (or\r\n            // unsubscribe), and this Entry should remain dirty.\r\n            entry.setDirty();\r\n            return false;\r\n        }\r\n    }\r\n    // Returning true indicates either that there was no entry.subscribe\r\n    // function or that it succeeded.\r\n    return true;\r\n}\r\nfunction maybeUnsubscribe(entry) {\r\n    var unsubscribe = entry.unsubscribe;\r\n    if (typeof unsubscribe === \"function\") {\r\n        entry.unsubscribe = void 0;\r\n        unsubscribe();\r\n    }\r\n}\n\n// A trie data structure that holds object keys weakly, yet can also hold\r\n// non-object keys, unlike the native `WeakMap`.\r\nvar KeyTrie = /** @class */ (function () {\r\n    function KeyTrie(weakness) {\r\n        this.weakness = weakness;\r\n    }\r\n    KeyTrie.prototype.lookup = function () {\r\n        var array = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            array[_i] = arguments[_i];\r\n        }\r\n        return this.lookupArray(array);\r\n    };\r\n    KeyTrie.prototype.lookupArray = function (array) {\r\n        var node = this;\r\n        array.forEach(function (key) { return node = node.getChildTrie(key); });\r\n        return node.data || (node.data = Object.create(null));\r\n    };\r\n    KeyTrie.prototype.getChildTrie = function (key) {\r\n        var map = this.weakness && isObjRef(key)\r\n            ? this.weak || (this.weak = new WeakMap())\r\n            : this.strong || (this.strong = new Map());\r\n        var child = map.get(key);\r\n        if (!child)\r\n            map.set(key, child = new KeyTrie(this.weakness));\r\n        return child;\r\n    };\r\n    return KeyTrie;\r\n}());\r\nfunction isObjRef(value) {\r\n    switch (typeof value) {\r\n        case \"object\":\r\n            if (value === null)\r\n                break;\r\n        // Fall through to return true...\r\n        case \"function\":\r\n            return true;\r\n    }\r\n    return false;\r\n}\n\n// The defaultMakeCacheKey function is remarkably powerful, because it gives\r\n// a unique object for any shallow-identical list of arguments. If you need\r\n// to implement a custom makeCacheKey function, you may find it helpful to\r\n// delegate the final work to defaultMakeCacheKey, which is why we export it\r\n// here. However, you may want to avoid defaultMakeCacheKey if your runtime\r\n// does not support WeakMap, or you have the ability to return a string key.\r\n// In those cases, just write your own custom makeCacheKey functions.\r\nvar keyTrie = new KeyTrie(typeof WeakMap === \"function\");\r\nfunction defaultMakeCacheKey() {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    return keyTrie.lookupArray(args);\r\n}\r\nvar caches = new Set();\r\nfunction wrap(originalFunction, options) {\r\n    if (options === void 0) { options = Object.create(null); }\r\n    var cache = new bundle_esm_Cache(options.max || Math.pow(2, 16), function (entry) { return entry.dispose(); });\r\n    var disposable = !!options.disposable;\r\n    var makeCacheKey = options.makeCacheKey || defaultMakeCacheKey;\r\n    function optimistic() {\r\n        if (disposable && !parentEntrySlot.hasValue()) {\r\n            // If there's no current parent computation, and this wrapped\r\n            // function is disposable (meaning we don't care about entry.value,\r\n            // just dependency tracking), then we can short-cut everything else\r\n            // in this function, because entry.recompute() is going to recycle\r\n            // the entry object without recomputing anything, anyway.\r\n            return void 0;\r\n        }\r\n        var key = makeCacheKey.apply(null, arguments);\r\n        if (key === void 0) {\r\n            return originalFunction.apply(null, arguments);\r\n        }\r\n        var args = Array.prototype.slice.call(arguments);\r\n        var entry = cache.get(key);\r\n        if (entry) {\r\n            entry.args = args;\r\n        }\r\n        else {\r\n            entry = new Entry(originalFunction, args);\r\n            cache.set(key, entry);\r\n            entry.subscribe = options.subscribe;\r\n            if (disposable) {\r\n                entry.reportOrphan = function () { return cache.delete(key); };\r\n            }\r\n        }\r\n        var value = entry.recompute();\r\n        // Move this entry to the front of the least-recently used queue,\r\n        // since we just finished computing its value.\r\n        cache.set(key, entry);\r\n        caches.add(cache);\r\n        // Clean up any excess entries in the cache, but only if there is no\r\n        // active parent entry, meaning we're not in the middle of a larger\r\n        // computation that might be flummoxed by the cleaning.\r\n        if (!parentEntrySlot.hasValue()) {\r\n            caches.forEach(function (cache) { return cache.clean(); });\r\n            caches.clear();\r\n        }\r\n        // If options.disposable is truthy, the caller of wrap is telling us\r\n        // they don't care about the result of entry.recompute(), so we should\r\n        // avoid returning the value, so it won't be accidentally used.\r\n        return disposable ? void 0 : value;\r\n    }\r\n    optimistic.dirty = function () {\r\n        var key = makeCacheKey.apply(null, arguments);\r\n        var child = key !== void 0 && cache.get(key);\r\n        if (child) {\r\n            child.setDirty();\r\n        }\r\n    };\r\n    return optimistic;\r\n}\n\n\n//# sourceMappingURL=bundle.esm.js.map\n\n// EXTERNAL MODULE: ./node_modules/ts-invariant/lib/invariant.esm.js\nvar invariant_esm = __webpack_require__(\"qVdT\");\n\n// CONCATENATED MODULE: ./node_modules/apollo-cache-inmemory/lib/bundle.esm.js\n\n\n\n\n\n\nvar haveWarned = false;\nfunction shouldWarn() {\n    var answer = !haveWarned;\n    if (!Object(bundle_esm[\"y\" /* isTest */])()) {\n        haveWarned = true;\n    }\n    return answer;\n}\nvar HeuristicFragmentMatcher = (function () {\n    function HeuristicFragmentMatcher() {\n    }\n    HeuristicFragmentMatcher.prototype.ensureReady = function () {\n        return Promise.resolve();\n    };\n    HeuristicFragmentMatcher.prototype.canBypassInit = function () {\n        return true;\n    };\n    HeuristicFragmentMatcher.prototype.match = function (idValue, typeCondition, context) {\n        var obj = context.store.get(idValue.id);\n        var isRootQuery = idValue.id === 'ROOT_QUERY';\n        if (!obj) {\n            return isRootQuery;\n        }\n        var _a = obj.__typename, __typename = _a === void 0 ? isRootQuery && 'Query' : _a;\n        if (!__typename) {\n            if (shouldWarn()) {\n                 true || false;\n                 true || false;\n                 true || false;\n            }\n            return 'heuristic';\n        }\n        if (__typename === typeCondition) {\n            return true;\n        }\n        if (shouldWarn()) {\n             true || false;\n        }\n        return 'heuristic';\n    };\n    return HeuristicFragmentMatcher;\n}());\nvar bundle_esm_IntrospectionFragmentMatcher = (function () {\n    function IntrospectionFragmentMatcher(options) {\n        if (options && options.introspectionQueryResultData) {\n            this.possibleTypesMap = this.parseIntrospectionResult(options.introspectionQueryResultData);\n            this.isReady = true;\n        }\n        else {\n            this.isReady = false;\n        }\n        this.match = this.match.bind(this);\n    }\n    IntrospectionFragmentMatcher.prototype.match = function (idValue, typeCondition, context) {\n         true ? Object(invariant_esm[\"b\" /* invariant */])(this.isReady, 1) : undefined;\n        var obj = context.store.get(idValue.id);\n        var isRootQuery = idValue.id === 'ROOT_QUERY';\n        if (!obj) {\n            return isRootQuery;\n        }\n        var _a = obj.__typename, __typename = _a === void 0 ? isRootQuery && 'Query' : _a;\n         true ? Object(invariant_esm[\"b\" /* invariant */])(__typename, 2) : undefined;\n        if (__typename === typeCondition) {\n            return true;\n        }\n        var implementingTypes = this.possibleTypesMap[typeCondition];\n        if (__typename &&\n            implementingTypes &&\n            implementingTypes.indexOf(__typename) > -1) {\n            return true;\n        }\n        return false;\n    };\n    IntrospectionFragmentMatcher.prototype.parseIntrospectionResult = function (introspectionResultData) {\n        var typeMap = {};\n        introspectionResultData.__schema.types.forEach(function (type) {\n            if (type.kind === 'UNION' || type.kind === 'INTERFACE') {\n                typeMap[type.name] = type.possibleTypes.map(function (implementingType) { return implementingType.name; });\n            }\n        });\n        return typeMap;\n    };\n    return IntrospectionFragmentMatcher;\n}());\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar bundle_esm_DepTrackingCache = (function () {\n    function DepTrackingCache(data) {\n        var _this = this;\n        if (data === void 0) { data = Object.create(null); }\n        this.data = data;\n        this.depend = wrap(function (dataId) { return _this.data[dataId]; }, {\n            disposable: true,\n            makeCacheKey: function (dataId) {\n                return dataId;\n            },\n        });\n    }\n    DepTrackingCache.prototype.toObject = function () {\n        return this.data;\n    };\n    DepTrackingCache.prototype.get = function (dataId) {\n        this.depend(dataId);\n        return this.data[dataId];\n    };\n    DepTrackingCache.prototype.set = function (dataId, value) {\n        var oldValue = this.data[dataId];\n        if (value !== oldValue) {\n            this.data[dataId] = value;\n            this.depend.dirty(dataId);\n        }\n    };\n    DepTrackingCache.prototype.delete = function (dataId) {\n        if (hasOwn.call(this.data, dataId)) {\n            delete this.data[dataId];\n            this.depend.dirty(dataId);\n        }\n    };\n    DepTrackingCache.prototype.clear = function () {\n        this.replace(null);\n    };\n    DepTrackingCache.prototype.replace = function (newData) {\n        var _this = this;\n        if (newData) {\n            Object.keys(newData).forEach(function (dataId) {\n                _this.set(dataId, newData[dataId]);\n            });\n            Object.keys(this.data).forEach(function (dataId) {\n                if (!hasOwn.call(newData, dataId)) {\n                    _this.delete(dataId);\n                }\n            });\n        }\n        else {\n            Object.keys(this.data).forEach(function (dataId) {\n                _this.delete(dataId);\n            });\n        }\n    };\n    return DepTrackingCache;\n}());\nfunction defaultNormalizedCacheFactory(seed) {\n    return new bundle_esm_DepTrackingCache(seed);\n}\n\nvar bundle_esm_StoreReader = (function () {\n    function StoreReader(_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, _c = _b.cacheKeyRoot, cacheKeyRoot = _c === void 0 ? new KeyTrie(bundle_esm[\"e\" /* canUseWeakMap */]) : _c, _d = _b.freezeResults, freezeResults = _d === void 0 ? false : _d;\n        var _e = this, executeStoreQuery = _e.executeStoreQuery, executeSelectionSet = _e.executeSelectionSet, executeSubSelectedArray = _e.executeSubSelectedArray;\n        this.freezeResults = freezeResults;\n        this.executeStoreQuery = wrap(function (options) {\n            return executeStoreQuery.call(_this, options);\n        }, {\n            makeCacheKey: function (_a) {\n                var query = _a.query, rootValue = _a.rootValue, contextValue = _a.contextValue, variableValues = _a.variableValues, fragmentMatcher = _a.fragmentMatcher;\n                if (contextValue.store instanceof bundle_esm_DepTrackingCache) {\n                    return cacheKeyRoot.lookup(contextValue.store, query, fragmentMatcher, JSON.stringify(variableValues), rootValue.id);\n                }\n            }\n        });\n        this.executeSelectionSet = wrap(function (options) {\n            return executeSelectionSet.call(_this, options);\n        }, {\n            makeCacheKey: function (_a) {\n                var selectionSet = _a.selectionSet, rootValue = _a.rootValue, execContext = _a.execContext;\n                if (execContext.contextValue.store instanceof bundle_esm_DepTrackingCache) {\n                    return cacheKeyRoot.lookup(execContext.contextValue.store, selectionSet, execContext.fragmentMatcher, JSON.stringify(execContext.variableValues), rootValue.id);\n                }\n            }\n        });\n        this.executeSubSelectedArray = wrap(function (options) {\n            return executeSubSelectedArray.call(_this, options);\n        }, {\n            makeCacheKey: function (_a) {\n                var field = _a.field, array = _a.array, execContext = _a.execContext;\n                if (execContext.contextValue.store instanceof bundle_esm_DepTrackingCache) {\n                    return cacheKeyRoot.lookup(execContext.contextValue.store, field, array, JSON.stringify(execContext.variableValues));\n                }\n            }\n        });\n    }\n    StoreReader.prototype.readQueryFromStore = function (options) {\n        return this.diffQueryAgainstStore(Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])({}, options), { returnPartialData: false })).result;\n    };\n    StoreReader.prototype.diffQueryAgainstStore = function (_a) {\n        var store = _a.store, query = _a.query, variables = _a.variables, previousResult = _a.previousResult, _b = _a.returnPartialData, returnPartialData = _b === void 0 ? true : _b, _c = _a.rootId, rootId = _c === void 0 ? 'ROOT_QUERY' : _c, fragmentMatcherFunction = _a.fragmentMatcherFunction, config = _a.config;\n        var queryDefinition = Object(bundle_esm[\"o\" /* getQueryDefinition */])(query);\n        variables = Object(bundle_esm[\"c\" /* assign */])({}, Object(bundle_esm[\"h\" /* getDefaultValues */])(queryDefinition), variables);\n        var context = {\n            store: store,\n            dataIdFromObject: config && config.dataIdFromObject,\n            cacheRedirects: (config && config.cacheRedirects) || {},\n        };\n        var execResult = this.executeStoreQuery({\n            query: query,\n            rootValue: {\n                type: 'id',\n                id: rootId,\n                generated: true,\n                typename: 'Query',\n            },\n            contextValue: context,\n            variableValues: variables,\n            fragmentMatcher: fragmentMatcherFunction,\n        });\n        var hasMissingFields = execResult.missing && execResult.missing.length > 0;\n        if (hasMissingFields && !returnPartialData) {\n            execResult.missing.forEach(function (info) {\n                if (info.tolerable)\n                    return;\n                throw  true ? new invariant_esm[\"a\" /* InvariantError */](8) : undefined;\n            });\n        }\n        if (previousResult) {\n            if (Object(equality_esm[\"a\" /* equal */])(previousResult, execResult.result)) {\n                execResult.result = previousResult;\n            }\n        }\n        return {\n            result: execResult.result,\n            complete: !hasMissingFields,\n        };\n    };\n    StoreReader.prototype.executeStoreQuery = function (_a) {\n        var query = _a.query, rootValue = _a.rootValue, contextValue = _a.contextValue, variableValues = _a.variableValues, _b = _a.fragmentMatcher, fragmentMatcher = _b === void 0 ? defaultFragmentMatcher : _b;\n        var mainDefinition = Object(bundle_esm[\"l\" /* getMainDefinition */])(query);\n        var fragments = Object(bundle_esm[\"j\" /* getFragmentDefinitions */])(query);\n        var fragmentMap = Object(bundle_esm[\"g\" /* createFragmentMap */])(fragments);\n        var execContext = {\n            query: query,\n            fragmentMap: fragmentMap,\n            contextValue: contextValue,\n            variableValues: variableValues,\n            fragmentMatcher: fragmentMatcher,\n        };\n        return this.executeSelectionSet({\n            selectionSet: mainDefinition.selectionSet,\n            rootValue: rootValue,\n            execContext: execContext,\n        });\n    };\n    StoreReader.prototype.executeSelectionSet = function (_a) {\n        var _this = this;\n        var selectionSet = _a.selectionSet, rootValue = _a.rootValue, execContext = _a.execContext;\n        var fragmentMap = execContext.fragmentMap, contextValue = execContext.contextValue, variables = execContext.variableValues;\n        var finalResult = { result: null };\n        var objectsToMerge = [];\n        var object = contextValue.store.get(rootValue.id);\n        var typename = (object && object.__typename) ||\n            (rootValue.id === 'ROOT_QUERY' && 'Query') ||\n            void 0;\n        function handleMissing(result) {\n            var _a;\n            if (result.missing) {\n                finalResult.missing = finalResult.missing || [];\n                (_a = finalResult.missing).push.apply(_a, result.missing);\n            }\n            return result.result;\n        }\n        selectionSet.selections.forEach(function (selection) {\n            var _a;\n            if (!Object(bundle_esm[\"F\" /* shouldInclude */])(selection, variables)) {\n                return;\n            }\n            if (Object(bundle_esm[\"t\" /* isField */])(selection)) {\n                var fieldResult = handleMissing(_this.executeField(object, typename, selection, execContext));\n                if (typeof fieldResult !== 'undefined') {\n                    objectsToMerge.push((_a = {},\n                        _a[Object(bundle_esm[\"E\" /* resultKeyNameFromField */])(selection)] = fieldResult,\n                        _a));\n                }\n            }\n            else {\n                var fragment = void 0;\n                if (Object(bundle_esm[\"v\" /* isInlineFragment */])(selection)) {\n                    fragment = selection;\n                }\n                else {\n                    fragment = fragmentMap[selection.name.value];\n                    if (!fragment) {\n                        throw  true ? new invariant_esm[\"a\" /* InvariantError */](9) : undefined;\n                    }\n                }\n                var typeCondition = fragment.typeCondition && fragment.typeCondition.name.value;\n                var match = !typeCondition ||\n                    execContext.fragmentMatcher(rootValue, typeCondition, contextValue);\n                if (match) {\n                    var fragmentExecResult = _this.executeSelectionSet({\n                        selectionSet: fragment.selectionSet,\n                        rootValue: rootValue,\n                        execContext: execContext,\n                    });\n                    if (match === 'heuristic' && fragmentExecResult.missing) {\n                        fragmentExecResult = Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])({}, fragmentExecResult), { missing: fragmentExecResult.missing.map(function (info) {\n                                return Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])({}, info), { tolerable: true });\n                            }) });\n                    }\n                    objectsToMerge.push(handleMissing(fragmentExecResult));\n                }\n            }\n        });\n        finalResult.result = Object(bundle_esm[\"B\" /* mergeDeepArray */])(objectsToMerge);\n        if (this.freezeResults && \"production\" !== 'production') {\n            Object.freeze(finalResult.result);\n        }\n        return finalResult;\n    };\n    StoreReader.prototype.executeField = function (object, typename, field, execContext) {\n        var variables = execContext.variableValues, contextValue = execContext.contextValue;\n        var fieldName = field.name.value;\n        var args = Object(bundle_esm[\"b\" /* argumentsObjectFromField */])(field, variables);\n        var info = {\n            resultKey: Object(bundle_esm[\"E\" /* resultKeyNameFromField */])(field),\n            directives: Object(bundle_esm[\"i\" /* getDirectiveInfoFromField */])(field, variables),\n        };\n        var readStoreResult = readStoreResolver(object, typename, fieldName, args, contextValue, info);\n        if (Array.isArray(readStoreResult.result)) {\n            return this.combineExecResults(readStoreResult, this.executeSubSelectedArray({\n                field: field,\n                array: readStoreResult.result,\n                execContext: execContext,\n            }));\n        }\n        if (!field.selectionSet) {\n            assertSelectionSetForIdValue(field, readStoreResult.result);\n            if (this.freezeResults && \"production\" !== 'production') {\n                Object(bundle_esm[\"z\" /* maybeDeepFreeze */])(readStoreResult);\n            }\n            return readStoreResult;\n        }\n        if (readStoreResult.result == null) {\n            return readStoreResult;\n        }\n        return this.combineExecResults(readStoreResult, this.executeSelectionSet({\n            selectionSet: field.selectionSet,\n            rootValue: readStoreResult.result,\n            execContext: execContext,\n        }));\n    };\n    StoreReader.prototype.combineExecResults = function () {\n        var execResults = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            execResults[_i] = arguments[_i];\n        }\n        var missing;\n        execResults.forEach(function (execResult) {\n            if (execResult.missing) {\n                missing = missing || [];\n                missing.push.apply(missing, execResult.missing);\n            }\n        });\n        return {\n            result: execResults.pop().result,\n            missing: missing,\n        };\n    };\n    StoreReader.prototype.executeSubSelectedArray = function (_a) {\n        var _this = this;\n        var field = _a.field, array = _a.array, execContext = _a.execContext;\n        var missing;\n        function handleMissing(childResult) {\n            if (childResult.missing) {\n                missing = missing || [];\n                missing.push.apply(missing, childResult.missing);\n            }\n            return childResult.result;\n        }\n        array = array.map(function (item) {\n            if (item === null) {\n                return null;\n            }\n            if (Array.isArray(item)) {\n                return handleMissing(_this.executeSubSelectedArray({\n                    field: field,\n                    array: item,\n                    execContext: execContext,\n                }));\n            }\n            if (field.selectionSet) {\n                return handleMissing(_this.executeSelectionSet({\n                    selectionSet: field.selectionSet,\n                    rootValue: item,\n                    execContext: execContext,\n                }));\n            }\n            assertSelectionSetForIdValue(field, item);\n            return item;\n        });\n        if (this.freezeResults && \"production\" !== 'production') {\n            Object.freeze(array);\n        }\n        return { result: array, missing: missing };\n    };\n    return StoreReader;\n}());\nfunction assertSelectionSetForIdValue(field, value) {\n    if (!field.selectionSet && Object(bundle_esm[\"u\" /* isIdValue */])(value)) {\n        throw  true ? new invariant_esm[\"a\" /* InvariantError */](10) : undefined;\n    }\n}\nfunction defaultFragmentMatcher() {\n    return true;\n}\nfunction assertIdValue(idValue) {\n     true ? Object(invariant_esm[\"b\" /* invariant */])(Object(bundle_esm[\"u\" /* isIdValue */])(idValue), 11) : undefined;\n}\nfunction readStoreResolver(object, typename, fieldName, args, context, _a) {\n    var resultKey = _a.resultKey, directives = _a.directives;\n    var storeKeyName = fieldName;\n    if (args || directives) {\n        storeKeyName = Object(bundle_esm[\"p\" /* getStoreKeyName */])(storeKeyName, args, directives);\n    }\n    var fieldValue = void 0;\n    if (object) {\n        fieldValue = object[storeKeyName];\n        if (typeof fieldValue === 'undefined' &&\n            context.cacheRedirects &&\n            typeof typename === 'string') {\n            var type = context.cacheRedirects[typename];\n            if (type) {\n                var resolver = type[fieldName];\n                if (resolver) {\n                    fieldValue = resolver(object, args, {\n                        getCacheKey: function (storeObj) {\n                            var id = context.dataIdFromObject(storeObj);\n                            return id && Object(bundle_esm[\"H\" /* toIdValue */])({\n                                id: id,\n                                typename: storeObj.__typename,\n                            });\n                        },\n                    });\n                }\n            }\n        }\n    }\n    if (typeof fieldValue === 'undefined') {\n        return {\n            result: fieldValue,\n            missing: [{\n                    object: object,\n                    fieldName: storeKeyName,\n                    tolerable: false,\n                }],\n        };\n    }\n    if (Object(bundle_esm[\"w\" /* isJsonValue */])(fieldValue)) {\n        fieldValue = fieldValue.json;\n    }\n    return {\n        result: fieldValue,\n    };\n}\n\nvar ObjectCache = (function () {\n    function ObjectCache(data) {\n        if (data === void 0) { data = Object.create(null); }\n        this.data = data;\n    }\n    ObjectCache.prototype.toObject = function () {\n        return this.data;\n    };\n    ObjectCache.prototype.get = function (dataId) {\n        return this.data[dataId];\n    };\n    ObjectCache.prototype.set = function (dataId, value) {\n        this.data[dataId] = value;\n    };\n    ObjectCache.prototype.delete = function (dataId) {\n        this.data[dataId] = void 0;\n    };\n    ObjectCache.prototype.clear = function () {\n        this.data = Object.create(null);\n    };\n    ObjectCache.prototype.replace = function (newData) {\n        this.data = newData || Object.create(null);\n    };\n    return ObjectCache;\n}());\nfunction defaultNormalizedCacheFactory$1(seed) {\n    return new ObjectCache(seed);\n}\n\nvar bundle_esm_WriteError = (function (_super) {\n    Object(tslib_es6[\"c\" /* __extends */])(WriteError, _super);\n    function WriteError() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'WriteError';\n        return _this;\n    }\n    return WriteError;\n}(Error));\nfunction enhanceErrorWithDocument(error, document) {\n    var enhancedError = new bundle_esm_WriteError(\"Error writing result to store for query:\\n \" + JSON.stringify(document));\n    enhancedError.message += '\\n' + error.message;\n    enhancedError.stack = error.stack;\n    return enhancedError;\n}\nvar bundle_esm_StoreWriter = (function () {\n    function StoreWriter() {\n    }\n    StoreWriter.prototype.writeQueryToStore = function (_a) {\n        var query = _a.query, result = _a.result, _b = _a.store, store = _b === void 0 ? defaultNormalizedCacheFactory() : _b, variables = _a.variables, dataIdFromObject = _a.dataIdFromObject, fragmentMatcherFunction = _a.fragmentMatcherFunction;\n        return this.writeResultToStore({\n            dataId: 'ROOT_QUERY',\n            result: result,\n            document: query,\n            store: store,\n            variables: variables,\n            dataIdFromObject: dataIdFromObject,\n            fragmentMatcherFunction: fragmentMatcherFunction,\n        });\n    };\n    StoreWriter.prototype.writeResultToStore = function (_a) {\n        var dataId = _a.dataId, result = _a.result, document = _a.document, _b = _a.store, store = _b === void 0 ? defaultNormalizedCacheFactory() : _b, variables = _a.variables, dataIdFromObject = _a.dataIdFromObject, fragmentMatcherFunction = _a.fragmentMatcherFunction;\n        var operationDefinition = Object(bundle_esm[\"m\" /* getOperationDefinition */])(document);\n        try {\n            return this.writeSelectionSetToStore({\n                result: result,\n                dataId: dataId,\n                selectionSet: operationDefinition.selectionSet,\n                context: {\n                    store: store,\n                    processedData: {},\n                    variables: Object(bundle_esm[\"c\" /* assign */])({}, Object(bundle_esm[\"h\" /* getDefaultValues */])(operationDefinition), variables),\n                    dataIdFromObject: dataIdFromObject,\n                    fragmentMap: Object(bundle_esm[\"g\" /* createFragmentMap */])(Object(bundle_esm[\"j\" /* getFragmentDefinitions */])(document)),\n                    fragmentMatcherFunction: fragmentMatcherFunction,\n                },\n            });\n        }\n        catch (e) {\n            throw enhanceErrorWithDocument(e, document);\n        }\n    };\n    StoreWriter.prototype.writeSelectionSetToStore = function (_a) {\n        var _this = this;\n        var result = _a.result, dataId = _a.dataId, selectionSet = _a.selectionSet, context = _a.context;\n        var variables = context.variables, store = context.store, fragmentMap = context.fragmentMap;\n        selectionSet.selections.forEach(function (selection) {\n            var _a;\n            if (!Object(bundle_esm[\"F\" /* shouldInclude */])(selection, variables)) {\n                return;\n            }\n            if (Object(bundle_esm[\"t\" /* isField */])(selection)) {\n                var resultFieldKey = Object(bundle_esm[\"E\" /* resultKeyNameFromField */])(selection);\n                var value = result[resultFieldKey];\n                if (typeof value !== 'undefined') {\n                    _this.writeFieldToStore({\n                        dataId: dataId,\n                        value: value,\n                        field: selection,\n                        context: context,\n                    });\n                }\n                else {\n                    var isDefered = false;\n                    var isClient = false;\n                    if (selection.directives && selection.directives.length) {\n                        isDefered = selection.directives.some(function (directive) { return directive.name && directive.name.value === 'defer'; });\n                        isClient = selection.directives.some(function (directive) { return directive.name && directive.name.value === 'client'; });\n                    }\n                    if (!isDefered && !isClient && context.fragmentMatcherFunction) {\n                         true || false;\n                    }\n                }\n            }\n            else {\n                var fragment = void 0;\n                if (Object(bundle_esm[\"v\" /* isInlineFragment */])(selection)) {\n                    fragment = selection;\n                }\n                else {\n                    fragment = (fragmentMap || {})[selection.name.value];\n                     true ? Object(invariant_esm[\"b\" /* invariant */])(fragment, 3) : undefined;\n                }\n                var matches = true;\n                if (context.fragmentMatcherFunction && fragment.typeCondition) {\n                    var id = dataId || 'self';\n                    var idValue = Object(bundle_esm[\"H\" /* toIdValue */])({ id: id, typename: undefined });\n                    var fakeContext = {\n                        store: new ObjectCache((_a = {}, _a[id] = result, _a)),\n                        cacheRedirects: {},\n                    };\n                    var match = context.fragmentMatcherFunction(idValue, fragment.typeCondition.name.value, fakeContext);\n                    if (!Object(bundle_esm[\"x\" /* isProduction */])() && match === 'heuristic') {\n                         true || false;\n                    }\n                    matches = !!match;\n                }\n                if (matches) {\n                    _this.writeSelectionSetToStore({\n                        result: result,\n                        selectionSet: fragment.selectionSet,\n                        dataId: dataId,\n                        context: context,\n                    });\n                }\n            }\n        });\n        return store;\n    };\n    StoreWriter.prototype.writeFieldToStore = function (_a) {\n        var _b;\n        var field = _a.field, value = _a.value, dataId = _a.dataId, context = _a.context;\n        var variables = context.variables, dataIdFromObject = context.dataIdFromObject, store = context.store;\n        var storeValue;\n        var storeObject;\n        var storeFieldName = Object(bundle_esm[\"G\" /* storeKeyNameFromField */])(field, variables);\n        if (!field.selectionSet || value === null) {\n            storeValue =\n                value != null && typeof value === 'object'\n                    ?\n                        { type: 'json', json: value }\n                    :\n                        value;\n        }\n        else if (Array.isArray(value)) {\n            var generatedId = dataId + \".\" + storeFieldName;\n            storeValue = this.processArrayValue(value, generatedId, field.selectionSet, context);\n        }\n        else {\n            var valueDataId = dataId + \".\" + storeFieldName;\n            var generated = true;\n            if (!isGeneratedId(valueDataId)) {\n                valueDataId = '$' + valueDataId;\n            }\n            if (dataIdFromObject) {\n                var semanticId = dataIdFromObject(value);\n                 true ? Object(invariant_esm[\"b\" /* invariant */])(!semanticId || !isGeneratedId(semanticId), 4) : undefined;\n                if (semanticId ||\n                    (typeof semanticId === 'number' && semanticId === 0)) {\n                    valueDataId = semanticId;\n                    generated = false;\n                }\n            }\n            if (!isDataProcessed(valueDataId, field, context.processedData)) {\n                this.writeSelectionSetToStore({\n                    dataId: valueDataId,\n                    result: value,\n                    selectionSet: field.selectionSet,\n                    context: context,\n                });\n            }\n            var typename = value.__typename;\n            storeValue = Object(bundle_esm[\"H\" /* toIdValue */])({ id: valueDataId, typename: typename }, generated);\n            storeObject = store.get(dataId);\n            var escapedId = storeObject && storeObject[storeFieldName];\n            if (escapedId !== storeValue && Object(bundle_esm[\"u\" /* isIdValue */])(escapedId)) {\n                var hadTypename = escapedId.typename !== undefined;\n                var hasTypename = typename !== undefined;\n                var typenameChanged = hadTypename && hasTypename && escapedId.typename !== typename;\n                 true ? Object(invariant_esm[\"b\" /* invariant */])(!generated || escapedId.generated || typenameChanged, 5) : undefined;\n                 true ? Object(invariant_esm[\"b\" /* invariant */])(!hadTypename || hasTypename, 6) : undefined;\n                if (escapedId.generated) {\n                    if (typenameChanged) {\n                        if (!generated) {\n                            store.delete(escapedId.id);\n                        }\n                    }\n                    else {\n                        mergeWithGenerated(escapedId.id, storeValue.id, store);\n                    }\n                }\n            }\n        }\n        storeObject = store.get(dataId);\n        if (!storeObject || !Object(equality_esm[\"a\" /* equal */])(storeValue, storeObject[storeFieldName])) {\n            store.set(dataId, Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])({}, storeObject), (_b = {}, _b[storeFieldName] = storeValue, _b)));\n        }\n    };\n    StoreWriter.prototype.processArrayValue = function (value, generatedId, selectionSet, context) {\n        var _this = this;\n        return value.map(function (item, index) {\n            if (item === null) {\n                return null;\n            }\n            var itemDataId = generatedId + \".\" + index;\n            if (Array.isArray(item)) {\n                return _this.processArrayValue(item, itemDataId, selectionSet, context);\n            }\n            var generated = true;\n            if (context.dataIdFromObject) {\n                var semanticId = context.dataIdFromObject(item);\n                if (semanticId) {\n                    itemDataId = semanticId;\n                    generated = false;\n                }\n            }\n            if (!isDataProcessed(itemDataId, selectionSet, context.processedData)) {\n                _this.writeSelectionSetToStore({\n                    dataId: itemDataId,\n                    result: item,\n                    selectionSet: selectionSet,\n                    context: context,\n                });\n            }\n            return Object(bundle_esm[\"H\" /* toIdValue */])({ id: itemDataId, typename: item.__typename }, generated);\n        });\n    };\n    return StoreWriter;\n}());\nfunction isGeneratedId(id) {\n    return id[0] === '$';\n}\nfunction mergeWithGenerated(generatedKey, realKey, cache) {\n    if (generatedKey === realKey) {\n        return false;\n    }\n    var generated = cache.get(generatedKey);\n    var real = cache.get(realKey);\n    var madeChanges = false;\n    Object.keys(generated).forEach(function (key) {\n        var value = generated[key];\n        var realValue = real[key];\n        if (Object(bundle_esm[\"u\" /* isIdValue */])(value) &&\n            isGeneratedId(value.id) &&\n            Object(bundle_esm[\"u\" /* isIdValue */])(realValue) &&\n            !Object(equality_esm[\"a\" /* equal */])(value, realValue) &&\n            mergeWithGenerated(value.id, realValue.id, cache)) {\n            madeChanges = true;\n        }\n    });\n    cache.delete(generatedKey);\n    var newRealValue = Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])({}, generated), real);\n    if (Object(equality_esm[\"a\" /* equal */])(newRealValue, real)) {\n        return madeChanges;\n    }\n    cache.set(realKey, newRealValue);\n    return true;\n}\nfunction isDataProcessed(dataId, field, processedData) {\n    if (!processedData) {\n        return false;\n    }\n    if (processedData[dataId]) {\n        if (processedData[dataId].indexOf(field) >= 0) {\n            return true;\n        }\n        else {\n            processedData[dataId].push(field);\n        }\n    }\n    else {\n        processedData[dataId] = [field];\n    }\n    return false;\n}\n\nvar defaultConfig = {\n    fragmentMatcher: new HeuristicFragmentMatcher(),\n    dataIdFromObject: defaultDataIdFromObject,\n    addTypename: true,\n    resultCaching: true,\n    freezeResults: false,\n};\nfunction defaultDataIdFromObject(result) {\n    if (result.__typename) {\n        if (result.id !== undefined) {\n            return result.__typename + \":\" + result.id;\n        }\n        if (result._id !== undefined) {\n            return result.__typename + \":\" + result._id;\n        }\n    }\n    return null;\n}\nvar hasOwn$1 = Object.prototype.hasOwnProperty;\nvar bundle_esm_OptimisticCacheLayer = (function (_super) {\n    Object(tslib_es6[\"c\" /* __extends */])(OptimisticCacheLayer, _super);\n    function OptimisticCacheLayer(optimisticId, parent, transaction) {\n        var _this = _super.call(this, Object.create(null)) || this;\n        _this.optimisticId = optimisticId;\n        _this.parent = parent;\n        _this.transaction = transaction;\n        return _this;\n    }\n    OptimisticCacheLayer.prototype.toObject = function () {\n        return Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])({}, this.parent.toObject()), this.data);\n    };\n    OptimisticCacheLayer.prototype.get = function (dataId) {\n        return hasOwn$1.call(this.data, dataId)\n            ? this.data[dataId]\n            : this.parent.get(dataId);\n    };\n    return OptimisticCacheLayer;\n}(ObjectCache));\nvar bundle_esm_InMemoryCache = (function (_super) {\n    Object(tslib_es6[\"c\" /* __extends */])(InMemoryCache, _super);\n    function InMemoryCache(config) {\n        if (config === void 0) { config = {}; }\n        var _this = _super.call(this) || this;\n        _this.watches = new Set();\n        _this.typenameDocumentCache = new Map();\n        _this.cacheKeyRoot = new KeyTrie(bundle_esm[\"e\" /* canUseWeakMap */]);\n        _this.silenceBroadcast = false;\n        _this.config = Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])({}, defaultConfig), config);\n        if (_this.config.customResolvers) {\n             true || false;\n            _this.config.cacheRedirects = _this.config.customResolvers;\n        }\n        if (_this.config.cacheResolvers) {\n             true || false;\n            _this.config.cacheRedirects = _this.config.cacheResolvers;\n        }\n        _this.addTypename = !!_this.config.addTypename;\n        _this.data = _this.config.resultCaching\n            ? new bundle_esm_DepTrackingCache()\n            : new ObjectCache();\n        _this.optimisticData = _this.data;\n        _this.storeWriter = new bundle_esm_StoreWriter();\n        _this.storeReader = new bundle_esm_StoreReader({\n            cacheKeyRoot: _this.cacheKeyRoot,\n            freezeResults: config.freezeResults,\n        });\n        var cache = _this;\n        var maybeBroadcastWatch = cache.maybeBroadcastWatch;\n        _this.maybeBroadcastWatch = wrap(function (c) {\n            return maybeBroadcastWatch.call(_this, c);\n        }, {\n            makeCacheKey: function (c) {\n                if (c.optimistic) {\n                    return;\n                }\n                if (c.previousResult) {\n                    return;\n                }\n                if (cache.data instanceof bundle_esm_DepTrackingCache) {\n                    return cache.cacheKeyRoot.lookup(c.query, JSON.stringify(c.variables));\n                }\n            }\n        });\n        return _this;\n    }\n    InMemoryCache.prototype.restore = function (data) {\n        if (data)\n            this.data.replace(data);\n        return this;\n    };\n    InMemoryCache.prototype.extract = function (optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return (optimistic ? this.optimisticData : this.data).toObject();\n    };\n    InMemoryCache.prototype.read = function (options) {\n        if (typeof options.rootId === 'string' &&\n            typeof this.data.get(options.rootId) === 'undefined') {\n            return null;\n        }\n        var fragmentMatcher = this.config.fragmentMatcher;\n        var fragmentMatcherFunction = fragmentMatcher && fragmentMatcher.match;\n        return this.storeReader.readQueryFromStore({\n            store: options.optimistic ? this.optimisticData : this.data,\n            query: this.transformDocument(options.query),\n            variables: options.variables,\n            rootId: options.rootId,\n            fragmentMatcherFunction: fragmentMatcherFunction,\n            previousResult: options.previousResult,\n            config: this.config,\n        }) || null;\n    };\n    InMemoryCache.prototype.write = function (write) {\n        var fragmentMatcher = this.config.fragmentMatcher;\n        var fragmentMatcherFunction = fragmentMatcher && fragmentMatcher.match;\n        this.storeWriter.writeResultToStore({\n            dataId: write.dataId,\n            result: write.result,\n            variables: write.variables,\n            document: this.transformDocument(write.query),\n            store: this.data,\n            dataIdFromObject: this.config.dataIdFromObject,\n            fragmentMatcherFunction: fragmentMatcherFunction,\n        });\n        this.broadcastWatches();\n    };\n    InMemoryCache.prototype.diff = function (query) {\n        var fragmentMatcher = this.config.fragmentMatcher;\n        var fragmentMatcherFunction = fragmentMatcher && fragmentMatcher.match;\n        return this.storeReader.diffQueryAgainstStore({\n            store: query.optimistic ? this.optimisticData : this.data,\n            query: this.transformDocument(query.query),\n            variables: query.variables,\n            returnPartialData: query.returnPartialData,\n            previousResult: query.previousResult,\n            fragmentMatcherFunction: fragmentMatcherFunction,\n            config: this.config,\n        });\n    };\n    InMemoryCache.prototype.watch = function (watch) {\n        var _this = this;\n        this.watches.add(watch);\n        return function () {\n            _this.watches.delete(watch);\n        };\n    };\n    InMemoryCache.prototype.evict = function (query) {\n        throw  true ? new invariant_esm[\"a\" /* InvariantError */](7) : undefined;\n    };\n    InMemoryCache.prototype.reset = function () {\n        this.data.clear();\n        this.broadcastWatches();\n        return Promise.resolve();\n    };\n    InMemoryCache.prototype.removeOptimistic = function (idToRemove) {\n        var toReapply = [];\n        var removedCount = 0;\n        var layer = this.optimisticData;\n        while (layer instanceof bundle_esm_OptimisticCacheLayer) {\n            if (layer.optimisticId === idToRemove) {\n                ++removedCount;\n            }\n            else {\n                toReapply.push(layer);\n            }\n            layer = layer.parent;\n        }\n        if (removedCount > 0) {\n            this.optimisticData = layer;\n            while (toReapply.length > 0) {\n                var layer_1 = toReapply.pop();\n                this.performTransaction(layer_1.transaction, layer_1.optimisticId);\n            }\n            this.broadcastWatches();\n        }\n    };\n    InMemoryCache.prototype.performTransaction = function (transaction, optimisticId) {\n        var _a = this, data = _a.data, silenceBroadcast = _a.silenceBroadcast;\n        this.silenceBroadcast = true;\n        if (typeof optimisticId === 'string') {\n            this.data = this.optimisticData = new bundle_esm_OptimisticCacheLayer(optimisticId, this.optimisticData, transaction);\n        }\n        try {\n            transaction(this);\n        }\n        finally {\n            this.silenceBroadcast = silenceBroadcast;\n            this.data = data;\n        }\n        this.broadcastWatches();\n    };\n    InMemoryCache.prototype.recordOptimisticTransaction = function (transaction, id) {\n        return this.performTransaction(transaction, id);\n    };\n    InMemoryCache.prototype.transformDocument = function (document) {\n        if (this.addTypename) {\n            var result = this.typenameDocumentCache.get(document);\n            if (!result) {\n                result = Object(bundle_esm[\"a\" /* addTypenameToDocument */])(document);\n                this.typenameDocumentCache.set(document, result);\n                this.typenameDocumentCache.set(result, result);\n            }\n            return result;\n        }\n        return document;\n    };\n    InMemoryCache.prototype.broadcastWatches = function () {\n        var _this = this;\n        if (!this.silenceBroadcast) {\n            this.watches.forEach(function (c) { return _this.maybeBroadcastWatch(c); });\n        }\n    };\n    InMemoryCache.prototype.maybeBroadcastWatch = function (c) {\n        c.callback(this.diff({\n            query: c.query,\n            variables: c.variables,\n            previousResult: c.previousResult && c.previousResult(),\n            optimistic: c.optimistic,\n        }));\n    };\n    return InMemoryCache;\n}(bundle_esm_ApolloCache));\n\n\n//# sourceMappingURL=bundle.esm.js.map\n\n\n/***/ }),\n\n/***/ \"KITJ\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/* eslint-disable no-console */\nvar bindToConsole = function bindToConsole(consoleMethod, polyfill) {\n  return consoleMethod ? consoleMethod.bind(console) : polyfill;\n};\n\nvar logging = function () {\n  var prefix = '';\n\n  var consoleLog = function consoleLog() {\n    var _console;\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    (_console = console).log.apply(_console, [prefix].concat(args));\n  };\n\n  var consoleError = function consoleError() {\n    var _console2;\n\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    (_console2 = console).error.apply(_console2, [prefix].concat(args));\n  };\n\n  var consoleGroup = function consoleGroup() {\n    consoleLog.apply(undefined, arguments);\n    prefix += '> ';\n  };\n\n  var consoleGroupEnd = function consoleGroupEnd() {\n    prefix = prefix.slice(0, -2);\n  };\n\n  return {\n    log: consoleLog,\n    error: consoleError,\n    group: bindToConsole(console.group, consoleGroup),\n    groupCollapsed: bindToConsole(console.groupCollapsed, consoleGroup),\n    groupEnd: bindToConsole(console.groupEnd, consoleGroupEnd)\n  };\n}();\n\nexports.default = logging;\n\n/***/ }),\n\n/***/ \"f21Q\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar isomorphic_unfetch_1 = __importDefault(__webpack_require__(\"vcXL\"));\n\nvar createClient_1 = __importDefault(__webpack_require__(\"DIBC\"));\n\nvar isBrowser = true; // Polyfill fetch() on the server (used by apollo-client)\n\nif (!isBrowser) {\n  global.fetch = isomorphic_unfetch_1[\"default\"];\n}\n\nvar apolloClient;\n\nfunction initApollo(initialState, options) {\n  // Make sure to create a new client for every server-side request so that data\n  // isn't shared between connections (which would be bad)\n  if (!isBrowser) {\n    return createClient_1[\"default\"](initialState, options);\n  } // Reuse client on the client-side\n\n\n  if (!apolloClient) {\n    apolloClient = createClient_1[\"default\"](initialState, options);\n  }\n\n  return apolloClient;\n}\n\nexports[\"default\"] = initApollo;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"ntbh\")))\n\n/***/ }),\n\n/***/ \"keuH\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar formatMessage = function formatMessage(operationType, operation, ellapsed) {\n  var headerCss = ['color: gray; font-weight: lighter', // title\n  'color: ' + (operationType === 'query' ? '#03A9F4' : 'red') + ';', // operationType\n  'color: inherit;'];\n\n  var parts = ['%c apollo', '%c' + operationType, '%c' + operation.operationName];\n\n  if (operationType !== 'subscription') {\n    parts.push('%c(in ' + ellapsed + ' ms)');\n    headerCss.push('color: gray; font-weight: lighter;'); // time\n  }\n\n  return [parts.join(' ')].concat(headerCss);\n};\n\nexports.default = formatMessage;\n\n/***/ }),\n\n/***/ \"nbvT\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar apollo_cache_inmemory_1 = __webpack_require__(\"K/JX\");\n\nvar cache = new apollo_cache_inmemory_1.InMemoryCache({\n  dataIdFromObject: function dataIdFromObject(object) {\n    switch (object.__typename) {\n      case 'Post':\n        return object.id;\n      // use `id` as the primary key\n\n      case 'Project':\n        return object.id;\n\n      case 'Category':\n        return object.id;\n\n      case 'User':\n        return object.id;\n\n      default:\n        return apollo_cache_inmemory_1.defaultDataIdFromObject(object);\n      // fall back to default handling\n    }\n  }\n});\nexports[\"default\"] = cache;\n\n/***/ }),\n\n/***/ \"otUN\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _client = __webpack_require__(\"VX74\");\n\nvar _formatMessage = __webpack_require__(\"keuH\");\n\nvar _formatMessage2 = _interopRequireDefault(_formatMessage);\n\nvar _logging = __webpack_require__(\"KITJ\");\n\nvar _logging2 = _interopRequireDefault(_logging);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } } /* eslint-disable import/no-unresolved,import/extensions */\n\n\nvar loggerLink = new _client.ApolloLink(function (operation, forward) {\n  var startTime = new Date().getTime();\n\n  return forward(operation).map(function (result) {\n    var operationType = operation.query.definitions[0].operation;\n    var ellapsed = new Date().getTime() - startTime;\n\n    var group = (0, _formatMessage2.default)(operationType, operation, ellapsed);\n\n    _logging2.default.groupCollapsed.apply(_logging2.default, _toConsumableArray(group));\n\n    _logging2.default.log('INIT', operation);\n    _logging2.default.log('RESULT', result);\n\n    _logging2.default.groupEnd.apply(_logging2.default, _toConsumableArray(group));\n    return result;\n  });\n});\n\nexports.default = loggerLink;\n\n/***/ }),\n\n/***/ \"vcXL\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* globals self */var fetch=self.fetch.bind(self);module.exports=fetch;module.exports.default=module.exports;\n//# sourceMappingURL=index.js.map\n\n/***/ }),\n\n/***/ \"wsNJ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setContext\", function() { return setContext; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"mrSG\");\n/* harmony import */ var apollo_link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"1jQf\");\n/* harmony import */ var apollo_link__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"b0dj\");\n\n\n\nfunction setContext(setter) {\n    return new apollo_link__WEBPACK_IMPORTED_MODULE_1__[\"ApolloLink\"](function (operation, forward) {\n        var request = Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __rest */ \"e\"])(operation, []);\n        return new apollo_link__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"](function (observer) {\n            var handle;\n            Promise.resolve(request)\n                .then(function (req) { return setter(req, operation.getContext()); })\n                .then(operation.setContext)\n                .then(function () {\n                handle = forward(operation).subscribe({\n                    next: observer.next.bind(observer),\n                    error: observer.error.bind(observer),\n                    complete: observer.complete.bind(observer),\n                });\n            })\n                .catch(observer.error.bind(observer));\n            return function () {\n                if (handle)\n                    handle.unsubscribe();\n            };\n        });\n    });\n}\n\n\n//# sourceMappingURL=bundle.esm.js.map\n\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/bahra/bahra/web-master/dist/node_modules/apollo-link-error/lib/bundle.esm.js","/Users/bahra/bahra/web-master/dist/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/bahra/bahra/web-master/dist/src/services/apollo/withData.jsx","/Users/bahra/bahra/web-master/dist/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/bahra/bahra/web-master/dist/src/services/apollo/createClient.js","/Users/bahra/bahra/web-master/dist/node_modules/apollo-cache/lib/bundle.esm.js","/Users/bahra/bahra/web-master/dist/node_modules/optimism/node_modules/@wry/context/lib/context.esm.js","/Users/bahra/bahra/web-master/dist/node_modules/optimism/lib/bundle.esm.js","/Users/bahra/bahra/web-master/dist/node_modules/apollo-cache-inmemory/lib/bundle.esm.js","/Users/bahra/bahra/web-master/dist/node_modules/apollo-link-logger/es/logging.js","/Users/bahra/bahra/web-master/dist/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/bahra/bahra/web-master/dist/src/services/apollo/initApollo.js","/Users/bahra/bahra/web-master/dist/node_modules/apollo-link-logger/es/formatMessage.js","/Users/bahra/bahra/web-master/dist/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/bahra/bahra/web-master/dist/src/services/apollo/createCache.js","/Users/bahra/bahra/web-master/dist/node_modules/apollo-link-logger/es/index.js","/Users/bahra/bahra/web-master/dist/node_modules/next/dist/build/polyfills/fetch/index.js","/Users/bahra/bahra/web-master/dist/node_modules/apollo-link-context/lib/bundle.esm.js"],"names":[],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkC;AACmB;;AAErD;AACA,eAAe,sDAAU;AACzB,mBAAmB,2DAAU;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA,8BAA8B,0DAA0D;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA,IAAI,+DAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;;AAEkB;AAC9B;;;;;;;;;ACnFA,+CAAa;;AAEb,0BAA0B,mBAAO,CAAC,MAA4E;;AAE9G,wBAAwB,mBAAO,CAAC,MAAyF;;AAEzH,sBAAsB,mBAAO,CAAC,MAAuF;;AAErH,uBAAuB,mBAAO,CAAC,MAAmB;;AAElD,sBAAsB,mBAAO,CAAC,MAAuF;;AAErH,mBAAmB,mBAAO,CAAC,MAAoF;;AAE/G,gBAAgB,mBAAO,CAAC,MAAiF;;AAEzG,iCAAiC,mBAAO,CAAC,MAAkG;;AAE3I,sBAAsB,mBAAO,CAAC,MAAuF;;AAErH,0CAA0C,gCAAgC,oCAAoC,oDAAoD,8DAA8D,gEAAgE,EAAE,EAAE,gCAAgC,EAAE,aAAa;;AAEnV,gCAAgC,gBAAgB,sBAAsB,OAAO,uDAAuD,aAAa,uDAAuD,2CAA2C,EAAE,EAAE,EAAE,6CAA6C,2EAA2E,EAAE,OAAO,iDAAiD,kFAAkF,EAAE,EAAE,EAAE,EAAE,eAAe;;AAEphB,gCAAgC,6DAA6D,yCAAyC,8CAA8C,iCAAiC,mDAAmD,yDAAyD,EAAE,OAAO,uCAAuC,EAAE,iDAAiD,GAAG;;AAEva,sCAAsC,wEAAwE,0CAA0C,8CAA8C,MAAM,wEAAwE,GAAG,aAAa,EAAE,YAAY,cAAc,EAAE;;AAElU;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED,6BAA6B,mBAAO,CAAC,MAAY;;AAEjD,yBAAyB,mBAAO,CAAC,MAAO;;AAExC,qBAAqB,mBAAO,CAAC,MAAc;;AAE3C,6BAA6B,mBAAO,CAAC,MAAW;;AAEhD,mCAAmC,mBAAO,CAAC,MAAc;;AAEzD,qCAAqC,mBAAO,CAAC,MAA2B;;AAExE;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA,+BAA+B;AAC/B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,oFAAoF,iBAAiB;AACrG;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,qDAAqD;;AAErD;AACA,wBAAwB,KAAgC;AACxD;AACA;AACA;;AAEA;AACA;AACA,8HAA8H,eAAe;AAC7I;AACA;AACA;AACA,mBAAmB;;AAEnB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iFAAiF;AACjF;AACA,mBAAmB;;AAEnB;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;;AAET;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;;AAEL;AACA,GAAG;AACH;AACA,GAAG;AACH,E;;;;;;;;;AClOA,+CAAa;;AAEb,yBAAyB,mBAAO,CAAC,MAA0F;;AAE3H;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED,sBAAsB,mBAAO,CAAC,MAAe;;AAE7C,oBAAoB,mBAAO,CAAC,MAAa;;AAEzC,4BAA4B,mBAAO,CAAC,MAAqB;;AAEzD,0BAA0B,mBAAO,CAAC,MAAmB;;AAErD,yBAAyB,mBAAO,CAAC,MAAkB;;AAEnD,2CAA2C,mBAAO,CAAC,MAAoB;;AAEvE,oCAAoC,mBAAO,CAAC,MAAe;;AAE3D,+BAA+B,mBAAO,CAAC,MAAwB,GAAG,WAAW,gBAAgB;;;AAG7F,gBAAgB,mBAAO,CAAC,MAAsB;;AAE9C,kCAAkC,mBAAO,CAAC,MAA2B;;AAErE,eAAe,mBAAO,CAAC,MAAQ;;AAE/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,8DAA8D;AAC9D;AACA;AACA;AACA,qBAAqB,KAAgC;AACrD,GAAG;AACH;;AAEA,4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtJ4D;;AAE5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb,SAAS;AACT;AACA;;AAEA,IAAI,sBAAW;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,oBAAoB;AACxD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,oCAAoC,oBAAoB;AACxD;AACA,mBAAmB,sDAAwB;AAC3C;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,sDAAwB;AAC3C,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,6CAA6C,yBAAyB;AACtE;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,6BAA6B,yCAAyC;AACtE;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,CAAC,sBAAsB;;AAEO;AAC9B;;;;;;AC9KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,WAAW;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,IAAI;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,iCAAiC;AAChF,gDAAgD,kCAAkC;AAClF;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAE8G;AAC9G;;;ACtMoC;AACoD;;AAExF,2BAA2B;AAC3B,IAAI,gBAAK;AACT;AACA,6BAA6B,gBAAgB;AAC7C,iCAAiC,0BAA0B;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED,0BAA0B,IAAI;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,wCAAwC,EAAE;AACvF;AACA;AACA,6CAA6C,wCAAwC,EAAE;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,sCAAsC,EAAE;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,+BAA+B;AAC5D,oBAAoB,gBAAK,mDAAmD,wBAAwB,EAAE;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,0BAA0B;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,sBAAsB,EAAE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAE8C;AAC9C;;;;;;AC9d4C;AACD;AACma;AACra;AACgB;;AAEzD;AACA;AACA;AACA,SAAS,oCAAM;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,KAAqC,IAAI,KAAkW;AAC3Z,gBAAgB,KAAqC,IAAI,KAA4E;AACrI,gBAAgB,KAAqC,IAAI,KAC2E;AACpI;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,KAAqC,IAAI,KAI+C;AACpG;AACA;AACA;AACA;AACA,CAAC;AACD,IAAI,uCAA4B;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,KAAqC,GAAG,0CAAS,oBAAoB,SAA2F;AACxK;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,KAAqC,GAAG,0CAAS,kBAAkB,SAA6G;AACxL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yFAAyF,8BAA8B,EAAE;AACzH;AACA,SAAS;AACT;AACA;AACA;AACA,CAAC;;AAED;AACA,IAAI,2BAAgB;AACpB;AACA;AACA,8BAA8B,4BAA4B;AAC1D;AACA,sBAAsB,IAAI,oBAAoB,2BAA2B,EAAE;AAC3E;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,CAAC;AACD;AACA,eAAe,2BAAgB;AAC/B;;AAEA,IAAI,sBAAW;AACf;AACA;AACA,mCAAmC,gEAAgE,OAAO,CAAC,mCAAa;AACxH;AACA;AACA,iCAAiC,IAAI;AACrC;AACA,SAAS;AACT;AACA;AACA,kDAAkD,2BAAgB;AAClE;AACA;AACA;AACA,SAAS;AACT,mCAAmC,IAAI;AACvC;AACA,SAAS;AACT;AACA;AACA,8DAA8D,2BAAgB;AAC9E;AACA;AACA;AACA,SAAS;AACT,uCAAuC,IAAI;AAC3C;AACA,SAAS;AACT;AACA;AACA,8DAA8D,2BAAgB;AAC9E;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,0CAA0C,qCAAQ,CAAC,qCAAQ,GAAG,aAAa,2BAA2B;AACtG;AACA;AACA;AACA,8BAA8B,gDAAkB;AAChD,oBAAoB,oCAAM,GAAG,EAAE,8CAAgB;AAC/C;AACA;AACA;AACA,mEAAmE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,sBAAsB,KAAqC,OAAO,uCAAc,MAAM,SAAqH;AAC3M,aAAa;AACb;AACA;AACA,gBAAgB,qCAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,+CAAiB;AAC9C,wBAAwB,oDAAsB;AAC9C,0BAA0B,+CAAiB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,2CAAa;AAC9B;AACA;AACA,gBAAgB,qCAAO;AACvB;AACA;AACA,gDAAgD;AAChD,2BAA2B,oDAAsB;AACjD;AACA;AACA;AACA;AACA;AACA,oBAAoB,8CAAgB;AACpC;AACA;AACA;AACA;AACA;AACA,8BAA8B,KAAqC,OAAO,uCAAc,MAAM,SAA+D;AAC7J;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,6CAA6C,qCAAQ,CAAC,qCAAQ,GAAG,wBAAwB;AACzF,uCAAuC,qCAAQ,CAAC,qCAAQ,GAAG,UAAU,kBAAkB;AACvF,6BAA6B,GAAG;AAChC;AACA;AACA;AACA;AACA,SAAS;AACT,6BAA6B,4CAAc;AAC3C,kCAAkC,YAAoB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,sDAAwB;AAC3C;AACA,uBAAuB,oDAAsB;AAC7C,wBAAwB,uDAAyB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,sCAAsC,YAAoB;AAC1D,gBAAgB,6CAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,SAAS;AACT,kCAAkC,YAAoB;AACtD;AACA;AACA,gBAAgB;AAChB;AACA;AACA,CAAC;AACD;AACA,+BAA+B,uCAAS;AACxC,cAAc,KAAqC,OAAO,uCAAc,OAAO,SAAkI;AACjN;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,KAAqC,GAAG,0CAAS,CAAC,uCAAS,iBAAiB,SAAgQ;AAChV;AACA;AACA;AACA;AACA;AACA,uBAAuB,6CAAe;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,uCAAS;AAClD;AACA;AACA,6BAA6B;AAC7B,yBAAyB;AACzB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,QAAQ,yCAAW;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8BAA8B,4BAA4B;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA,IAAI,qBAAU;AACd,IAAI,sCAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,4BAA4B,qBAAU;AACtC;AACA;AACA;AACA;AACA,IAAI,sBAAW;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,kCAAkC,oDAAsB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC,+BAA+B,oCAAM,GAAG,EAAE,8CAAgB;AAC1D;AACA,iCAAiC,+CAAiB,CAAC,oDAAsB;AACzE;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,2CAAa;AAC9B;AACA;AACA,gBAAgB,qCAAO;AACvB,qCAAqC,oDAAsB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,oFAAoF,2DAA2D,EAAE;AACjJ,mFAAmF,4DAA4D,EAAE;AACjJ;AACA;AACA,wBAAwB,KAAqC,IAAI,KAA8G;AAC/K;AACA;AACA;AACA;AACA;AACA,oBAAoB,8CAAgB;AACpC;AACA;AACA;AACA,iDAAiD;AACjD,oBAAoB,KAAqC,GAAG,0CAAS,gBAAgB,SAAsE;AAC3J;AACA;AACA;AACA;AACA,kCAAkC,uCAAS,EAAE,8BAA8B;AAC3E;AACA,uDAAuD;AACvD,0CAA0C;AAC1C;AACA;AACA,yBAAyB,0CAAY;AACrC,wBAAwB,KAAqC,IAAI,KAAiE;AAClI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,mDAAqB;AAClD;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,KAAqC,GAAG,0CAAS,iDAAiD,SAA6H;AAC/O;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,yBAAyB,uCAAS,EAAE,sCAAsC;AAC1E;AACA;AACA,4CAA4C,uCAAS;AACrD;AACA;AACA;AACA,gBAAgB,KAAqC,GAAG,0CAAS,4DAA4D,SAA2S;AACxa,gBAAgB,KAAqC,GAAG,0CAAS,mCAAmC,SAA0U;AAC9a;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,qCAAO;AACpC,8BAA8B,qCAAQ,CAAC,qCAAQ,GAAG,wBAAwB;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,mBAAmB,uCAAS,EAAE,4CAA4C;AAC1E,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,uCAAS;AACrB;AACA,YAAY,uCAAS;AACrB,aAAa,qCAAO;AACpB;AACA;AACA;AACA,KAAK;AACL;AACA,uBAAuB,qCAAQ,CAAC,qCAAQ,GAAG;AAC3C,QAAQ,qCAAO;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,+BAAoB;AACxB,IAAI,sCAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,qCAAQ,CAAC,qCAAQ,GAAG;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,IAAI,wBAAa;AACjB,IAAI,sCAAS;AACb;AACA,gCAAgC,aAAa;AAC7C;AACA;AACA;AACA,iCAAiC,OAAO,CAAC,mCAAa;AACtD;AACA,uBAAuB,qCAAQ,CAAC,qCAAQ,GAAG;AAC3C;AACA,YAAY,KAAqC,IAAI,KAAqK;AAC1N;AACA;AACA;AACA,YAAY,KAAqC,IAAI,KAAmK;AACxN;AACA;AACA;AACA;AACA,kBAAkB,2BAAgB;AAClC;AACA;AACA,gCAAgC,sBAAW;AAC3C,gCAAgC,sBAAW;AAC3C;AACA;AACA,SAAS;AACT;AACA;AACA,oCAAoC,IAAI;AACxC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,2BAAgB;AAC1D;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,oBAAoB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,KAAqC,OAAO,uCAAc,MAAM,SAAmE;AACjJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAAoB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,+BAAoB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,mDAAqB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,qCAAqC,EAAE;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC,CAAC,sBAAW;;AAE2P;AACxQ;;;;;;;;;ACv9Ba;;AAEb;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,mEAAmE,aAAa;AAChF;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,sEAAsE,eAAe;AACrF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED,0B;;;;;;;;ACnDA,8CAAa;;AAEb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED,2CAA2C,mBAAO,CAAC,MAAoB;;AAEvE,qCAAqC,mBAAO,CAAC,MAAgB;;AAE7D,qBAAqB;;AAErB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;AACA;;AAEA,gC;;;;;;;;;ACvCa;;AAEb;AACA;AACA,CAAC;AACD;AACA,gCAAgC;AAChC,kEAAkE;AAClE,kBAAkB;;AAElB;;AAEA;AACA;AACA,gCAAgC,sBAAsB,GAAG;AACzD;;AAEA;AACA;;AAEA,gC;;;;;;;;ACpBa;;AAEb;AACA;AACA,CAAC;;AAED,8BAA8B,mBAAO,CAAC,MAAuB;;AAE7D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,2B;;;;;;;;AC9Ba;;AAEb;AACA;AACA,CAAC;;AAED,cAAc,mBAAO,CAAC,MAAgB;;AAEtC,qBAAqB,mBAAO,CAAC,MAAiB;;AAE9C;;AAEA,eAAe,mBAAO,CAAC,MAAW;;AAElC;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,kCAAkC,0BAA0B,0CAA0C,gBAAgB,OAAO,kBAAkB,EAAE,aAAa,EAAE,OAAO,wBAAwB,EAAE,EAAE;;;AAGnM;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH,CAAC;;AAED,6B;;;;;;;;ACxCa,kDAAkD,qBAAqB;AACpF,iC;;;;;;;;ACDA;AAAA;AAAA;AAAA;AAAA;AAA+B;AACsB;;AAErD;AACA,eAAe,sDAAU;AACzB,sBAAsB,4DAAM;AAC5B,mBAAmB,2DAAU;AAC7B;AACA;AACA,sCAAsC,4CAA4C,EAAE;AACpF;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;;AAEsB;AACtB","file":"x","sourcesContent":["import { __extends } from 'tslib';\nimport { ApolloLink, Observable } from 'apollo-link';\n\nfunction onError(errorHandler) {\n    return new ApolloLink(function (operation, forward) {\n        return new Observable(function (observer) {\n            var sub;\n            var retriedSub;\n            var retriedResult;\n            try {\n                sub = forward(operation).subscribe({\n                    next: function (result) {\n                        if (result.errors) {\n                            retriedResult = errorHandler({\n                                graphQLErrors: result.errors,\n                                response: result,\n                                operation: operation,\n                                forward: forward,\n                            });\n                            if (retriedResult) {\n                                retriedSub = retriedResult.subscribe({\n                                    next: observer.next.bind(observer),\n                                    error: observer.error.bind(observer),\n                                    complete: observer.complete.bind(observer),\n                                });\n                                return;\n                            }\n                        }\n                        observer.next(result);\n                    },\n                    error: function (networkError) {\n                        retriedResult = errorHandler({\n                            operation: operation,\n                            networkError: networkError,\n                            graphQLErrors: networkError &&\n                                networkError.result &&\n                                networkError.result.errors,\n                            forward: forward,\n                        });\n                        if (retriedResult) {\n                            retriedSub = retriedResult.subscribe({\n                                next: observer.next.bind(observer),\n                                error: observer.error.bind(observer),\n                                complete: observer.complete.bind(observer),\n                            });\n                            return;\n                        }\n                        observer.error(networkError);\n                    },\n                    complete: function () {\n                        if (!retriedResult) {\n                            observer.complete.bind(observer)();\n                        }\n                    },\n                });\n            }\n            catch (e) {\n                errorHandler({ networkError: e, operation: operation, forward: forward });\n                observer.error(e);\n            }\n            return function () {\n                if (sub)\n                    sub.unsubscribe();\n                if (retriedSub)\n                    sub.unsubscribe();\n            };\n        });\n    });\n}\nvar ErrorLink = (function (_super) {\n    __extends(ErrorLink, _super);\n    function ErrorLink(errorHandler) {\n        var _this = _super.call(this) || this;\n        _this.link = onError(errorHandler);\n        return _this;\n    }\n    ErrorLink.prototype.request = function (operation, forward) {\n        return this.link.request(operation, forward);\n    };\n    return ErrorLink;\n}(ApolloLink));\n\nexport { ErrorLink, onError };\n//# sourceMappingURL=bundle.esm.js.map\n","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/bahra/bahra/web-master/dist/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/Users/bahra/bahra/web-master/dist/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _defineProperty = require(\"/Users/bahra/bahra/web-master/dist/node_modules/@babel/runtime/helpers/defineProperty\");\n\nvar _reactJsxRuntime = require(\"react/jsx-runtime\");\n\nvar _classCallCheck = require(\"/Users/bahra/bahra/web-master/dist/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/bahra/bahra/web-master/dist/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/Users/bahra/bahra/web-master/dist/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"/Users/bahra/bahra/web-master/dist/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/Users/bahra/bahra/web-master/dist/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar PropTypes = __importStar(require(\"prop-types\"));\n\nvar React = __importStar(require(\"react\"));\n\nvar react_apollo_1 = require(\"react-apollo\");\n\nvar head_1 = __importDefault(require(\"next/head\"));\n\nvar initApollo_1 = __importDefault(require(\"./initApollo\"));\n\nvar parseCookies_1 = __importDefault(require(\"../../utilty/parseCookies\"));\n\nexports[\"default\"] = function (App) {\n  // let disableStylesGeneration = true;\n  var _a;\n\n  App.displayName = 'BAHRA App';\n  return _a = /*#__PURE__*/function (_React$Component) {\n    _inherits(WithData, _React$Component);\n\n    var _super = _createSuper(WithData);\n\n    function WithData(props) {\n      var _this;\n\n      _classCallCheck(this, WithData);\n\n      _this = _super.call(this, props);\n      _this.pageContext = null; // `getDataFromTree` renders the component first, the client is passed off as a property.\n      // After that rendering is done using Next's normal rendering pipeline\n\n      _this.apolloClient = initApollo_1[\"default\"](props.apolloState, {\n        getToken: function getToken() {\n          var WP_refreshToken = parseCookies_1[\"default\"]().refreshToken;\n          var WP_authToken = parseCookies_1[\"default\"]().authToken;\n          return {\n            WP_authToken: WP_authToken,\n            WP_refreshToken: WP_refreshToken\n          };\n        }\n      });\n      return _this;\n    }\n\n    _createClass(WithData, [{\n      key: \"render\",\n      value: function render() {\n        return /*#__PURE__*/_reactJsxRuntime.jsx(App, _objectSpread(_objectSpread({}, this.props), {}, {\n          apolloClient: this.apolloClient\n        }));\n      }\n    }], [{\n      key: \"getInitialProps\",\n      value: function () {\n        var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ctx) {\n          var Component, router, req, res, apollo, appProps, apolloState;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  Component = ctx.Component, router = ctx.router, req = ctx.req, res = ctx.res;\n                  apollo = initApollo_1[\"default\"]({}, {\n                    getToken: function getToken() {\n                      var refreshToken = parseCookies_1[\"default\"](req).refreshToken;\n                      console.log('authToken', refreshToken);\n                      var authToken = parseCookies_1[\"default\"](req).authToken;\n                      console.log('authToken', authToken);\n                      return {\n                        authToken: authToken,\n                        refreshToken: refreshToken\n                      };\n                    }\n                  });\n                  ctx.apolloClient = apollo;\n                  appProps = {};\n\n                  if (!App.getInitialProps) {\n                    _context.next = 8;\n                    break;\n                  }\n\n                  _context.next = 7;\n                  return App.getInitialProps(ctx);\n\n                case 7:\n                  appProps = _context.sent;\n\n                case 8:\n                  if (!(res && res.finished)) {\n                    _context.next = 10;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", {});\n\n                case 10:\n                  if (!(typeof 'process' !== 'undefined' && process && process.versions && Boolean(process.versions.node))) {\n                    _context.next = 20;\n                    break;\n                  }\n\n                  _context.prev = 11;\n                  _context.next = 14;\n                  return react_apollo_1.getDataFromTree( /*#__PURE__*/_reactJsxRuntime.jsx(App, _objectSpread(_objectSpread({}, appProps), {}, {\n                    Component: Component,\n                    router: router,\n                    apolloClient: apollo\n                  })));\n\n                case 14:\n                  _context.next = 19;\n                  break;\n\n                case 16:\n                  _context.prev = 16;\n                  _context.t0 = _context[\"catch\"](11);\n                  // Prevent Apollo Client GraphQL errors from crashing SSR.\n                  // Handle them in components via the data.error prop:\n                  // https://www.apollographql.com/docs/react/api/react-apollo.html#graphql-query-data-error\n                  // tslint:disable-next-line:no-console\n                  console.error('Error while running `getDataFromTree`', _context.t0);\n\n                case 19:\n                  // getDataFromTree does not call componentWillUnmount\n                  // head side effect therefore need to be cleared manually\n                  head_1[\"default\"].rewind();\n\n                case 20:\n                  // Extract query data from the Apollo's store\n                  apolloState = apollo.cache.extract();\n                  return _context.abrupt(\"return\", Object.assign(Object.assign({}, appProps), {\n                    apolloState: apolloState\n                  }));\n\n                case 22:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[11, 16]]);\n        }));\n\n        function getInitialProps(_x) {\n          return _getInitialProps.apply(this, arguments);\n        }\n\n        return getInitialProps;\n      }()\n    }]);\n\n    return WithData;\n  }(React.Component), _a.displayName = \"WithData(\".concat(App.displayName, \")\"), _a.propTypes = {\n    apolloState: PropTypes.object.isRequired\n  }, _a;\n};","\"use strict\"; // tslint:disable: no-console\n\nvar _toConsumableArray = require(\"/Users/bahra/bahra/web-master/dist/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar apollo_client_1 = require(\"apollo-client\");\n\nvar apollo_link_1 = require(\"apollo-link\");\n\nvar apollo_link_context_1 = require(\"apollo-link-context\");\n\nvar apollo_link_error_1 = require(\"apollo-link-error\");\n\nvar apollo_link_http_1 = require(\"apollo-link-http\");\n\nvar apollo_link_logger_1 = __importDefault(require(\"apollo-link-logger\"));\n\nvar createCache_1 = __importDefault(require(\"./createCache\"));\n\nvar config_1 = __importDefault(require(\"../../../config/config\")); //import { WebSocketLink } from \"@apollo/client/link/ws\";\n\n\nvar helpers_1 = require(\"../../utilty/helpers\");\n\nvar parseCookies_1 = __importStar(require(\"../../utilty/parseCookies\"));\n\nvar lodash_1 = require(\"lodash\");\n\nvar link = apollo_link_1.from([].concat(_toConsumableArray(config_1[\"default\"].DEV ? [apollo_link_logger_1[\"default\"]] : []), [// Create Error linking\napollo_link_error_1.onError(function (_ref) {\n  var graphQLErrors = _ref.graphQLErrors,\n      networkError = _ref.networkError;\n\n  if (graphQLErrors) {\n    graphQLErrors.map(function (_ref2) {\n      var message = _ref2.message,\n          locations = _ref2.locations,\n          path = _ref2.path;\n      console.error(\"\\n\\n[GraphQL error]: \".concat(message, \" \\n location: \").concat(JSON.stringify(locations, null, 2), \" \\n path: \").concat(path, \"\\n\\n\"));\n    });\n  }\n\n  if (networkError) {\n    console.error(\"[Network error]: \".concat(JSON.stringify(networkError, null, 2)));\n  }\n}), new apollo_link_http_1.HttpLink({\n  credentials: 'same-origin',\n  useGETForQueries: false,\n  uri: 'https://bahra.eu/admin/index.php?graphql'\n})]));\n\nvar authLink = function authLink(getToken) {\n  return apollo_link_context_1.setContext(function (_, _ref3) {\n    var headers = _ref3.headers;\n    var WP_tokens = getToken();\n    var refreshToken = parseCookies_1[\"default\"]().refreshToken;\n    var IsTokenExpired = helpers_1.checkTokenIsExpired(WP_tokens.WP_authToken);\n    var token = WP_tokens.WP_authToken;\n\n    if (!lodash_1.isEmpty(token)) {\n      return {\n        headers: headers\n      };\n    }\n\n    if (!IsTokenExpired) {\n      return createHeaders(token, headers);\n    } else {\n      try {\n        parseCookies_1.removeMapInCookie(['authToken'], token);\n        var refreshedAccessToken = WP_tokens.WP_refreshTokens.token;\n\n        if (!refreshedAccessToken) {\n          helpers_1.checkTokenIsExpired(refreshToken);\n        } else {\n          throw new Error();\n        }\n\n        return createHeaders(refreshedAccessToken, headers);\n      } catch (error) {\n        return {\n          headers: headers\n        };\n      }\n    }\n  });\n};\n\nfunction createHeaders(token, oldHeaders) {\n  return {\n    headers: Object.assign({\n      Authorization: \"Bearer \".concat(token)\n    }, oldHeaders)\n  };\n}\n\nvar create = function create(initialState, _ref4) {\n  var getToken = _ref4.getToken;\n  return new apollo_client_1.ApolloClient({\n    cache: createCache_1[\"default\"].restore(initialState || {}),\n    connectToDevTools: true,\n    link: authLink(getToken).concat(link),\n    queryDeduplication: true,\n    ssrMode: Boolean(typeof 'process' !== 'undefined' && process && process.versions && Boolean(process.versions.node))\n  });\n};\n\nexports[\"default\"] = create;","import { getFragmentQueryDocument } from 'apollo-utilities';\n\nfunction queryFromPojo(obj) {\n    var op = {\n        kind: 'OperationDefinition',\n        operation: 'query',\n        name: {\n            kind: 'Name',\n            value: 'GeneratedClientQuery',\n        },\n        selectionSet: selectionSetFromObj(obj),\n    };\n    var out = {\n        kind: 'Document',\n        definitions: [op],\n    };\n    return out;\n}\nfunction fragmentFromPojo(obj, typename) {\n    var frag = {\n        kind: 'FragmentDefinition',\n        typeCondition: {\n            kind: 'NamedType',\n            name: {\n                kind: 'Name',\n                value: typename || '__FakeType',\n            },\n        },\n        name: {\n            kind: 'Name',\n            value: 'GeneratedClientQuery',\n        },\n        selectionSet: selectionSetFromObj(obj),\n    };\n    var out = {\n        kind: 'Document',\n        definitions: [frag],\n    };\n    return out;\n}\nfunction selectionSetFromObj(obj) {\n    if (typeof obj === 'number' ||\n        typeof obj === 'boolean' ||\n        typeof obj === 'string' ||\n        typeof obj === 'undefined' ||\n        obj === null) {\n        return null;\n    }\n    if (Array.isArray(obj)) {\n        return selectionSetFromObj(obj[0]);\n    }\n    var selections = [];\n    Object.keys(obj).forEach(function (key) {\n        var nestedSelSet = selectionSetFromObj(obj[key]);\n        var field = {\n            kind: 'Field',\n            name: {\n                kind: 'Name',\n                value: key,\n            },\n            selectionSet: nestedSelSet || undefined,\n        };\n        selections.push(field);\n    });\n    var selectionSet = {\n        kind: 'SelectionSet',\n        selections: selections,\n    };\n    return selectionSet;\n}\nvar justTypenameQuery = {\n    kind: 'Document',\n    definitions: [\n        {\n            kind: 'OperationDefinition',\n            operation: 'query',\n            name: null,\n            variableDefinitions: null,\n            directives: [],\n            selectionSet: {\n                kind: 'SelectionSet',\n                selections: [\n                    {\n                        kind: 'Field',\n                        alias: null,\n                        name: {\n                            kind: 'Name',\n                            value: '__typename',\n                        },\n                        arguments: [],\n                        directives: [],\n                        selectionSet: null,\n                    },\n                ],\n            },\n        },\n    ],\n};\n\nvar ApolloCache = (function () {\n    function ApolloCache() {\n    }\n    ApolloCache.prototype.transformDocument = function (document) {\n        return document;\n    };\n    ApolloCache.prototype.transformForLink = function (document) {\n        return document;\n    };\n    ApolloCache.prototype.readQuery = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return this.read({\n            query: options.query,\n            variables: options.variables,\n            optimistic: optimistic,\n        });\n    };\n    ApolloCache.prototype.readFragment = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return this.read({\n            query: getFragmentQueryDocument(options.fragment, options.fragmentName),\n            variables: options.variables,\n            rootId: options.id,\n            optimistic: optimistic,\n        });\n    };\n    ApolloCache.prototype.writeQuery = function (options) {\n        this.write({\n            dataId: 'ROOT_QUERY',\n            result: options.data,\n            query: options.query,\n            variables: options.variables,\n        });\n    };\n    ApolloCache.prototype.writeFragment = function (options) {\n        this.write({\n            dataId: options.id,\n            result: options.data,\n            variables: options.variables,\n            query: getFragmentQueryDocument(options.fragment, options.fragmentName),\n        });\n    };\n    ApolloCache.prototype.writeData = function (_a) {\n        var id = _a.id, data = _a.data;\n        if (typeof id !== 'undefined') {\n            var typenameResult = null;\n            try {\n                typenameResult = this.read({\n                    rootId: id,\n                    optimistic: false,\n                    query: justTypenameQuery,\n                });\n            }\n            catch (e) {\n            }\n            var __typename = (typenameResult && typenameResult.__typename) || '__ClientData';\n            var dataToWrite = Object.assign({ __typename: __typename }, data);\n            this.writeFragment({\n                id: id,\n                fragment: fragmentFromPojo(dataToWrite, __typename),\n                data: dataToWrite,\n            });\n        }\n        else {\n            this.writeQuery({ query: queryFromPojo(data), data: data });\n        }\n    };\n    return ApolloCache;\n}());\n\nvar Cache;\n(function (Cache) {\n})(Cache || (Cache = {}));\n\nexport { ApolloCache, Cache };\n//# sourceMappingURL=bundle.esm.js.map\n","// This currentContext variable will only be used if the makeSlotClass\r\n// function is called, which happens only if this is the first copy of the\r\n// @wry/context package to be imported.\r\nvar currentContext = null;\r\n// This unique internal object is used to denote the absence of a value\r\n// for a given Slot, and is never exposed to outside code.\r\nvar MISSING_VALUE = {};\r\nvar idCounter = 1;\r\n// Although we can't do anything about the cost of duplicated code from\r\n// accidentally bundling multiple copies of the @wry/context package, we can\r\n// avoid creating the Slot class more than once using makeSlotClass.\r\nvar makeSlotClass = function () { return /** @class */ (function () {\r\n    function Slot() {\r\n        // If you have a Slot object, you can find out its slot.id, but you cannot\r\n        // guess the slot.id of a Slot you don't have access to, thanks to the\r\n        // randomized suffix.\r\n        this.id = [\r\n            \"slot\",\r\n            idCounter++,\r\n            Date.now(),\r\n            Math.random().toString(36).slice(2),\r\n        ].join(\":\");\r\n    }\r\n    Slot.prototype.hasValue = function () {\r\n        for (var context_1 = currentContext; context_1; context_1 = context_1.parent) {\r\n            // We use the Slot object iself as a key to its value, which means the\r\n            // value cannot be obtained without a reference to the Slot object.\r\n            if (this.id in context_1.slots) {\r\n                var value = context_1.slots[this.id];\r\n                if (value === MISSING_VALUE)\r\n                    break;\r\n                if (context_1 !== currentContext) {\r\n                    // Cache the value in currentContext.slots so the next lookup will\r\n                    // be faster. This caching is safe because the tree of contexts and\r\n                    // the values of the slots are logically immutable.\r\n                    currentContext.slots[this.id] = value;\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n        if (currentContext) {\r\n            // If a value was not found for this Slot, it's never going to be found\r\n            // no matter how many times we look it up, so we might as well cache\r\n            // the absence of the value, too.\r\n            currentContext.slots[this.id] = MISSING_VALUE;\r\n        }\r\n        return false;\r\n    };\r\n    Slot.prototype.getValue = function () {\r\n        if (this.hasValue()) {\r\n            return currentContext.slots[this.id];\r\n        }\r\n    };\r\n    Slot.prototype.withValue = function (value, callback, \r\n    // Given the prevalence of arrow functions, specifying arguments is likely\r\n    // to be much more common than specifying `this`, hence this ordering:\r\n    args, thisArg) {\r\n        var _a;\r\n        var slots = (_a = {\r\n                __proto__: null\r\n            },\r\n            _a[this.id] = value,\r\n            _a);\r\n        var parent = currentContext;\r\n        currentContext = { parent: parent, slots: slots };\r\n        try {\r\n            // Function.prototype.apply allows the arguments array argument to be\r\n            // omitted or undefined, so args! is fine here.\r\n            return callback.apply(thisArg, args);\r\n        }\r\n        finally {\r\n            currentContext = parent;\r\n        }\r\n    };\r\n    // Capture the current context and wrap a callback function so that it\r\n    // reestablishes the captured context when called.\r\n    Slot.bind = function (callback) {\r\n        var context = currentContext;\r\n        return function () {\r\n            var saved = currentContext;\r\n            try {\r\n                currentContext = context;\r\n                return callback.apply(this, arguments);\r\n            }\r\n            finally {\r\n                currentContext = saved;\r\n            }\r\n        };\r\n    };\r\n    // Immediately run a callback function without any captured context.\r\n    Slot.noContext = function (callback, \r\n    // Given the prevalence of arrow functions, specifying arguments is likely\r\n    // to be much more common than specifying `this`, hence this ordering:\r\n    args, thisArg) {\r\n        if (currentContext) {\r\n            var saved = currentContext;\r\n            try {\r\n                currentContext = null;\r\n                // Function.prototype.apply allows the arguments array argument to be\r\n                // omitted or undefined, so args! is fine here.\r\n                return callback.apply(thisArg, args);\r\n            }\r\n            finally {\r\n                currentContext = saved;\r\n            }\r\n        }\r\n        else {\r\n            return callback.apply(thisArg, args);\r\n        }\r\n    };\r\n    return Slot;\r\n}()); };\r\n// We store a single global implementation of the Slot class as a permanent\r\n// non-enumerable symbol property of the Array constructor. This obfuscation\r\n// does nothing to prevent access to the Slot class, but at least it ensures\r\n// the implementation (i.e. currentContext) cannot be tampered with, and all\r\n// copies of the @wry/context package (hopefully just one) will share the\r\n// same Slot implementation. Since the first copy of the @wry/context package\r\n// to be imported wins, this technique imposes a very high cost for any\r\n// future breaking changes to the Slot class.\r\nvar globalKey = \"@wry/context:Slot\";\r\nvar host = Array;\r\nvar Slot = host[globalKey] || function () {\r\n    var Slot = makeSlotClass();\r\n    try {\r\n        Object.defineProperty(host, globalKey, {\r\n            value: host[globalKey] = Slot,\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: false,\r\n        });\r\n    }\r\n    finally {\r\n        return Slot;\r\n    }\r\n}();\n\nvar bind = Slot.bind, noContext = Slot.noContext;\r\nfunction setTimeoutWithContext(callback, delay) {\r\n    return setTimeout(bind(callback), delay);\r\n}\r\n// Turn any generator function into an async function (using yield instead\r\n// of await), with context automatically preserved across yields.\r\nfunction asyncFromGen(genFn) {\r\n    return function () {\r\n        var gen = genFn.apply(this, arguments);\r\n        var boundNext = bind(gen.next);\r\n        var boundThrow = bind(gen.throw);\r\n        return new Promise(function (resolve, reject) {\r\n            function invoke(method, argument) {\r\n                try {\r\n                    var result = method.call(gen, argument);\r\n                }\r\n                catch (error) {\r\n                    return reject(error);\r\n                }\r\n                var next = result.done ? resolve : invokeNext;\r\n                if (isPromiseLike(result.value)) {\r\n                    result.value.then(next, result.done ? reject : invokeThrow);\r\n                }\r\n                else {\r\n                    next(result.value);\r\n                }\r\n            }\r\n            var invokeNext = function (value) { return invoke(boundNext, value); };\r\n            var invokeThrow = function (error) { return invoke(boundThrow, error); };\r\n            invokeNext();\r\n        });\r\n    };\r\n}\r\nfunction isPromiseLike(value) {\r\n    return value && typeof value.then === \"function\";\r\n}\r\n// If you use the fibers npm package to implement coroutines in Node.js,\r\n// you should call this function at least once to ensure context management\r\n// remains coherent across any yields.\r\nvar wrappedFibers = [];\r\nfunction wrapYieldingFiberMethods(Fiber) {\r\n    // There can be only one implementation of Fiber per process, so this array\r\n    // should never grow longer than one element.\r\n    if (wrappedFibers.indexOf(Fiber) < 0) {\r\n        var wrap = function (obj, method) {\r\n            var fn = obj[method];\r\n            obj[method] = function () {\r\n                return noContext(fn, arguments, this);\r\n            };\r\n        };\r\n        // These methods can yield, according to\r\n        // https://github.com/laverdet/node-fibers/blob/ddebed9b8ae3883e57f822e2108e6943e5c8d2a8/fibers.js#L97-L100\r\n        wrap(Fiber, \"yield\");\r\n        wrap(Fiber.prototype, \"run\");\r\n        wrap(Fiber.prototype, \"throwInto\");\r\n        wrappedFibers.push(Fiber);\r\n    }\r\n    return Fiber;\r\n}\n\nexport { Slot, asyncFromGen, bind, noContext, setTimeoutWithContext as setTimeout, wrapYieldingFiberMethods };\n//# sourceMappingURL=context.esm.js.map\n","import { Slot } from '@wry/context';\nexport { asyncFromGen, bind as bindContext, noContext, setTimeout } from '@wry/context';\n\nfunction defaultDispose() { }\r\nvar Cache = /** @class */ (function () {\r\n    function Cache(max, dispose) {\r\n        if (max === void 0) { max = Infinity; }\r\n        if (dispose === void 0) { dispose = defaultDispose; }\r\n        this.max = max;\r\n        this.dispose = dispose;\r\n        this.map = new Map();\r\n        this.newest = null;\r\n        this.oldest = null;\r\n    }\r\n    Cache.prototype.has = function (key) {\r\n        return this.map.has(key);\r\n    };\r\n    Cache.prototype.get = function (key) {\r\n        var entry = this.getEntry(key);\r\n        return entry && entry.value;\r\n    };\r\n    Cache.prototype.getEntry = function (key) {\r\n        var entry = this.map.get(key);\r\n        if (entry && entry !== this.newest) {\r\n            var older = entry.older, newer = entry.newer;\r\n            if (newer) {\r\n                newer.older = older;\r\n            }\r\n            if (older) {\r\n                older.newer = newer;\r\n            }\r\n            entry.older = this.newest;\r\n            entry.older.newer = entry;\r\n            entry.newer = null;\r\n            this.newest = entry;\r\n            if (entry === this.oldest) {\r\n                this.oldest = newer;\r\n            }\r\n        }\r\n        return entry;\r\n    };\r\n    Cache.prototype.set = function (key, value) {\r\n        var entry = this.getEntry(key);\r\n        if (entry) {\r\n            return entry.value = value;\r\n        }\r\n        entry = {\r\n            key: key,\r\n            value: value,\r\n            newer: null,\r\n            older: this.newest\r\n        };\r\n        if (this.newest) {\r\n            this.newest.newer = entry;\r\n        }\r\n        this.newest = entry;\r\n        this.oldest = this.oldest || entry;\r\n        this.map.set(key, entry);\r\n        return entry.value;\r\n    };\r\n    Cache.prototype.clean = function () {\r\n        while (this.oldest && this.map.size > this.max) {\r\n            this.delete(this.oldest.key);\r\n        }\r\n    };\r\n    Cache.prototype.delete = function (key) {\r\n        var entry = this.map.get(key);\r\n        if (entry) {\r\n            if (entry === this.newest) {\r\n                this.newest = entry.older;\r\n            }\r\n            if (entry === this.oldest) {\r\n                this.oldest = entry.newer;\r\n            }\r\n            if (entry.newer) {\r\n                entry.newer.older = entry.older;\r\n            }\r\n            if (entry.older) {\r\n                entry.older.newer = entry.newer;\r\n            }\r\n            this.map.delete(key);\r\n            this.dispose(entry.value, key);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return Cache;\r\n}());\n\nvar parentEntrySlot = new Slot();\n\nvar reusableEmptyArray = [];\r\nvar emptySetPool = [];\r\nvar POOL_TARGET_SIZE = 100;\r\n// Since this package might be used browsers, we should avoid using the\r\n// Node built-in assert module.\r\nfunction assert(condition, optionalMessage) {\r\n    if (!condition) {\r\n        throw new Error(optionalMessage || \"assertion failure\");\r\n    }\r\n}\r\nfunction valueIs(a, b) {\r\n    var len = a.length;\r\n    return (\r\n    // Unknown values are not equal to each other.\r\n    len > 0 &&\r\n        // Both values must be ordinary (or both exceptional) to be equal.\r\n        len === b.length &&\r\n        // The underlying value or exception must be the same.\r\n        a[len - 1] === b[len - 1]);\r\n}\r\nfunction valueGet(value) {\r\n    switch (value.length) {\r\n        case 0: throw new Error(\"unknown value\");\r\n        case 1: return value[0];\r\n        case 2: throw value[1];\r\n    }\r\n}\r\nfunction valueCopy(value) {\r\n    return value.slice(0);\r\n}\r\nvar Entry = /** @class */ (function () {\r\n    function Entry(fn, args) {\r\n        this.fn = fn;\r\n        this.args = args;\r\n        this.parents = new Set();\r\n        this.childValues = new Map();\r\n        // When this Entry has children that are dirty, this property becomes\r\n        // a Set containing other Entry objects, borrowed from emptySetPool.\r\n        // When the set becomes empty, it gets recycled back to emptySetPool.\r\n        this.dirtyChildren = null;\r\n        this.dirty = true;\r\n        this.recomputing = false;\r\n        this.value = [];\r\n        ++Entry.count;\r\n    }\r\n    // This is the most important method of the Entry API, because it\r\n    // determines whether the cached this.value can be returned immediately,\r\n    // or must be recomputed. The overall performance of the caching system\r\n    // depends on the truth of the following observations: (1) this.dirty is\r\n    // usually false, (2) this.dirtyChildren is usually null/empty, and thus\r\n    // (3) valueGet(this.value) is usually returned without recomputation.\r\n    Entry.prototype.recompute = function () {\r\n        assert(!this.recomputing, \"already recomputing\");\r\n        if (!rememberParent(this) && maybeReportOrphan(this)) {\r\n            // The recipient of the entry.reportOrphan callback decided to dispose\r\n            // of this orphan entry by calling entry.dispose(), so we don't need to\r\n            // (and should not) proceed with the recomputation.\r\n            return void 0;\r\n        }\r\n        return mightBeDirty(this)\r\n            ? reallyRecompute(this)\r\n            : valueGet(this.value);\r\n    };\r\n    Entry.prototype.setDirty = function () {\r\n        if (this.dirty)\r\n            return;\r\n        this.dirty = true;\r\n        this.value.length = 0;\r\n        reportDirty(this);\r\n        // We can go ahead and unsubscribe here, since any further dirty\r\n        // notifications we receive will be redundant, and unsubscribing may\r\n        // free up some resources, e.g. file watchers.\r\n        maybeUnsubscribe(this);\r\n    };\r\n    Entry.prototype.dispose = function () {\r\n        var _this = this;\r\n        forgetChildren(this).forEach(maybeReportOrphan);\r\n        maybeUnsubscribe(this);\r\n        // Because this entry has been kicked out of the cache (in index.js),\r\n        // we've lost the ability to find out if/when this entry becomes dirty,\r\n        // whether that happens through a subscription, because of a direct call\r\n        // to entry.setDirty(), or because one of its children becomes dirty.\r\n        // Because of this loss of future information, we have to assume the\r\n        // worst (that this entry might have become dirty very soon), so we must\r\n        // immediately mark this entry's parents as dirty. Normally we could\r\n        // just call entry.setDirty() rather than calling parent.setDirty() for\r\n        // each parent, but that would leave this entry in parent.childValues\r\n        // and parent.dirtyChildren, which would prevent the child from being\r\n        // truly forgotten.\r\n        this.parents.forEach(function (parent) {\r\n            parent.setDirty();\r\n            forgetChild(parent, _this);\r\n        });\r\n    };\r\n    Entry.count = 0;\r\n    return Entry;\r\n}());\r\nfunction rememberParent(child) {\r\n    var parent = parentEntrySlot.getValue();\r\n    if (parent) {\r\n        child.parents.add(parent);\r\n        if (!parent.childValues.has(child)) {\r\n            parent.childValues.set(child, []);\r\n        }\r\n        if (mightBeDirty(child)) {\r\n            reportDirtyChild(parent, child);\r\n        }\r\n        else {\r\n            reportCleanChild(parent, child);\r\n        }\r\n        return parent;\r\n    }\r\n}\r\nfunction reallyRecompute(entry) {\r\n    // Since this recomputation is likely to re-remember some of this\r\n    // entry's children, we forget our children here but do not call\r\n    // maybeReportOrphan until after the recomputation finishes.\r\n    var originalChildren = forgetChildren(entry);\r\n    // Set entry as the parent entry while calling recomputeNewValue(entry).\r\n    parentEntrySlot.withValue(entry, recomputeNewValue, [entry]);\r\n    if (maybeSubscribe(entry)) {\r\n        // If we successfully recomputed entry.value and did not fail to\r\n        // (re)subscribe, then this Entry is no longer explicitly dirty.\r\n        setClean(entry);\r\n    }\r\n    // Now that we've had a chance to re-remember any children that were\r\n    // involved in the recomputation, we can safely report any orphan\r\n    // children that remain.\r\n    originalChildren.forEach(maybeReportOrphan);\r\n    return valueGet(entry.value);\r\n}\r\nfunction recomputeNewValue(entry) {\r\n    entry.recomputing = true;\r\n    // Set entry.value as unknown.\r\n    entry.value.length = 0;\r\n    try {\r\n        // If entry.fn succeeds, entry.value will become a normal Value.\r\n        entry.value[0] = entry.fn.apply(null, entry.args);\r\n    }\r\n    catch (e) {\r\n        // If entry.fn throws, entry.value will become exceptional.\r\n        entry.value[1] = e;\r\n    }\r\n    // Either way, this line is always reached.\r\n    entry.recomputing = false;\r\n}\r\nfunction mightBeDirty(entry) {\r\n    return entry.dirty || !!(entry.dirtyChildren && entry.dirtyChildren.size);\r\n}\r\nfunction setClean(entry) {\r\n    entry.dirty = false;\r\n    if (mightBeDirty(entry)) {\r\n        // This Entry may still have dirty children, in which case we can't\r\n        // let our parents know we're clean just yet.\r\n        return;\r\n    }\r\n    reportClean(entry);\r\n}\r\nfunction reportDirty(child) {\r\n    child.parents.forEach(function (parent) { return reportDirtyChild(parent, child); });\r\n}\r\nfunction reportClean(child) {\r\n    child.parents.forEach(function (parent) { return reportCleanChild(parent, child); });\r\n}\r\n// Let a parent Entry know that one of its children may be dirty.\r\nfunction reportDirtyChild(parent, child) {\r\n    // Must have called rememberParent(child) before calling\r\n    // reportDirtyChild(parent, child).\r\n    assert(parent.childValues.has(child));\r\n    assert(mightBeDirty(child));\r\n    if (!parent.dirtyChildren) {\r\n        parent.dirtyChildren = emptySetPool.pop() || new Set;\r\n    }\r\n    else if (parent.dirtyChildren.has(child)) {\r\n        // If we already know this child is dirty, then we must have already\r\n        // informed our own parents that we are dirty, so we can terminate\r\n        // the recursion early.\r\n        return;\r\n    }\r\n    parent.dirtyChildren.add(child);\r\n    reportDirty(parent);\r\n}\r\n// Let a parent Entry know that one of its children is no longer dirty.\r\nfunction reportCleanChild(parent, child) {\r\n    // Must have called rememberChild(child) before calling\r\n    // reportCleanChild(parent, child).\r\n    assert(parent.childValues.has(child));\r\n    assert(!mightBeDirty(child));\r\n    var childValue = parent.childValues.get(child);\r\n    if (childValue.length === 0) {\r\n        parent.childValues.set(child, valueCopy(child.value));\r\n    }\r\n    else if (!valueIs(childValue, child.value)) {\r\n        parent.setDirty();\r\n    }\r\n    removeDirtyChild(parent, child);\r\n    if (mightBeDirty(parent)) {\r\n        return;\r\n    }\r\n    reportClean(parent);\r\n}\r\nfunction removeDirtyChild(parent, child) {\r\n    var dc = parent.dirtyChildren;\r\n    if (dc) {\r\n        dc.delete(child);\r\n        if (dc.size === 0) {\r\n            if (emptySetPool.length < POOL_TARGET_SIZE) {\r\n                emptySetPool.push(dc);\r\n            }\r\n            parent.dirtyChildren = null;\r\n        }\r\n    }\r\n}\r\n// If the given entry has a reportOrphan method, and no remaining parents,\r\n// call entry.reportOrphan and return true iff it returns true. The\r\n// reportOrphan function should return true to indicate entry.dispose()\r\n// has been called, and the entry has been removed from any other caches\r\n// (see index.js for the only current example).\r\nfunction maybeReportOrphan(entry) {\r\n    return entry.parents.size === 0 &&\r\n        typeof entry.reportOrphan === \"function\" &&\r\n        entry.reportOrphan() === true;\r\n}\r\n// Removes all children from this entry and returns an array of the\r\n// removed children.\r\nfunction forgetChildren(parent) {\r\n    var children = reusableEmptyArray;\r\n    if (parent.childValues.size > 0) {\r\n        children = [];\r\n        parent.childValues.forEach(function (_value, child) {\r\n            forgetChild(parent, child);\r\n            children.push(child);\r\n        });\r\n    }\r\n    // After we forget all our children, this.dirtyChildren must be empty\r\n    // and therefore must have been reset to null.\r\n    assert(parent.dirtyChildren === null);\r\n    return children;\r\n}\r\nfunction forgetChild(parent, child) {\r\n    child.parents.delete(parent);\r\n    parent.childValues.delete(child);\r\n    removeDirtyChild(parent, child);\r\n}\r\nfunction maybeSubscribe(entry) {\r\n    if (typeof entry.subscribe === \"function\") {\r\n        try {\r\n            maybeUnsubscribe(entry); // Prevent double subscriptions.\r\n            entry.unsubscribe = entry.subscribe.apply(null, entry.args);\r\n        }\r\n        catch (e) {\r\n            // If this Entry has a subscribe function and it threw an exception\r\n            // (or an unsubscribe function it previously returned now throws),\r\n            // return false to indicate that we were not able to subscribe (or\r\n            // unsubscribe), and this Entry should remain dirty.\r\n            entry.setDirty();\r\n            return false;\r\n        }\r\n    }\r\n    // Returning true indicates either that there was no entry.subscribe\r\n    // function or that it succeeded.\r\n    return true;\r\n}\r\nfunction maybeUnsubscribe(entry) {\r\n    var unsubscribe = entry.unsubscribe;\r\n    if (typeof unsubscribe === \"function\") {\r\n        entry.unsubscribe = void 0;\r\n        unsubscribe();\r\n    }\r\n}\n\n// A trie data structure that holds object keys weakly, yet can also hold\r\n// non-object keys, unlike the native `WeakMap`.\r\nvar KeyTrie = /** @class */ (function () {\r\n    function KeyTrie(weakness) {\r\n        this.weakness = weakness;\r\n    }\r\n    KeyTrie.prototype.lookup = function () {\r\n        var array = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            array[_i] = arguments[_i];\r\n        }\r\n        return this.lookupArray(array);\r\n    };\r\n    KeyTrie.prototype.lookupArray = function (array) {\r\n        var node = this;\r\n        array.forEach(function (key) { return node = node.getChildTrie(key); });\r\n        return node.data || (node.data = Object.create(null));\r\n    };\r\n    KeyTrie.prototype.getChildTrie = function (key) {\r\n        var map = this.weakness && isObjRef(key)\r\n            ? this.weak || (this.weak = new WeakMap())\r\n            : this.strong || (this.strong = new Map());\r\n        var child = map.get(key);\r\n        if (!child)\r\n            map.set(key, child = new KeyTrie(this.weakness));\r\n        return child;\r\n    };\r\n    return KeyTrie;\r\n}());\r\nfunction isObjRef(value) {\r\n    switch (typeof value) {\r\n        case \"object\":\r\n            if (value === null)\r\n                break;\r\n        // Fall through to return true...\r\n        case \"function\":\r\n            return true;\r\n    }\r\n    return false;\r\n}\n\n// The defaultMakeCacheKey function is remarkably powerful, because it gives\r\n// a unique object for any shallow-identical list of arguments. If you need\r\n// to implement a custom makeCacheKey function, you may find it helpful to\r\n// delegate the final work to defaultMakeCacheKey, which is why we export it\r\n// here. However, you may want to avoid defaultMakeCacheKey if your runtime\r\n// does not support WeakMap, or you have the ability to return a string key.\r\n// In those cases, just write your own custom makeCacheKey functions.\r\nvar keyTrie = new KeyTrie(typeof WeakMap === \"function\");\r\nfunction defaultMakeCacheKey() {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    return keyTrie.lookupArray(args);\r\n}\r\nvar caches = new Set();\r\nfunction wrap(originalFunction, options) {\r\n    if (options === void 0) { options = Object.create(null); }\r\n    var cache = new Cache(options.max || Math.pow(2, 16), function (entry) { return entry.dispose(); });\r\n    var disposable = !!options.disposable;\r\n    var makeCacheKey = options.makeCacheKey || defaultMakeCacheKey;\r\n    function optimistic() {\r\n        if (disposable && !parentEntrySlot.hasValue()) {\r\n            // If there's no current parent computation, and this wrapped\r\n            // function is disposable (meaning we don't care about entry.value,\r\n            // just dependency tracking), then we can short-cut everything else\r\n            // in this function, because entry.recompute() is going to recycle\r\n            // the entry object without recomputing anything, anyway.\r\n            return void 0;\r\n        }\r\n        var key = makeCacheKey.apply(null, arguments);\r\n        if (key === void 0) {\r\n            return originalFunction.apply(null, arguments);\r\n        }\r\n        var args = Array.prototype.slice.call(arguments);\r\n        var entry = cache.get(key);\r\n        if (entry) {\r\n            entry.args = args;\r\n        }\r\n        else {\r\n            entry = new Entry(originalFunction, args);\r\n            cache.set(key, entry);\r\n            entry.subscribe = options.subscribe;\r\n            if (disposable) {\r\n                entry.reportOrphan = function () { return cache.delete(key); };\r\n            }\r\n        }\r\n        var value = entry.recompute();\r\n        // Move this entry to the front of the least-recently used queue,\r\n        // since we just finished computing its value.\r\n        cache.set(key, entry);\r\n        caches.add(cache);\r\n        // Clean up any excess entries in the cache, but only if there is no\r\n        // active parent entry, meaning we're not in the middle of a larger\r\n        // computation that might be flummoxed by the cleaning.\r\n        if (!parentEntrySlot.hasValue()) {\r\n            caches.forEach(function (cache) { return cache.clean(); });\r\n            caches.clear();\r\n        }\r\n        // If options.disposable is truthy, the caller of wrap is telling us\r\n        // they don't care about the result of entry.recompute(), so we should\r\n        // avoid returning the value, so it won't be accidentally used.\r\n        return disposable ? void 0 : value;\r\n    }\r\n    optimistic.dirty = function () {\r\n        var key = makeCacheKey.apply(null, arguments);\r\n        var child = key !== void 0 && cache.get(key);\r\n        if (child) {\r\n            child.setDirty();\r\n        }\r\n    };\r\n    return optimistic;\r\n}\n\nexport { KeyTrie, defaultMakeCacheKey, wrap };\n//# sourceMappingURL=bundle.esm.js.map\n","import { __assign, __extends } from 'tslib';\nimport { ApolloCache } from 'apollo-cache';\nimport { isTest, getQueryDefinition, assign, getDefaultValues, isEqual, getMainDefinition, getFragmentDefinitions, createFragmentMap, shouldInclude, isField, resultKeyNameFromField, isInlineFragment, mergeDeepArray, argumentsObjectFromField, getDirectiveInfoFromField, maybeDeepFreeze, isIdValue, getStoreKeyName, toIdValue, isJsonValue, canUseWeakMap, getOperationDefinition, isProduction, storeKeyNameFromField, addTypenameToDocument } from 'apollo-utilities';\nimport { wrap, KeyTrie } from 'optimism';\nimport { invariant, InvariantError } from 'ts-invariant';\n\nvar haveWarned = false;\nfunction shouldWarn() {\n    var answer = !haveWarned;\n    if (!isTest()) {\n        haveWarned = true;\n    }\n    return answer;\n}\nvar HeuristicFragmentMatcher = (function () {\n    function HeuristicFragmentMatcher() {\n    }\n    HeuristicFragmentMatcher.prototype.ensureReady = function () {\n        return Promise.resolve();\n    };\n    HeuristicFragmentMatcher.prototype.canBypassInit = function () {\n        return true;\n    };\n    HeuristicFragmentMatcher.prototype.match = function (idValue, typeCondition, context) {\n        var obj = context.store.get(idValue.id);\n        var isRootQuery = idValue.id === 'ROOT_QUERY';\n        if (!obj) {\n            return isRootQuery;\n        }\n        var _a = obj.__typename, __typename = _a === void 0 ? isRootQuery && 'Query' : _a;\n        if (!__typename) {\n            if (shouldWarn()) {\n                process.env.NODE_ENV === \"production\" || invariant.warn(\"You're using fragments in your queries, but either don't have the addTypename:\\n  true option set in Apollo Client, or you are trying to write a fragment to the store without the __typename.\\n   Please turn on the addTypename option and include __typename when writing fragments so that Apollo Client\\n   can accurately match fragments.\");\n                process.env.NODE_ENV === \"production\" || invariant.warn('Could not find __typename on Fragment ', typeCondition, obj);\n                process.env.NODE_ENV === \"production\" || invariant.warn(\"DEPRECATION WARNING: using fragments without __typename is unsupported behavior \" +\n                    \"and will be removed in future versions of Apollo client. You should fix this and set addTypename to true now.\");\n            }\n            return 'heuristic';\n        }\n        if (__typename === typeCondition) {\n            return true;\n        }\n        if (shouldWarn()) {\n            process.env.NODE_ENV === \"production\" || invariant.error('You are using the simple (heuristic) fragment matcher, but your ' +\n                'queries contain union or interface types. Apollo Client will not be ' +\n                'able to accurately map fragments. To make this error go away, use ' +\n                'the `IntrospectionFragmentMatcher` as described in the docs: ' +\n                'https://www.apollographql.com/docs/react/advanced/fragments.html#fragment-matcher');\n        }\n        return 'heuristic';\n    };\n    return HeuristicFragmentMatcher;\n}());\nvar IntrospectionFragmentMatcher = (function () {\n    function IntrospectionFragmentMatcher(options) {\n        if (options && options.introspectionQueryResultData) {\n            this.possibleTypesMap = this.parseIntrospectionResult(options.introspectionQueryResultData);\n            this.isReady = true;\n        }\n        else {\n            this.isReady = false;\n        }\n        this.match = this.match.bind(this);\n    }\n    IntrospectionFragmentMatcher.prototype.match = function (idValue, typeCondition, context) {\n        process.env.NODE_ENV === \"production\" ? invariant(this.isReady, 1) : invariant(this.isReady, 'FragmentMatcher.match() was called before FragmentMatcher.init()');\n        var obj = context.store.get(idValue.id);\n        var isRootQuery = idValue.id === 'ROOT_QUERY';\n        if (!obj) {\n            return isRootQuery;\n        }\n        var _a = obj.__typename, __typename = _a === void 0 ? isRootQuery && 'Query' : _a;\n        process.env.NODE_ENV === \"production\" ? invariant(__typename, 2) : invariant(__typename, \"Cannot match fragment because __typename property is missing: \" + JSON.stringify(obj));\n        if (__typename === typeCondition) {\n            return true;\n        }\n        var implementingTypes = this.possibleTypesMap[typeCondition];\n        if (__typename &&\n            implementingTypes &&\n            implementingTypes.indexOf(__typename) > -1) {\n            return true;\n        }\n        return false;\n    };\n    IntrospectionFragmentMatcher.prototype.parseIntrospectionResult = function (introspectionResultData) {\n        var typeMap = {};\n        introspectionResultData.__schema.types.forEach(function (type) {\n            if (type.kind === 'UNION' || type.kind === 'INTERFACE') {\n                typeMap[type.name] = type.possibleTypes.map(function (implementingType) { return implementingType.name; });\n            }\n        });\n        return typeMap;\n    };\n    return IntrospectionFragmentMatcher;\n}());\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar DepTrackingCache = (function () {\n    function DepTrackingCache(data) {\n        var _this = this;\n        if (data === void 0) { data = Object.create(null); }\n        this.data = data;\n        this.depend = wrap(function (dataId) { return _this.data[dataId]; }, {\n            disposable: true,\n            makeCacheKey: function (dataId) {\n                return dataId;\n            },\n        });\n    }\n    DepTrackingCache.prototype.toObject = function () {\n        return this.data;\n    };\n    DepTrackingCache.prototype.get = function (dataId) {\n        this.depend(dataId);\n        return this.data[dataId];\n    };\n    DepTrackingCache.prototype.set = function (dataId, value) {\n        var oldValue = this.data[dataId];\n        if (value !== oldValue) {\n            this.data[dataId] = value;\n            this.depend.dirty(dataId);\n        }\n    };\n    DepTrackingCache.prototype.delete = function (dataId) {\n        if (hasOwn.call(this.data, dataId)) {\n            delete this.data[dataId];\n            this.depend.dirty(dataId);\n        }\n    };\n    DepTrackingCache.prototype.clear = function () {\n        this.replace(null);\n    };\n    DepTrackingCache.prototype.replace = function (newData) {\n        var _this = this;\n        if (newData) {\n            Object.keys(newData).forEach(function (dataId) {\n                _this.set(dataId, newData[dataId]);\n            });\n            Object.keys(this.data).forEach(function (dataId) {\n                if (!hasOwn.call(newData, dataId)) {\n                    _this.delete(dataId);\n                }\n            });\n        }\n        else {\n            Object.keys(this.data).forEach(function (dataId) {\n                _this.delete(dataId);\n            });\n        }\n    };\n    return DepTrackingCache;\n}());\nfunction defaultNormalizedCacheFactory(seed) {\n    return new DepTrackingCache(seed);\n}\n\nvar StoreReader = (function () {\n    function StoreReader(_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, _c = _b.cacheKeyRoot, cacheKeyRoot = _c === void 0 ? new KeyTrie(canUseWeakMap) : _c, _d = _b.freezeResults, freezeResults = _d === void 0 ? false : _d;\n        var _e = this, executeStoreQuery = _e.executeStoreQuery, executeSelectionSet = _e.executeSelectionSet, executeSubSelectedArray = _e.executeSubSelectedArray;\n        this.freezeResults = freezeResults;\n        this.executeStoreQuery = wrap(function (options) {\n            return executeStoreQuery.call(_this, options);\n        }, {\n            makeCacheKey: function (_a) {\n                var query = _a.query, rootValue = _a.rootValue, contextValue = _a.contextValue, variableValues = _a.variableValues, fragmentMatcher = _a.fragmentMatcher;\n                if (contextValue.store instanceof DepTrackingCache) {\n                    return cacheKeyRoot.lookup(contextValue.store, query, fragmentMatcher, JSON.stringify(variableValues), rootValue.id);\n                }\n            }\n        });\n        this.executeSelectionSet = wrap(function (options) {\n            return executeSelectionSet.call(_this, options);\n        }, {\n            makeCacheKey: function (_a) {\n                var selectionSet = _a.selectionSet, rootValue = _a.rootValue, execContext = _a.execContext;\n                if (execContext.contextValue.store instanceof DepTrackingCache) {\n                    return cacheKeyRoot.lookup(execContext.contextValue.store, selectionSet, execContext.fragmentMatcher, JSON.stringify(execContext.variableValues), rootValue.id);\n                }\n            }\n        });\n        this.executeSubSelectedArray = wrap(function (options) {\n            return executeSubSelectedArray.call(_this, options);\n        }, {\n            makeCacheKey: function (_a) {\n                var field = _a.field, array = _a.array, execContext = _a.execContext;\n                if (execContext.contextValue.store instanceof DepTrackingCache) {\n                    return cacheKeyRoot.lookup(execContext.contextValue.store, field, array, JSON.stringify(execContext.variableValues));\n                }\n            }\n        });\n    }\n    StoreReader.prototype.readQueryFromStore = function (options) {\n        return this.diffQueryAgainstStore(__assign(__assign({}, options), { returnPartialData: false })).result;\n    };\n    StoreReader.prototype.diffQueryAgainstStore = function (_a) {\n        var store = _a.store, query = _a.query, variables = _a.variables, previousResult = _a.previousResult, _b = _a.returnPartialData, returnPartialData = _b === void 0 ? true : _b, _c = _a.rootId, rootId = _c === void 0 ? 'ROOT_QUERY' : _c, fragmentMatcherFunction = _a.fragmentMatcherFunction, config = _a.config;\n        var queryDefinition = getQueryDefinition(query);\n        variables = assign({}, getDefaultValues(queryDefinition), variables);\n        var context = {\n            store: store,\n            dataIdFromObject: config && config.dataIdFromObject,\n            cacheRedirects: (config && config.cacheRedirects) || {},\n        };\n        var execResult = this.executeStoreQuery({\n            query: query,\n            rootValue: {\n                type: 'id',\n                id: rootId,\n                generated: true,\n                typename: 'Query',\n            },\n            contextValue: context,\n            variableValues: variables,\n            fragmentMatcher: fragmentMatcherFunction,\n        });\n        var hasMissingFields = execResult.missing && execResult.missing.length > 0;\n        if (hasMissingFields && !returnPartialData) {\n            execResult.missing.forEach(function (info) {\n                if (info.tolerable)\n                    return;\n                throw process.env.NODE_ENV === \"production\" ? new InvariantError(8) : new InvariantError(\"Can't find field \" + info.fieldName + \" on object \" + JSON.stringify(info.object, null, 2) + \".\");\n            });\n        }\n        if (previousResult) {\n            if (isEqual(previousResult, execResult.result)) {\n                execResult.result = previousResult;\n            }\n        }\n        return {\n            result: execResult.result,\n            complete: !hasMissingFields,\n        };\n    };\n    StoreReader.prototype.executeStoreQuery = function (_a) {\n        var query = _a.query, rootValue = _a.rootValue, contextValue = _a.contextValue, variableValues = _a.variableValues, _b = _a.fragmentMatcher, fragmentMatcher = _b === void 0 ? defaultFragmentMatcher : _b;\n        var mainDefinition = getMainDefinition(query);\n        var fragments = getFragmentDefinitions(query);\n        var fragmentMap = createFragmentMap(fragments);\n        var execContext = {\n            query: query,\n            fragmentMap: fragmentMap,\n            contextValue: contextValue,\n            variableValues: variableValues,\n            fragmentMatcher: fragmentMatcher,\n        };\n        return this.executeSelectionSet({\n            selectionSet: mainDefinition.selectionSet,\n            rootValue: rootValue,\n            execContext: execContext,\n        });\n    };\n    StoreReader.prototype.executeSelectionSet = function (_a) {\n        var _this = this;\n        var selectionSet = _a.selectionSet, rootValue = _a.rootValue, execContext = _a.execContext;\n        var fragmentMap = execContext.fragmentMap, contextValue = execContext.contextValue, variables = execContext.variableValues;\n        var finalResult = { result: null };\n        var objectsToMerge = [];\n        var object = contextValue.store.get(rootValue.id);\n        var typename = (object && object.__typename) ||\n            (rootValue.id === 'ROOT_QUERY' && 'Query') ||\n            void 0;\n        function handleMissing(result) {\n            var _a;\n            if (result.missing) {\n                finalResult.missing = finalResult.missing || [];\n                (_a = finalResult.missing).push.apply(_a, result.missing);\n            }\n            return result.result;\n        }\n        selectionSet.selections.forEach(function (selection) {\n            var _a;\n            if (!shouldInclude(selection, variables)) {\n                return;\n            }\n            if (isField(selection)) {\n                var fieldResult = handleMissing(_this.executeField(object, typename, selection, execContext));\n                if (typeof fieldResult !== 'undefined') {\n                    objectsToMerge.push((_a = {},\n                        _a[resultKeyNameFromField(selection)] = fieldResult,\n                        _a));\n                }\n            }\n            else {\n                var fragment = void 0;\n                if (isInlineFragment(selection)) {\n                    fragment = selection;\n                }\n                else {\n                    fragment = fragmentMap[selection.name.value];\n                    if (!fragment) {\n                        throw process.env.NODE_ENV === \"production\" ? new InvariantError(9) : new InvariantError(\"No fragment named \" + selection.name.value);\n                    }\n                }\n                var typeCondition = fragment.typeCondition && fragment.typeCondition.name.value;\n                var match = !typeCondition ||\n                    execContext.fragmentMatcher(rootValue, typeCondition, contextValue);\n                if (match) {\n                    var fragmentExecResult = _this.executeSelectionSet({\n                        selectionSet: fragment.selectionSet,\n                        rootValue: rootValue,\n                        execContext: execContext,\n                    });\n                    if (match === 'heuristic' && fragmentExecResult.missing) {\n                        fragmentExecResult = __assign(__assign({}, fragmentExecResult), { missing: fragmentExecResult.missing.map(function (info) {\n                                return __assign(__assign({}, info), { tolerable: true });\n                            }) });\n                    }\n                    objectsToMerge.push(handleMissing(fragmentExecResult));\n                }\n            }\n        });\n        finalResult.result = mergeDeepArray(objectsToMerge);\n        if (this.freezeResults && process.env.NODE_ENV !== 'production') {\n            Object.freeze(finalResult.result);\n        }\n        return finalResult;\n    };\n    StoreReader.prototype.executeField = function (object, typename, field, execContext) {\n        var variables = execContext.variableValues, contextValue = execContext.contextValue;\n        var fieldName = field.name.value;\n        var args = argumentsObjectFromField(field, variables);\n        var info = {\n            resultKey: resultKeyNameFromField(field),\n            directives: getDirectiveInfoFromField(field, variables),\n        };\n        var readStoreResult = readStoreResolver(object, typename, fieldName, args, contextValue, info);\n        if (Array.isArray(readStoreResult.result)) {\n            return this.combineExecResults(readStoreResult, this.executeSubSelectedArray({\n                field: field,\n                array: readStoreResult.result,\n                execContext: execContext,\n            }));\n        }\n        if (!field.selectionSet) {\n            assertSelectionSetForIdValue(field, readStoreResult.result);\n            if (this.freezeResults && process.env.NODE_ENV !== 'production') {\n                maybeDeepFreeze(readStoreResult);\n            }\n            return readStoreResult;\n        }\n        if (readStoreResult.result == null) {\n            return readStoreResult;\n        }\n        return this.combineExecResults(readStoreResult, this.executeSelectionSet({\n            selectionSet: field.selectionSet,\n            rootValue: readStoreResult.result,\n            execContext: execContext,\n        }));\n    };\n    StoreReader.prototype.combineExecResults = function () {\n        var execResults = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            execResults[_i] = arguments[_i];\n        }\n        var missing;\n        execResults.forEach(function (execResult) {\n            if (execResult.missing) {\n                missing = missing || [];\n                missing.push.apply(missing, execResult.missing);\n            }\n        });\n        return {\n            result: execResults.pop().result,\n            missing: missing,\n        };\n    };\n    StoreReader.prototype.executeSubSelectedArray = function (_a) {\n        var _this = this;\n        var field = _a.field, array = _a.array, execContext = _a.execContext;\n        var missing;\n        function handleMissing(childResult) {\n            if (childResult.missing) {\n                missing = missing || [];\n                missing.push.apply(missing, childResult.missing);\n            }\n            return childResult.result;\n        }\n        array = array.map(function (item) {\n            if (item === null) {\n                return null;\n            }\n            if (Array.isArray(item)) {\n                return handleMissing(_this.executeSubSelectedArray({\n                    field: field,\n                    array: item,\n                    execContext: execContext,\n                }));\n            }\n            if (field.selectionSet) {\n                return handleMissing(_this.executeSelectionSet({\n                    selectionSet: field.selectionSet,\n                    rootValue: item,\n                    execContext: execContext,\n                }));\n            }\n            assertSelectionSetForIdValue(field, item);\n            return item;\n        });\n        if (this.freezeResults && process.env.NODE_ENV !== 'production') {\n            Object.freeze(array);\n        }\n        return { result: array, missing: missing };\n    };\n    return StoreReader;\n}());\nfunction assertSelectionSetForIdValue(field, value) {\n    if (!field.selectionSet && isIdValue(value)) {\n        throw process.env.NODE_ENV === \"production\" ? new InvariantError(10) : new InvariantError(\"Missing selection set for object of type \" + value.typename + \" returned for query field \" + field.name.value);\n    }\n}\nfunction defaultFragmentMatcher() {\n    return true;\n}\nfunction assertIdValue(idValue) {\n    process.env.NODE_ENV === \"production\" ? invariant(isIdValue(idValue), 11) : invariant(isIdValue(idValue), \"Encountered a sub-selection on the query, but the store doesn't have an object reference. This should never happen during normal use unless you have custom code that is directly manipulating the store; please file an issue.\");\n}\nfunction readStoreResolver(object, typename, fieldName, args, context, _a) {\n    var resultKey = _a.resultKey, directives = _a.directives;\n    var storeKeyName = fieldName;\n    if (args || directives) {\n        storeKeyName = getStoreKeyName(storeKeyName, args, directives);\n    }\n    var fieldValue = void 0;\n    if (object) {\n        fieldValue = object[storeKeyName];\n        if (typeof fieldValue === 'undefined' &&\n            context.cacheRedirects &&\n            typeof typename === 'string') {\n            var type = context.cacheRedirects[typename];\n            if (type) {\n                var resolver = type[fieldName];\n                if (resolver) {\n                    fieldValue = resolver(object, args, {\n                        getCacheKey: function (storeObj) {\n                            var id = context.dataIdFromObject(storeObj);\n                            return id && toIdValue({\n                                id: id,\n                                typename: storeObj.__typename,\n                            });\n                        },\n                    });\n                }\n            }\n        }\n    }\n    if (typeof fieldValue === 'undefined') {\n        return {\n            result: fieldValue,\n            missing: [{\n                    object: object,\n                    fieldName: storeKeyName,\n                    tolerable: false,\n                }],\n        };\n    }\n    if (isJsonValue(fieldValue)) {\n        fieldValue = fieldValue.json;\n    }\n    return {\n        result: fieldValue,\n    };\n}\n\nvar ObjectCache = (function () {\n    function ObjectCache(data) {\n        if (data === void 0) { data = Object.create(null); }\n        this.data = data;\n    }\n    ObjectCache.prototype.toObject = function () {\n        return this.data;\n    };\n    ObjectCache.prototype.get = function (dataId) {\n        return this.data[dataId];\n    };\n    ObjectCache.prototype.set = function (dataId, value) {\n        this.data[dataId] = value;\n    };\n    ObjectCache.prototype.delete = function (dataId) {\n        this.data[dataId] = void 0;\n    };\n    ObjectCache.prototype.clear = function () {\n        this.data = Object.create(null);\n    };\n    ObjectCache.prototype.replace = function (newData) {\n        this.data = newData || Object.create(null);\n    };\n    return ObjectCache;\n}());\nfunction defaultNormalizedCacheFactory$1(seed) {\n    return new ObjectCache(seed);\n}\n\nvar WriteError = (function (_super) {\n    __extends(WriteError, _super);\n    function WriteError() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'WriteError';\n        return _this;\n    }\n    return WriteError;\n}(Error));\nfunction enhanceErrorWithDocument(error, document) {\n    var enhancedError = new WriteError(\"Error writing result to store for query:\\n \" + JSON.stringify(document));\n    enhancedError.message += '\\n' + error.message;\n    enhancedError.stack = error.stack;\n    return enhancedError;\n}\nvar StoreWriter = (function () {\n    function StoreWriter() {\n    }\n    StoreWriter.prototype.writeQueryToStore = function (_a) {\n        var query = _a.query, result = _a.result, _b = _a.store, store = _b === void 0 ? defaultNormalizedCacheFactory() : _b, variables = _a.variables, dataIdFromObject = _a.dataIdFromObject, fragmentMatcherFunction = _a.fragmentMatcherFunction;\n        return this.writeResultToStore({\n            dataId: 'ROOT_QUERY',\n            result: result,\n            document: query,\n            store: store,\n            variables: variables,\n            dataIdFromObject: dataIdFromObject,\n            fragmentMatcherFunction: fragmentMatcherFunction,\n        });\n    };\n    StoreWriter.prototype.writeResultToStore = function (_a) {\n        var dataId = _a.dataId, result = _a.result, document = _a.document, _b = _a.store, store = _b === void 0 ? defaultNormalizedCacheFactory() : _b, variables = _a.variables, dataIdFromObject = _a.dataIdFromObject, fragmentMatcherFunction = _a.fragmentMatcherFunction;\n        var operationDefinition = getOperationDefinition(document);\n        try {\n            return this.writeSelectionSetToStore({\n                result: result,\n                dataId: dataId,\n                selectionSet: operationDefinition.selectionSet,\n                context: {\n                    store: store,\n                    processedData: {},\n                    variables: assign({}, getDefaultValues(operationDefinition), variables),\n                    dataIdFromObject: dataIdFromObject,\n                    fragmentMap: createFragmentMap(getFragmentDefinitions(document)),\n                    fragmentMatcherFunction: fragmentMatcherFunction,\n                },\n            });\n        }\n        catch (e) {\n            throw enhanceErrorWithDocument(e, document);\n        }\n    };\n    StoreWriter.prototype.writeSelectionSetToStore = function (_a) {\n        var _this = this;\n        var result = _a.result, dataId = _a.dataId, selectionSet = _a.selectionSet, context = _a.context;\n        var variables = context.variables, store = context.store, fragmentMap = context.fragmentMap;\n        selectionSet.selections.forEach(function (selection) {\n            var _a;\n            if (!shouldInclude(selection, variables)) {\n                return;\n            }\n            if (isField(selection)) {\n                var resultFieldKey = resultKeyNameFromField(selection);\n                var value = result[resultFieldKey];\n                if (typeof value !== 'undefined') {\n                    _this.writeFieldToStore({\n                        dataId: dataId,\n                        value: value,\n                        field: selection,\n                        context: context,\n                    });\n                }\n                else {\n                    var isDefered = false;\n                    var isClient = false;\n                    if (selection.directives && selection.directives.length) {\n                        isDefered = selection.directives.some(function (directive) { return directive.name && directive.name.value === 'defer'; });\n                        isClient = selection.directives.some(function (directive) { return directive.name && directive.name.value === 'client'; });\n                    }\n                    if (!isDefered && !isClient && context.fragmentMatcherFunction) {\n                        process.env.NODE_ENV === \"production\" || invariant.warn(\"Missing field \" + resultFieldKey + \" in \" + JSON.stringify(result, null, 2).substring(0, 100));\n                    }\n                }\n            }\n            else {\n                var fragment = void 0;\n                if (isInlineFragment(selection)) {\n                    fragment = selection;\n                }\n                else {\n                    fragment = (fragmentMap || {})[selection.name.value];\n                    process.env.NODE_ENV === \"production\" ? invariant(fragment, 3) : invariant(fragment, \"No fragment named \" + selection.name.value + \".\");\n                }\n                var matches = true;\n                if (context.fragmentMatcherFunction && fragment.typeCondition) {\n                    var id = dataId || 'self';\n                    var idValue = toIdValue({ id: id, typename: undefined });\n                    var fakeContext = {\n                        store: new ObjectCache((_a = {}, _a[id] = result, _a)),\n                        cacheRedirects: {},\n                    };\n                    var match = context.fragmentMatcherFunction(idValue, fragment.typeCondition.name.value, fakeContext);\n                    if (!isProduction() && match === 'heuristic') {\n                        process.env.NODE_ENV === \"production\" || invariant.error('WARNING: heuristic fragment matching going on!');\n                    }\n                    matches = !!match;\n                }\n                if (matches) {\n                    _this.writeSelectionSetToStore({\n                        result: result,\n                        selectionSet: fragment.selectionSet,\n                        dataId: dataId,\n                        context: context,\n                    });\n                }\n            }\n        });\n        return store;\n    };\n    StoreWriter.prototype.writeFieldToStore = function (_a) {\n        var _b;\n        var field = _a.field, value = _a.value, dataId = _a.dataId, context = _a.context;\n        var variables = context.variables, dataIdFromObject = context.dataIdFromObject, store = context.store;\n        var storeValue;\n        var storeObject;\n        var storeFieldName = storeKeyNameFromField(field, variables);\n        if (!field.selectionSet || value === null) {\n            storeValue =\n                value != null && typeof value === 'object'\n                    ?\n                        { type: 'json', json: value }\n                    :\n                        value;\n        }\n        else if (Array.isArray(value)) {\n            var generatedId = dataId + \".\" + storeFieldName;\n            storeValue = this.processArrayValue(value, generatedId, field.selectionSet, context);\n        }\n        else {\n            var valueDataId = dataId + \".\" + storeFieldName;\n            var generated = true;\n            if (!isGeneratedId(valueDataId)) {\n                valueDataId = '$' + valueDataId;\n            }\n            if (dataIdFromObject) {\n                var semanticId = dataIdFromObject(value);\n                process.env.NODE_ENV === \"production\" ? invariant(!semanticId || !isGeneratedId(semanticId), 4) : invariant(!semanticId || !isGeneratedId(semanticId), 'IDs returned by dataIdFromObject cannot begin with the \"$\" character.');\n                if (semanticId ||\n                    (typeof semanticId === 'number' && semanticId === 0)) {\n                    valueDataId = semanticId;\n                    generated = false;\n                }\n            }\n            if (!isDataProcessed(valueDataId, field, context.processedData)) {\n                this.writeSelectionSetToStore({\n                    dataId: valueDataId,\n                    result: value,\n                    selectionSet: field.selectionSet,\n                    context: context,\n                });\n            }\n            var typename = value.__typename;\n            storeValue = toIdValue({ id: valueDataId, typename: typename }, generated);\n            storeObject = store.get(dataId);\n            var escapedId = storeObject && storeObject[storeFieldName];\n            if (escapedId !== storeValue && isIdValue(escapedId)) {\n                var hadTypename = escapedId.typename !== undefined;\n                var hasTypename = typename !== undefined;\n                var typenameChanged = hadTypename && hasTypename && escapedId.typename !== typename;\n                process.env.NODE_ENV === \"production\" ? invariant(!generated || escapedId.generated || typenameChanged, 5) : invariant(!generated || escapedId.generated || typenameChanged, \"Store error: the application attempted to write an object with no provided id but the store already contains an id of \" + escapedId.id + \" for this object. The selectionSet that was trying to be written is:\\n\" + JSON.stringify(field));\n                process.env.NODE_ENV === \"production\" ? invariant(!hadTypename || hasTypename, 6) : invariant(!hadTypename || hasTypename, \"Store error: the application attempted to write an object with no provided typename but the store already contains an object with typename of \" + escapedId.typename + \" for the object of id \" + escapedId.id + \". The selectionSet that was trying to be written is:\\n\" + JSON.stringify(field));\n                if (escapedId.generated) {\n                    if (typenameChanged) {\n                        if (!generated) {\n                            store.delete(escapedId.id);\n                        }\n                    }\n                    else {\n                        mergeWithGenerated(escapedId.id, storeValue.id, store);\n                    }\n                }\n            }\n        }\n        storeObject = store.get(dataId);\n        if (!storeObject || !isEqual(storeValue, storeObject[storeFieldName])) {\n            store.set(dataId, __assign(__assign({}, storeObject), (_b = {}, _b[storeFieldName] = storeValue, _b)));\n        }\n    };\n    StoreWriter.prototype.processArrayValue = function (value, generatedId, selectionSet, context) {\n        var _this = this;\n        return value.map(function (item, index) {\n            if (item === null) {\n                return null;\n            }\n            var itemDataId = generatedId + \".\" + index;\n            if (Array.isArray(item)) {\n                return _this.processArrayValue(item, itemDataId, selectionSet, context);\n            }\n            var generated = true;\n            if (context.dataIdFromObject) {\n                var semanticId = context.dataIdFromObject(item);\n                if (semanticId) {\n                    itemDataId = semanticId;\n                    generated = false;\n                }\n            }\n            if (!isDataProcessed(itemDataId, selectionSet, context.processedData)) {\n                _this.writeSelectionSetToStore({\n                    dataId: itemDataId,\n                    result: item,\n                    selectionSet: selectionSet,\n                    context: context,\n                });\n            }\n            return toIdValue({ id: itemDataId, typename: item.__typename }, generated);\n        });\n    };\n    return StoreWriter;\n}());\nfunction isGeneratedId(id) {\n    return id[0] === '$';\n}\nfunction mergeWithGenerated(generatedKey, realKey, cache) {\n    if (generatedKey === realKey) {\n        return false;\n    }\n    var generated = cache.get(generatedKey);\n    var real = cache.get(realKey);\n    var madeChanges = false;\n    Object.keys(generated).forEach(function (key) {\n        var value = generated[key];\n        var realValue = real[key];\n        if (isIdValue(value) &&\n            isGeneratedId(value.id) &&\n            isIdValue(realValue) &&\n            !isEqual(value, realValue) &&\n            mergeWithGenerated(value.id, realValue.id, cache)) {\n            madeChanges = true;\n        }\n    });\n    cache.delete(generatedKey);\n    var newRealValue = __assign(__assign({}, generated), real);\n    if (isEqual(newRealValue, real)) {\n        return madeChanges;\n    }\n    cache.set(realKey, newRealValue);\n    return true;\n}\nfunction isDataProcessed(dataId, field, processedData) {\n    if (!processedData) {\n        return false;\n    }\n    if (processedData[dataId]) {\n        if (processedData[dataId].indexOf(field) >= 0) {\n            return true;\n        }\n        else {\n            processedData[dataId].push(field);\n        }\n    }\n    else {\n        processedData[dataId] = [field];\n    }\n    return false;\n}\n\nvar defaultConfig = {\n    fragmentMatcher: new HeuristicFragmentMatcher(),\n    dataIdFromObject: defaultDataIdFromObject,\n    addTypename: true,\n    resultCaching: true,\n    freezeResults: false,\n};\nfunction defaultDataIdFromObject(result) {\n    if (result.__typename) {\n        if (result.id !== undefined) {\n            return result.__typename + \":\" + result.id;\n        }\n        if (result._id !== undefined) {\n            return result.__typename + \":\" + result._id;\n        }\n    }\n    return null;\n}\nvar hasOwn$1 = Object.prototype.hasOwnProperty;\nvar OptimisticCacheLayer = (function (_super) {\n    __extends(OptimisticCacheLayer, _super);\n    function OptimisticCacheLayer(optimisticId, parent, transaction) {\n        var _this = _super.call(this, Object.create(null)) || this;\n        _this.optimisticId = optimisticId;\n        _this.parent = parent;\n        _this.transaction = transaction;\n        return _this;\n    }\n    OptimisticCacheLayer.prototype.toObject = function () {\n        return __assign(__assign({}, this.parent.toObject()), this.data);\n    };\n    OptimisticCacheLayer.prototype.get = function (dataId) {\n        return hasOwn$1.call(this.data, dataId)\n            ? this.data[dataId]\n            : this.parent.get(dataId);\n    };\n    return OptimisticCacheLayer;\n}(ObjectCache));\nvar InMemoryCache = (function (_super) {\n    __extends(InMemoryCache, _super);\n    function InMemoryCache(config) {\n        if (config === void 0) { config = {}; }\n        var _this = _super.call(this) || this;\n        _this.watches = new Set();\n        _this.typenameDocumentCache = new Map();\n        _this.cacheKeyRoot = new KeyTrie(canUseWeakMap);\n        _this.silenceBroadcast = false;\n        _this.config = __assign(__assign({}, defaultConfig), config);\n        if (_this.config.customResolvers) {\n            process.env.NODE_ENV === \"production\" || invariant.warn('customResolvers have been renamed to cacheRedirects. Please update your config as we will be deprecating customResolvers in the next major version.');\n            _this.config.cacheRedirects = _this.config.customResolvers;\n        }\n        if (_this.config.cacheResolvers) {\n            process.env.NODE_ENV === \"production\" || invariant.warn('cacheResolvers have been renamed to cacheRedirects. Please update your config as we will be deprecating cacheResolvers in the next major version.');\n            _this.config.cacheRedirects = _this.config.cacheResolvers;\n        }\n        _this.addTypename = !!_this.config.addTypename;\n        _this.data = _this.config.resultCaching\n            ? new DepTrackingCache()\n            : new ObjectCache();\n        _this.optimisticData = _this.data;\n        _this.storeWriter = new StoreWriter();\n        _this.storeReader = new StoreReader({\n            cacheKeyRoot: _this.cacheKeyRoot,\n            freezeResults: config.freezeResults,\n        });\n        var cache = _this;\n        var maybeBroadcastWatch = cache.maybeBroadcastWatch;\n        _this.maybeBroadcastWatch = wrap(function (c) {\n            return maybeBroadcastWatch.call(_this, c);\n        }, {\n            makeCacheKey: function (c) {\n                if (c.optimistic) {\n                    return;\n                }\n                if (c.previousResult) {\n                    return;\n                }\n                if (cache.data instanceof DepTrackingCache) {\n                    return cache.cacheKeyRoot.lookup(c.query, JSON.stringify(c.variables));\n                }\n            }\n        });\n        return _this;\n    }\n    InMemoryCache.prototype.restore = function (data) {\n        if (data)\n            this.data.replace(data);\n        return this;\n    };\n    InMemoryCache.prototype.extract = function (optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return (optimistic ? this.optimisticData : this.data).toObject();\n    };\n    InMemoryCache.prototype.read = function (options) {\n        if (typeof options.rootId === 'string' &&\n            typeof this.data.get(options.rootId) === 'undefined') {\n            return null;\n        }\n        var fragmentMatcher = this.config.fragmentMatcher;\n        var fragmentMatcherFunction = fragmentMatcher && fragmentMatcher.match;\n        return this.storeReader.readQueryFromStore({\n            store: options.optimistic ? this.optimisticData : this.data,\n            query: this.transformDocument(options.query),\n            variables: options.variables,\n            rootId: options.rootId,\n            fragmentMatcherFunction: fragmentMatcherFunction,\n            previousResult: options.previousResult,\n            config: this.config,\n        }) || null;\n    };\n    InMemoryCache.prototype.write = function (write) {\n        var fragmentMatcher = this.config.fragmentMatcher;\n        var fragmentMatcherFunction = fragmentMatcher && fragmentMatcher.match;\n        this.storeWriter.writeResultToStore({\n            dataId: write.dataId,\n            result: write.result,\n            variables: write.variables,\n            document: this.transformDocument(write.query),\n            store: this.data,\n            dataIdFromObject: this.config.dataIdFromObject,\n            fragmentMatcherFunction: fragmentMatcherFunction,\n        });\n        this.broadcastWatches();\n    };\n    InMemoryCache.prototype.diff = function (query) {\n        var fragmentMatcher = this.config.fragmentMatcher;\n        var fragmentMatcherFunction = fragmentMatcher && fragmentMatcher.match;\n        return this.storeReader.diffQueryAgainstStore({\n            store: query.optimistic ? this.optimisticData : this.data,\n            query: this.transformDocument(query.query),\n            variables: query.variables,\n            returnPartialData: query.returnPartialData,\n            previousResult: query.previousResult,\n            fragmentMatcherFunction: fragmentMatcherFunction,\n            config: this.config,\n        });\n    };\n    InMemoryCache.prototype.watch = function (watch) {\n        var _this = this;\n        this.watches.add(watch);\n        return function () {\n            _this.watches.delete(watch);\n        };\n    };\n    InMemoryCache.prototype.evict = function (query) {\n        throw process.env.NODE_ENV === \"production\" ? new InvariantError(7) : new InvariantError(\"eviction is not implemented on InMemory Cache\");\n    };\n    InMemoryCache.prototype.reset = function () {\n        this.data.clear();\n        this.broadcastWatches();\n        return Promise.resolve();\n    };\n    InMemoryCache.prototype.removeOptimistic = function (idToRemove) {\n        var toReapply = [];\n        var removedCount = 0;\n        var layer = this.optimisticData;\n        while (layer instanceof OptimisticCacheLayer) {\n            if (layer.optimisticId === idToRemove) {\n                ++removedCount;\n            }\n            else {\n                toReapply.push(layer);\n            }\n            layer = layer.parent;\n        }\n        if (removedCount > 0) {\n            this.optimisticData = layer;\n            while (toReapply.length > 0) {\n                var layer_1 = toReapply.pop();\n                this.performTransaction(layer_1.transaction, layer_1.optimisticId);\n            }\n            this.broadcastWatches();\n        }\n    };\n    InMemoryCache.prototype.performTransaction = function (transaction, optimisticId) {\n        var _a = this, data = _a.data, silenceBroadcast = _a.silenceBroadcast;\n        this.silenceBroadcast = true;\n        if (typeof optimisticId === 'string') {\n            this.data = this.optimisticData = new OptimisticCacheLayer(optimisticId, this.optimisticData, transaction);\n        }\n        try {\n            transaction(this);\n        }\n        finally {\n            this.silenceBroadcast = silenceBroadcast;\n            this.data = data;\n        }\n        this.broadcastWatches();\n    };\n    InMemoryCache.prototype.recordOptimisticTransaction = function (transaction, id) {\n        return this.performTransaction(transaction, id);\n    };\n    InMemoryCache.prototype.transformDocument = function (document) {\n        if (this.addTypename) {\n            var result = this.typenameDocumentCache.get(document);\n            if (!result) {\n                result = addTypenameToDocument(document);\n                this.typenameDocumentCache.set(document, result);\n                this.typenameDocumentCache.set(result, result);\n            }\n            return result;\n        }\n        return document;\n    };\n    InMemoryCache.prototype.broadcastWatches = function () {\n        var _this = this;\n        if (!this.silenceBroadcast) {\n            this.watches.forEach(function (c) { return _this.maybeBroadcastWatch(c); });\n        }\n    };\n    InMemoryCache.prototype.maybeBroadcastWatch = function (c) {\n        c.callback(this.diff({\n            query: c.query,\n            variables: c.variables,\n            previousResult: c.previousResult && c.previousResult(),\n            optimistic: c.optimistic,\n        }));\n    };\n    return InMemoryCache;\n}(ApolloCache));\n\nexport { HeuristicFragmentMatcher, InMemoryCache, IntrospectionFragmentMatcher, ObjectCache, StoreReader, StoreWriter, WriteError, assertIdValue, defaultDataIdFromObject, defaultNormalizedCacheFactory$1 as defaultNormalizedCacheFactory, enhanceErrorWithDocument };\n//# sourceMappingURL=bundle.esm.js.map\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/* eslint-disable no-console */\nvar bindToConsole = function bindToConsole(consoleMethod, polyfill) {\n  return consoleMethod ? consoleMethod.bind(console) : polyfill;\n};\n\nvar logging = function () {\n  var prefix = '';\n\n  var consoleLog = function consoleLog() {\n    var _console;\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    (_console = console).log.apply(_console, [prefix].concat(args));\n  };\n\n  var consoleError = function consoleError() {\n    var _console2;\n\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    (_console2 = console).error.apply(_console2, [prefix].concat(args));\n  };\n\n  var consoleGroup = function consoleGroup() {\n    consoleLog.apply(undefined, arguments);\n    prefix += '> ';\n  };\n\n  var consoleGroupEnd = function consoleGroupEnd() {\n    prefix = prefix.slice(0, -2);\n  };\n\n  return {\n    log: consoleLog,\n    error: consoleError,\n    group: bindToConsole(console.group, consoleGroup),\n    groupCollapsed: bindToConsole(console.groupCollapsed, consoleGroup),\n    groupEnd: bindToConsole(console.groupEnd, consoleGroupEnd)\n  };\n}();\n\nexports.default = logging;","\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar isomorphic_unfetch_1 = __importDefault(require(\"isomorphic-unfetch\"));\n\nvar createClient_1 = __importDefault(require(\"./createClient\"));\n\nvar isBrowser = true; // Polyfill fetch() on the server (used by apollo-client)\n\nif (!isBrowser) {\n  global.fetch = isomorphic_unfetch_1[\"default\"];\n}\n\nvar apolloClient;\n\nfunction initApollo(initialState, options) {\n  // Make sure to create a new client for every server-side request so that data\n  // isn't shared between connections (which would be bad)\n  if (!isBrowser) {\n    return createClient_1[\"default\"](initialState, options);\n  } // Reuse client on the client-side\n\n\n  if (!apolloClient) {\n    apolloClient = createClient_1[\"default\"](initialState, options);\n  }\n\n  return apolloClient;\n}\n\nexports[\"default\"] = initApollo;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar formatMessage = function formatMessage(operationType, operation, ellapsed) {\n  var headerCss = ['color: gray; font-weight: lighter', // title\n  'color: ' + (operationType === 'query' ? '#03A9F4' : 'red') + ';', // operationType\n  'color: inherit;'];\n\n  var parts = ['%c apollo', '%c' + operationType, '%c' + operation.operationName];\n\n  if (operationType !== 'subscription') {\n    parts.push('%c(in ' + ellapsed + ' ms)');\n    headerCss.push('color: gray; font-weight: lighter;'); // time\n  }\n\n  return [parts.join(' ')].concat(headerCss);\n};\n\nexports.default = formatMessage;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar apollo_cache_inmemory_1 = require(\"apollo-cache-inmemory\");\n\nvar cache = new apollo_cache_inmemory_1.InMemoryCache({\n  dataIdFromObject: function dataIdFromObject(object) {\n    switch (object.__typename) {\n      case 'Post':\n        return object.id;\n      // use `id` as the primary key\n\n      case 'Project':\n        return object.id;\n\n      case 'Category':\n        return object.id;\n\n      case 'User':\n        return object.id;\n\n      default:\n        return apollo_cache_inmemory_1.defaultDataIdFromObject(object);\n      // fall back to default handling\n    }\n  }\n});\nexports[\"default\"] = cache;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _client = require('@apollo/client');\n\nvar _formatMessage = require('./formatMessage');\n\nvar _formatMessage2 = _interopRequireDefault(_formatMessage);\n\nvar _logging = require('./logging');\n\nvar _logging2 = _interopRequireDefault(_logging);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } } /* eslint-disable import/no-unresolved,import/extensions */\n\n\nvar loggerLink = new _client.ApolloLink(function (operation, forward) {\n  var startTime = new Date().getTime();\n\n  return forward(operation).map(function (result) {\n    var operationType = operation.query.definitions[0].operation;\n    var ellapsed = new Date().getTime() - startTime;\n\n    var group = (0, _formatMessage2.default)(operationType, operation, ellapsed);\n\n    _logging2.default.groupCollapsed.apply(_logging2.default, _toConsumableArray(group));\n\n    _logging2.default.log('INIT', operation);\n    _logging2.default.log('RESULT', result);\n\n    _logging2.default.groupEnd.apply(_logging2.default, _toConsumableArray(group));\n    return result;\n  });\n});\n\nexports.default = loggerLink;","\"use strict\";/* globals self */var fetch=self.fetch.bind(self);module.exports=fetch;module.exports.default=module.exports;\n//# sourceMappingURL=index.js.map","import { __rest } from 'tslib';\nimport { ApolloLink, Observable } from 'apollo-link';\n\nfunction setContext(setter) {\n    return new ApolloLink(function (operation, forward) {\n        var request = __rest(operation, []);\n        return new Observable(function (observer) {\n            var handle;\n            Promise.resolve(request)\n                .then(function (req) { return setter(req, operation.getContext()); })\n                .then(operation.setContext)\n                .then(function () {\n                handle = forward(operation).subscribe({\n                    next: observer.next.bind(observer),\n                    error: observer.error.bind(observer),\n                    complete: observer.complete.bind(observer),\n                });\n            })\n                .catch(observer.error.bind(observer));\n            return function () {\n                if (handle)\n                    handle.unsubscribe();\n            };\n        });\n    });\n}\n\nexport { setContext };\n//# sourceMappingURL=bundle.esm.js.map\n"]}}